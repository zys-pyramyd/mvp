/*! For license information please see main.8794114b.js.LICENSE.txt */
(()=>{"use strict";var e={730:(e,t,r)=>{var n=r(43),a=r(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,i={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function x(e,t,r,n,a,s,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var h={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){h[e]=new x(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];h[t]=new x(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){h[e]=new x(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){h[e]=new x(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){h[e]=new x(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){h[e]=new x(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){h[e]=new x(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){h[e]=new x(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){h[e]=new x(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,r,n){var a=h.hasOwnProperty(t)?h[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!u.call(f,e)||!u.call(p,e)&&(m.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);h[t]=new x(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);h[t]=new x(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);h[t]=new x(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){h[e]=new x(e,1,!1,e.toLowerCase(),null,!1,!1)})),h.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){h[e]=new x(e,1,!1,e.toLowerCase(),null,!0,!0)}));var v=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),S=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var O,R=Object.assign;function A(e){if(void 0===O)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var I=!1;function B(e,t){if(!e||I)return"";I=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=n.stack.split("\n"),l=a.length-1,i=s.length-1;1<=l&&0<=i&&a[l]!==s[i];)i--;for(;1<=l&&0<=i;l--,i--)if(a[l]!==s[i]){if(1!==l||1!==i)do{if(l--,0>--i||a[l]!==s[i]){var o="\n"+a[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=l&&0<=i);break}}}finally{I=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?A(e):""}function H(e){switch(e.tag){case 5:return A(e.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case N:return"Portal";case k:return"Profiler";case _:return"StrictMode";case P:return"Suspense";case z:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case L:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return U(e(t))}catch(r){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=W(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var r=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function G(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=V(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Z(e,t);var r=V(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&Q(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+V(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(s(92));if(te(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:V(r)}}function se(e,t){var r=V(t.value),n=V(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function me(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function xe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function he(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=xe(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ge=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,we=null,_e=null;function ke(e){if(e=ba(e)){if("function"!==typeof Ne)throw Error(s(280));var t=e.stateNode;t&&(t=ja(t),Ne(e.stateNode,e.type,t))}}function Ce(e){we?_e?_e.push(e):_e=[e]:we=e}function Se(){if(we){var e=we,t=_e;if(_e=we=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ee(e,t){return e(t)}function Pe(){}var ze=!1;function Le(e,t,r){if(ze)return e(t,r);ze=!0;try{return Ee(e,t,r)}finally{ze=!1,(null!==we||null!==_e)&&(Pe(),Se())}}function De(e,t){var r=e.stateNode;if(null===r)return null;var n=ja(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var Te=!1;if(d)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){Te=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(de){Te=!1}function Me(e,t,r,n,a,s,l,i,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Oe=!1,Re=null,Ae=!1,Ie=null,Be={onError:function(e){Oe=!0,Re=e}};function He(e,t,r,n,a,s,l,i,o){Oe=!1,Re=null,Me.apply(Be,arguments)}function Ue(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var l=a.alternate;if(null===l){if(null!==(n=a.return)){r=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return Ve(a),e;if(l===n)return Ve(a),t;l=l.sibling}throw Error(s(188))}if(r.return!==n.return)r=a,n=l;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=l;break}if(o===n){i=!0,n=a,r=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===r){i=!0,r=l,n=a;break}if(o===n){i=!0,n=l,r=a;break}o=o.sibling}if(!i)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var $e=a.unstable_scheduleCallback,Qe=a.unstable_cancelCallback,Ke=a.unstable_shouldYield,Ge=a.unstable_requestPaint,Ze=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,Xe=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,at=null,st=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/ot|0)|0},it=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,l=268435455&r;if(0!==l){var i=l&~a;0!==i?n=ut(i):0!==(s&=l)&&(n=ut(s))}else 0!==(l=r&~a)?n=ut(l):0!==s&&(n=ut(s));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-lt(t)),n|=e[r],t&=~a;return n}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function xt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function ht(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=r}function yt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-lt(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var bt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,Nt,wt,_t,kt,Ct=!1,St=[],Et=null,Pt=null,zt=null,Lt=new Map,Dt=new Map,Tt=[],Ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":Lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Ot(e,t,r,n,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&Nt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Rt(e){var t=ya(e.target);if(null!==t){var r=Ue(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=qe(r)))return e.blockedOn=t,void kt(e.priority,(function(){wt(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function At(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=ba(r))&&Nt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);ve=n,r.target.dispatchEvent(n),ve=null,t.shift()}return!0}function It(e,t,r){At(e)&&r.delete(t)}function Bt(){Ct=!1,null!==Et&&At(Et)&&(Et=null),null!==Pt&&At(Pt)&&(Pt=null),null!==zt&&At(zt)&&(zt=null),Lt.forEach(It),Dt.forEach(It)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return Ht(t,e)}if(0<St.length){Ht(St[0],e);for(var r=1;r<St.length;r++){var n=St[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Et&&Ht(Et,e),null!==Pt&&Ht(Pt,e),null!==zt&&Ht(zt,e),Lt.forEach(t),Dt.forEach(t),r=0;r<Tt.length;r++)(n=Tt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Tt.length&&null===(r=Tt[0]).blockedOn;)Rt(r),null===r.blockedOn&&Tt.shift()}var qt=v.ReactCurrentBatchConfig,Vt=!0;function Wt(e,t,r,n){var a=bt,s=qt.transition;qt.transition=null;try{bt=1,$t(e,t,r,n)}finally{bt=a,qt.transition=s}}function Yt(e,t,r,n){var a=bt,s=qt.transition;qt.transition=null;try{bt=4,$t(e,t,r,n)}finally{bt=a,qt.transition=s}}function $t(e,t,r,n){if(Vt){var a=Kt(e,t,r,n);if(null===a)Vn(e,t,n,Qt,r),Mt(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return Et=Ot(Et,e,t,r,n,a),!0;case"dragenter":return Pt=Ot(Pt,e,t,r,n,a),!0;case"mouseover":return zt=Ot(zt,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Lt.set(s,Ot(Lt.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Dt.set(s,Ot(Dt.get(s)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(Mt(e,n),4&t&&-1<Ft.indexOf(e)){for(;null!==a;){var s=ba(a);if(null!==s&&jt(s),null===(s=Kt(e,t,r,n))&&Vn(e,t,n,Qt,r),s===a)break;a=s}null!==a&&n.stopPropagation()}else Vn(e,t,n,null,r)}}var Qt=null;function Kt(e,t,r,n){if(Qt=null,null!==(e=ya(e=je(n))))if(null===(t=Ue(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Xe:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Zt=null,Jt=null,Xt=null;function er(){if(Xt)return Xt;var e,t,r=Jt,n=r.length,a="value"in Zt?Zt.value:Zt.textContent,s=a.length;for(e=0;e<n&&r[e]===a[e];e++);var l=n-e;for(t=1;t<=l&&r[n-t]===a[s-t];t++);return Xt=a.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ar(e){function t(t,r,n,a,s){for(var l in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(a):a[l]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var sr,lr,ir,or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=ar(or),dr=R({},or,{view:0,detail:0}),ur=ar(dr),mr=R({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ir&&(ir&&"mousemove"===e.type?(sr=e.screenX-ir.screenX,lr=e.screenY-ir.screenY):lr=sr=0,ir=e),sr)},movementY:function(e){return"movementY"in e?e.movementY:lr}}),pr=ar(mr),fr=ar(R({},mr,{dataTransfer:0})),xr=ar(R({},dr,{relatedTarget:0})),hr=ar(R({},or,{animationName:0,elapsedTime:0,pseudoElement:0})),gr=R({},or,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yr=ar(gr),br=ar(R({},or,{data:0})),vr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nr[e])&&!!t[e]}function _r(){return wr}var kr=R({},dr,{key:function(e){if(e.key){var t=vr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cr=ar(kr),Sr=ar(R({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Er=ar(R({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r})),Pr=ar(R({},or,{propertyName:0,elapsedTime:0,pseudoElement:0})),zr=R({},mr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lr=ar(zr),Dr=[9,13,27,32],Tr=d&&"CompositionEvent"in window,Fr=null;d&&"documentMode"in document&&(Fr=document.documentMode);var Mr=d&&"TextEvent"in window&&!Fr,Or=d&&(!Tr||Fr&&8<Fr&&11>=Fr),Rr=String.fromCharCode(32),Ar=!1;function Ir(e,t){switch(e){case"keyup":return-1!==Dr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Br(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hr=!1;var Ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ur[e.type]:"textarea"===t}function Vr(e,t,r,n){Ce(n),0<(t=Yn(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Wr=null,Yr=null;function $r(e){An(e,0)}function Qr(e){if($(va(e)))return e}function Kr(e,t){if("change"===e)return t}var Gr=!1;if(d){var Zr;if(d){var Jr="oninput"in document;if(!Jr){var Xr=document.createElement("div");Xr.setAttribute("oninput","return;"),Jr="function"===typeof Xr.oninput}Zr=Jr}else Zr=!1;Gr=Zr&&(!document.documentMode||9<document.documentMode)}function en(){Wr&&(Wr.detachEvent("onpropertychange",tn),Yr=Wr=null)}function tn(e){if("value"===e.propertyName&&Qr(Yr)){var t=[];Vr(t,Yr,e,je(e)),Le($r,t)}}function rn(e,t,r){"focusin"===e?(en(),Yr=r,(Wr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qr(Yr)}function an(e,t){if("click"===e)return Qr(t)}function sn(e,t){if("input"===e||"change"===e)return Qr(t)}var ln="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function on(e,t){if(ln(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!u.call(t,a)||!ln(e[a],t[a]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mn(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=Q((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fn(e){var t=mn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&un(r.ownerDocument.documentElement,r)){if(null!==n&&pn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=void 0===n.end?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=dn(r,s);var l=dn(r,n);a&&l&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xn=d&&"documentMode"in document&&11>=document.documentMode,hn=null,gn=null,yn=null,bn=!1;function vn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==hn||hn!==Q(n)||("selectionStart"in(n=hn)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&on(yn,n)||(yn=n,0<(n=Yn(gn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=hn)))}function jn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Nn={animationend:jn("Animation","AnimationEnd"),animationiteration:jn("Animation","AnimationIteration"),animationstart:jn("Animation","AnimationStart"),transitionend:jn("Transition","TransitionEnd")},wn={},_n={};function kn(e){if(wn[e])return wn[e];if(!Nn[e])return e;var t,r=Nn[e];for(t in r)if(r.hasOwnProperty(t)&&t in _n)return wn[e]=r[t];return e}d&&(_n=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);var Cn=kn("animationend"),Sn=kn("animationiteration"),En=kn("animationstart"),Pn=kn("transitionend"),zn=new Map,Ln="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dn(e,t){zn.set(e,t),o(t,[e])}for(var Tn=0;Tn<Ln.length;Tn++){var Fn=Ln[Tn];Dn(Fn.toLowerCase(),"on"+(Fn[0].toUpperCase()+Fn.slice(1)))}Dn(Cn,"onAnimationEnd"),Dn(Sn,"onAnimationIteration"),Dn(En,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(Pn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),On=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mn));function Rn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,l,i,o,c){if(He.apply(this,arguments),Oe){if(!Oe)throw Error(s(198));var d=Re;Oe=!1,Re=null,Ae||(Ae=!0,Ie=d)}}(n,t,void 0,e),e.currentTarget=null}function An(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var l=n.length-1;0<=l;l--){var i=n[l],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==s&&a.isPropagationStopped())break e;Rn(a,i,c),s=o}else for(l=0;l<n.length;l++){if(o=(i=n[l]).instance,c=i.currentTarget,i=i.listener,o!==s&&a.isPropagationStopped())break e;Rn(a,i,c),s=o}}}if(Ae)throw e=Ie,Ae=!1,Ie=null,e}function In(e,t){var r=t[xa];void 0===r&&(r=t[xa]=new Set);var n=e+"__bubble";r.has(n)||(qn(t,e,2,!1),r.add(n))}function Bn(e,t,r){var n=0;t&&(n|=4),qn(r,e,n,t)}var Hn="_reactListening"+Math.random().toString(36).slice(2);function Un(e){if(!e[Hn]){e[Hn]=!0,l.forEach((function(t){"selectionchange"!==t&&(On.has(t)||Bn(t,!1,e),Bn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hn]||(t[Hn]=!0,Bn("selectionchange",!1,t))}}function qn(e,t,r,n){switch(Gt(t)){case 1:var a=Wt;break;case 4:a=Yt;break;default:a=$t}r=a.bind(null,t,r,e),a=void 0,!Te||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Vn(e,t,r,n,a){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var l=n.tag;if(3===l||4===l){var i=n.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===l)for(l=n.return;null!==l;){var o=l.tag;if((3===o||4===o)&&((o=l.stateNode.containerInfo)===a||8===o.nodeType&&o.parentNode===a))return;l=l.return}for(;null!==i;){if(null===(l=ya(i)))return;if(5===(o=l.tag)||6===o){n=s=l;continue e}i=i.parentNode}}n=n.return}Le((function(){var n=s,a=je(r),l=[];e:{var i=zn.get(e);if(void 0!==i){var o=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":o=Cr;break;case"focusin":c="focus",o=xr;break;case"focusout":c="blur",o=xr;break;case"beforeblur":case"afterblur":o=xr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=fr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Er;break;case Cn:case Sn:case En:o=hr;break;case Pn:o=Pr;break;case"scroll":o=ur;break;case"wheel":o=Lr;break;case"copy":case"cut":case"paste":o=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Sr}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==i?i+"Capture":null:i;d=[];for(var p,f=n;null!==f;){var x=(p=f).stateNode;if(5===p.tag&&null!==x&&(p=x,null!==m&&(null!=(x=De(f,m))&&d.push(Wn(f,x,p)))),u)break;f=f.return}0<d.length&&(i=new o(i,c,null,r,a),l.push({event:i,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||r===ve||!(c=r.relatedTarget||r.fromElement)||!ya(c)&&!c[fa])&&(o||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=n,null!==(c=(c=r.relatedTarget||r.toElement)?ya(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=n),o!==c)){if(d=pr,x="onMouseLeave",m="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=Sr,x="onPointerLeave",m="onPointerEnter",f="pointer"),u=null==o?i:va(o),p=null==c?i:va(c),(i=new d(x,f+"leave",o,r,a)).target=u,i.relatedTarget=p,x=null,ya(a)===n&&((d=new d(m,f+"enter",c,r,a)).target=p,d.relatedTarget=u,x=d),u=x,o&&c)e:{for(m=c,f=0,p=d=o;p;p=$n(p))f++;for(p=0,x=m;x;x=$n(x))p++;for(;0<f-p;)d=$n(d),f--;for(;0<p-f;)m=$n(m),p--;for(;f--;){if(d===m||null!==m&&d===m.alternate)break e;d=$n(d),m=$n(m)}d=null}else d=null;null!==o&&Qn(l,i,o,d,!1),null!==c&&null!==u&&Qn(l,u,c,d,!0)}if("select"===(o=(i=n?va(n):window).nodeName&&i.nodeName.toLowerCase())||"input"===o&&"file"===i.type)var h=Kr;else if(qr(i))if(Gr)h=sn;else{h=nn;var g=rn}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(h=an);switch(h&&(h=h(e,n))?Vr(l,h,r,a):(g&&g(e,i,n),"focusout"===e&&(g=i._wrapperState)&&g.controlled&&"number"===i.type&&ee(i,"number",i.value)),g=n?va(n):window,e){case"focusin":(qr(g)||"true"===g.contentEditable)&&(hn=g,gn=n,yn=null);break;case"focusout":yn=gn=hn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,vn(l,r,a);break;case"selectionchange":if(xn)break;case"keydown":case"keyup":vn(l,r,a)}var y;if(Tr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hr?Ir(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Or&&"ko"!==r.locale&&(Hr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hr&&(y=er()):(Jt="value"in(Zt=a)?Zt.value:Zt.textContent,Hr=!0)),0<(g=Yn(n,b)).length&&(b=new br(b,e,null,r,a),l.push({event:b,listeners:g}),y?b.data=y:null!==(y=Br(r))&&(b.data=y))),(y=Mr?function(e,t){switch(e){case"compositionend":return Br(t);case"keypress":return 32!==t.which?null:(Ar=!0,Rr);case"textInput":return(e=t.data)===Rr&&Ar?null:e;default:return null}}(e,r):function(e,t){if(Hr)return"compositionend"===e||!Tr&&Ir(e,t)?(e=er(),Xt=Jt=Zt=null,Hr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Or&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Yn(n,"onBeforeInput")).length&&(a=new br("onBeforeInput","beforeinput",null,r,a),l.push({event:a,listeners:n}),a.data=y))}An(l,t)}))}function Wn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Yn(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=De(e,r))&&n.unshift(Wn(e,s,a)),null!=(s=De(e,t))&&n.push(Wn(e,s,a))),e=e.return}return n}function $n(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qn(e,t,r,n,a){for(var s=t._reactName,l=[];null!==r&&r!==n;){var i=r,o=i.alternate,c=i.stateNode;if(null!==o&&o===n)break;5===i.tag&&null!==c&&(i=c,a?null!=(o=De(r,s))&&l.unshift(Wn(r,o,i)):a||null!=(o=De(r,s))&&l.push(Wn(r,o,i))),r=r.return}0!==l.length&&e.push({event:t,listeners:l})}var Kn=/\r\n?/g,Gn=/\u0000|\uFFFD/g;function Zn(e){return("string"===typeof e?e:""+e).replace(Kn,"\n").replace(Gn,"")}function Jn(e,t,r){if(t=Zn(t),Zn(e)!==t&&r)throw Error(s(425))}function Xn(){}var ea=null,ta=null;function ra(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,la="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(ia)}:na;function ia(e){setTimeout((function(){throw e}))}function oa(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void Ut(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);Ut(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function da(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),ma="__reactFiber$"+ua,pa="__reactProps$"+ua,fa="__reactContainer$"+ua,xa="__reactEvents$"+ua,ha="__reactListeners$"+ua,ga="__reactHandles$"+ua;function ya(e){var t=e[ma];if(t)return t;for(var r=e.parentNode;r;){if(t=r[fa]||r[ma]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=da(e);null!==e;){if(r=e[ma])return r;e=da(e)}return t}r=(e=r).parentNode}return null}function ba(e){return!(e=e[ma]||e[fa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function va(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ja(e){return e[pa]||null}var Na=[],wa=-1;function _a(e){return{current:e}}function ka(e){0>wa||(e.current=Na[wa],Na[wa]=null,wa--)}function Ca(e,t){wa++,Na[wa]=e.current,e.current=t}var Sa={},Ea=_a(Sa),Pa=_a(!1),za=Sa;function La(e,t){var r=e.type.contextTypes;if(!r)return Sa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in r)s[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Da(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ta(){ka(Pa),ka(Ea)}function Fa(e,t,r){if(Ea.current!==Sa)throw Error(s(168));Ca(Ea,t),Ca(Pa,r)}function Ma(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(s(108,q(e)||"Unknown",a));return R({},r,n)}function Oa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sa,za=Ea.current,Ca(Ea,e),Ca(Pa,Pa.current),!0}function Ra(e,t,r){var n=e.stateNode;if(!n)throw Error(s(169));r?(e=Ma(e,t,za),n.__reactInternalMemoizedMergedChildContext=e,ka(Pa),ka(Ea),Ca(Ea,e)):ka(Pa),Ca(Pa,r)}var Aa=null,Ia=!1,Ba=!1;function Ha(e){null===Aa?Aa=[e]:Aa.push(e)}function Ua(){if(!Ba&&null!==Aa){Ba=!0;var e=0,t=bt;try{var r=Aa;for(bt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Aa=null,Ia=!1}catch(a){throw null!==Aa&&(Aa=Aa.slice(e+1)),$e(Xe,Ua),a}finally{bt=t,Ba=!1}}return null}var qa=[],Va=0,Wa=null,Ya=0,$a=[],Qa=0,Ka=null,Ga=1,Za="";function Ja(e,t){qa[Va++]=Ya,qa[Va++]=Wa,Wa=e,Ya=t}function Xa(e,t,r){$a[Qa++]=Ga,$a[Qa++]=Za,$a[Qa++]=Ka,Ka=e;var n=Ga;e=Za;var a=32-lt(n)-1;n&=~(1<<a),r+=1;var s=32-lt(t)+a;if(30<s){var l=a-a%5;s=(n&(1<<l)-1).toString(32),n>>=l,a-=l,Ga=1<<32-lt(t)+a|r<<a|n,Za=s+e}else Ga=1<<s|r<<a|n,Za=e}function es(e){null!==e.return&&(Ja(e,1),Xa(e,1,0))}function ts(e){for(;e===Wa;)Wa=qa[--Va],qa[Va]=null,Ya=qa[--Va],qa[Va]=null;for(;e===Ka;)Ka=$a[--Qa],$a[Qa]=null,Za=$a[--Qa],$a[Qa]=null,Ga=$a[--Qa],$a[Qa]=null}var rs=null,ns=null,as=!1,ss=null;function ls(e,t){var r=Lc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function is(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rs=e,ns=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rs=e,ns=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Ka?{id:Ga,overflow:Za}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Lc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,rs=e,ns=null,!0);default:return!1}}function os(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=ns;if(t){var r=t;if(!is(e,t)){if(os(e))throw Error(s(418));t=ca(r.nextSibling);var n=rs;t&&is(e,t)?ls(n,r):(e.flags=-4097&e.flags|2,as=!1,rs=e)}}else{if(os(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,rs=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rs=e}function us(e){if(e!==rs)return!1;if(!as)return ds(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ra(e.type,e.memoizedProps)),t&&(t=ns)){if(os(e))throw ms(),Error(s(418));for(;t;)ls(e,t),t=ca(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ns=ca(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ns=null}}else ns=rs?ca(e.stateNode.nextSibling):null;return!0}function ms(){for(var e=ns;e;)e=ca(e.nextSibling)}function ps(){ns=rs=null,as=!1}function fs(e){null===ss?ss=[e]:ss.push(e)}var xs=v.ReactCurrentBatchConfig;function hs(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var n=r.stateNode}if(!n)throw Error(s(147,e));var a=n,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=a.refs;null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Tc(e,t)).index=0,e.sibling=null,e}function l(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,r,n){return null===t||6!==t.tag?((t=Rc(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var s=r.type;return s===w?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===D&&ys(s)===t.type)?((n=a(t,r.props)).ref=hs(e,t,r),n.return=e,n):((n=Fc(r.type,r.key,r.props,null,e.mode,n)).ref=hs(e,t,r),n.return=e,n)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Ac(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function u(e,t,r,n,s){return null===t||7!==t.tag?((t=Mc(r,e.mode,n,s)).return=e,t):((t=a(t,r)).return=e,t)}function m(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Rc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(r=Fc(t.type,t.key,t.props,null,e.mode,r)).ref=hs(e,null,t),r.return=e,r;case N:return(t=Ac(t,e.mode,r)).return=e,t;case D:return m(e,(0,t._init)(t._payload),r)}if(te(t)||M(t))return(t=Mc(t,e.mode,r,null)).return=e,t;gs(e,t)}return null}function p(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:o(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return r.key===a?c(e,t,r,n):null;case N:return r.key===a?d(e,t,r,n):null;case D:return p(e,t,(a=r._init)(r._payload),n)}if(te(r)||M(r))return null!==a?null:u(e,t,r,n,null);gs(e,r)}return null}function f(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return o(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case N:return d(t,e=e.get(null===n.key?r:n.key)||null,n,a);case D:return f(e,t,r,(0,n._init)(n._payload),a)}if(te(n)||M(n))return u(t,e=e.get(r)||null,n,a,null);gs(t,n)}return null}function x(a,s,i,o){for(var c=null,d=null,u=s,x=s=0,h=null;null!==u&&x<i.length;x++){u.index>x?(h=u,u=null):h=u.sibling;var g=p(a,u,i[x],o);if(null===g){null===u&&(u=h);break}e&&u&&null===g.alternate&&t(a,u),s=l(g,s,x),null===d?c=g:d.sibling=g,d=g,u=h}if(x===i.length)return r(a,u),as&&Ja(a,x),c;if(null===u){for(;x<i.length;x++)null!==(u=m(a,i[x],o))&&(s=l(u,s,x),null===d?c=u:d.sibling=u,d=u);return as&&Ja(a,x),c}for(u=n(a,u);x<i.length;x++)null!==(h=f(u,a,x,i[x],o))&&(e&&null!==h.alternate&&u.delete(null===h.key?x:h.key),s=l(h,s,x),null===d?c=h:d.sibling=h,d=h);return e&&u.forEach((function(e){return t(a,e)})),as&&Ja(a,x),c}function h(a,i,o,c){var d=M(o);if("function"!==typeof d)throw Error(s(150));if(null==(o=d.call(o)))throw Error(s(151));for(var u=d=null,x=i,h=i=0,g=null,y=o.next();null!==x&&!y.done;h++,y=o.next()){x.index>h?(g=x,x=null):g=x.sibling;var b=p(a,x,y.value,c);if(null===b){null===x&&(x=g);break}e&&x&&null===b.alternate&&t(a,x),i=l(b,i,h),null===u?d=b:u.sibling=b,u=b,x=g}if(y.done)return r(a,x),as&&Ja(a,h),d;if(null===x){for(;!y.done;h++,y=o.next())null!==(y=m(a,y.value,c))&&(i=l(y,i,h),null===u?d=y:u.sibling=y,u=y);return as&&Ja(a,h),d}for(x=n(a,x);!y.done;h++,y=o.next())null!==(y=f(x,a,h,y.value,c))&&(e&&null!==y.alternate&&x.delete(null===y.key?h:y.key),i=l(y,i,h),null===u?d=y:u.sibling=y,u=y);return e&&x.forEach((function(e){return t(a,e)})),as&&Ja(a,h),d}return function e(n,s,l,o){if("object"===typeof l&&null!==l&&l.type===w&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case j:e:{for(var c=l.key,d=s;null!==d;){if(d.key===c){if((c=l.type)===w){if(7===d.tag){r(n,d.sibling),(s=a(d,l.props.children)).return=n,n=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&ys(c)===d.type){r(n,d.sibling),(s=a(d,l.props)).ref=hs(n,d,l),s.return=n,n=s;break e}r(n,d);break}t(n,d),d=d.sibling}l.type===w?((s=Mc(l.props.children,n.mode,o,l.key)).return=n,n=s):((o=Fc(l.type,l.key,l.props,null,n.mode,o)).ref=hs(n,s,l),o.return=n,n=o)}return i(n);case N:e:{for(d=l.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===l.containerInfo&&s.stateNode.implementation===l.implementation){r(n,s.sibling),(s=a(s,l.children||[])).return=n,n=s;break e}r(n,s);break}t(n,s),s=s.sibling}(s=Ac(l,n.mode,o)).return=n,n=s}return i(n);case D:return e(n,s,(d=l._init)(l._payload),o)}if(te(l))return x(n,s,l,o);if(M(l))return h(n,s,l,o);gs(n,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==s&&6===s.tag?(r(n,s.sibling),(s=a(s,l)).return=n,n=s):(r(n,s),(s=Rc(l,n.mode,o)).return=n,n=s),i(n)):r(n,s)}}var vs=bs(!0),js=bs(!1),Ns=_a(null),ws=null,_s=null,ks=null;function Cs(){ks=_s=ws=null}function Ss(e){var t=Ns.current;ka(Ns),e._currentValue=t}function Es(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ps(e,t){ws=e,ks=_s=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yi=!0),e.firstContext=null)}function zs(e){var t=e._currentValue;if(ks!==e)if(e={context:e,memoizedValue:t,next:null},null===_s){if(null===ws)throw Error(s(308));_s=e,ws.dependencies={lanes:0,firstContext:e}}else _s=_s.next=e;return t}var Ls=null;function Ds(e){null===Ls?Ls=[e]:Ls.push(e)}function Ts(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,Ds(t)):(r.next=a.next,a.next=r),t.interleaved=r,Fs(e,n)}function Fs(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Ms=!1;function Os(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function As(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Is(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Eo)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Fs(e,r)}return null===(a=n.interleaved)?(t.next=t,Ds(n)):(t.next=a.next,a.next=t),n.interleaved=t,Fs(e,r)}function Bs(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}function Hs(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===s?a=s=l:s=s.next=l,r=r.next}while(null!==r);null===s?a=s=t:s=s.next=t}else a=s=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Us(e,t,r,n){var a=e.updateQueue;Ms=!1;var s=a.firstBaseUpdate,l=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var o=i,c=o.next;o.next=null,null===l?s=c:l.next=c,l=o;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o))}if(null!==s){var u=a.baseState;for(l=0,d=c=o=null,i=s;;){var m=i.lane,p=i.eventTime;if((n&m)===m){null!==d&&(d=d.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var f=e,x=i;switch(m=t,p=r,x.tag){case 1:if("function"===typeof(f=x.payload)){u=f.call(p,u,m);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(m="function"===typeof(f=x.payload)?f.call(p,u,m):f)||void 0===m)break e;u=R({},u,m);break e;case 2:Ms=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(m=a.effects)?a.effects=[i]:m.push(i))}else p={eventTime:p,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=p,o=u):d=d.next=p,l|=m;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(m=i).next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}if(null===d&&(o=u),a.baseState=o,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{l|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Oo|=l,e.lanes=l,e.memoizedState=u}}function qs(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(s(191,a));a.call(n)}}}var Vs={},Ws=_a(Vs),Ys=_a(Vs),$s=_a(Vs);function Qs(e){if(e===Vs)throw Error(s(174));return e}function Ks(e,t){switch(Ca($s,t),Ca(Ys,e),Ca(Ws,Vs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ka(Ws),Ca(Ws,t)}function Gs(){ka(Ws),ka(Ys),ka($s)}function Zs(e){Qs($s.current);var t=Qs(Ws.current),r=oe(t,e.type);t!==r&&(Ca(Ys,e),Ca(Ws,r))}function Js(e){Ys.current===e&&(ka(Ws),ka(Ys))}var Xs=_a(0);function el(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tl=[];function rl(){for(var e=0;e<tl.length;e++)tl[e]._workInProgressVersionPrimary=null;tl.length=0}var nl=v.ReactCurrentDispatcher,al=v.ReactCurrentBatchConfig,sl=0,ll=null,il=null,ol=null,cl=!1,dl=!1,ul=0,ml=0;function pl(){throw Error(s(321))}function fl(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ln(e[r],t[r]))return!1;return!0}function xl(e,t,r,n,a,l){if(sl=l,ll=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nl.current=null===e||null===e.memoizedState?Jl:Xl,e=r(n,a),dl){l=0;do{if(dl=!1,ul=0,25<=l)throw Error(s(301));l+=1,ol=il=null,t.updateQueue=null,nl.current=ei,e=r(n,a)}while(dl)}if(nl.current=Zl,t=null!==il&&null!==il.next,sl=0,ol=il=ll=null,cl=!1,t)throw Error(s(300));return e}function hl(){var e=0!==ul;return ul=0,e}function gl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ol?ll.memoizedState=ol=e:ol=ol.next=e,ol}function yl(){if(null===il){var e=ll.alternate;e=null!==e?e.memoizedState:null}else e=il.next;var t=null===ol?ll.memoizedState:ol.next;if(null!==t)ol=t,il=e;else{if(null===e)throw Error(s(310));e={memoizedState:(il=e).memoizedState,baseState:il.baseState,baseQueue:il.baseQueue,queue:il.queue,next:null},null===ol?ll.memoizedState=ol=e:ol=ol.next=e}return ol}function bl(e,t){return"function"===typeof t?t(e):t}function vl(e){var t=yl(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=il,a=n.baseQueue,l=r.pending;if(null!==l){if(null!==a){var i=a.next;a.next=l.next,l.next=i}n.baseQueue=a=l,r.pending=null}if(null!==a){l=a.next,n=n.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((sl&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=m,i=n):c=c.next=m,ll.lanes|=u,Oo|=u}d=d.next}while(null!==d&&d!==l);null===c?i=n:c.next=o,ln(n,t.memoizedState)||(yi=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{l=a.lane,ll.lanes|=l,Oo|=l,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function jl(e){var t=yl(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,l=t.memoizedState;if(null!==a){r.pending=null;var i=a=a.next;do{l=e(l,i.action),i=i.next}while(i!==a);ln(l,t.memoizedState)||(yi=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),r.lastRenderedState=l}return[l,n]}function Nl(){}function wl(e,t){var r=ll,n=yl(),a=t(),l=!ln(n.memoizedState,a);if(l&&(n.memoizedState=a,yi=!0),n=n.queue,Ml(Cl.bind(null,r,n,e),[e]),n.getSnapshot!==t||l||null!==ol&&1&ol.memoizedState.tag){if(r.flags|=2048,zl(9,kl.bind(null,r,n,a,t),void 0,null),null===Po)throw Error(s(349));0!==(30&sl)||_l(r,t,a)}return a}function _l(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ll.updateQueue)?(t={lastEffect:null,stores:null},ll.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function kl(e,t,r,n){t.value=r,t.getSnapshot=n,Sl(t)&&El(e)}function Cl(e,t,r){return r((function(){Sl(t)&&El(e)}))}function Sl(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ln(e,r)}catch(n){return!0}}function El(e){var t=Fs(e,1);null!==t&&rc(t,e,1,-1)}function Pl(e){var t=gl();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:e},t.queue=e,e=e.dispatch=$l.bind(null,ll,e),[t.memoizedState,e]}function zl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=ll.updateQueue)?(t={lastEffect:null,stores:null},ll.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Ll(){return yl().memoizedState}function Dl(e,t,r,n){var a=gl();ll.flags|=e,a.memoizedState=zl(1|t,r,void 0,void 0===n?null:n)}function Tl(e,t,r,n){var a=yl();n=void 0===n?null:n;var s=void 0;if(null!==il){var l=il.memoizedState;if(s=l.destroy,null!==n&&fl(n,l.deps))return void(a.memoizedState=zl(t,r,s,n))}ll.flags|=e,a.memoizedState=zl(1|t,r,s,n)}function Fl(e,t){return Dl(8390656,8,e,t)}function Ml(e,t){return Tl(2048,8,e,t)}function Ol(e,t){return Tl(4,2,e,t)}function Rl(e,t){return Tl(4,4,e,t)}function Al(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Il(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Tl(4,4,Al.bind(null,t,e),r)}function Bl(){}function Hl(e,t){var r=yl();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&fl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ul(e,t){var r=yl();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&fl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ql(e,t,r){return 0===(21&sl)?(e.baseState&&(e.baseState=!1,yi=!0),e.memoizedState=r):(ln(r,t)||(r=xt(),ll.lanes|=r,Oo|=r,e.baseState=!0),t)}function Vl(e,t){var r=bt;bt=0!==r&&4>r?r:4,e(!0);var n=al.transition;al.transition={};try{e(!1),t()}finally{bt=r,al.transition=n}}function Wl(){return yl().memoizedState}function Yl(e,t,r){var n=tc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ql(e))Kl(t,r);else if(null!==(r=Ts(e,t,r,n))){rc(r,e,n,ec()),Gl(r,t,n)}}function $l(e,t,r){var n=tc(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ql(e))Kl(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=s(l,r);if(a.hasEagerState=!0,a.eagerState=i,ln(i,l)){var o=t.interleaved;return null===o?(a.next=a,Ds(t)):(a.next=o.next,o.next=a),void(t.interleaved=a)}}catch(c){}null!==(r=Ts(e,t,a,n))&&(rc(r,e,n,a=ec()),Gl(r,t,n))}}function Ql(e){var t=e.alternate;return e===ll||null!==t&&t===ll}function Kl(e,t){dl=cl=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Gl(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}var Zl={readContext:zs,useCallback:pl,useContext:pl,useEffect:pl,useImperativeHandle:pl,useInsertionEffect:pl,useLayoutEffect:pl,useMemo:pl,useReducer:pl,useRef:pl,useState:pl,useDebugValue:pl,useDeferredValue:pl,useTransition:pl,useMutableSource:pl,useSyncExternalStore:pl,useId:pl,unstable_isNewReconciler:!1},Jl={readContext:zs,useCallback:function(e,t){return gl().memoizedState=[e,void 0===t?null:t],e},useContext:zs,useEffect:Fl,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Dl(4194308,4,Al.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Dl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dl(4,2,e,t)},useMemo:function(e,t){var r=gl();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=gl();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Yl.bind(null,ll,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},gl().memoizedState=e},useState:Pl,useDebugValue:Bl,useDeferredValue:function(e){return gl().memoizedState=e},useTransition:function(){var e=Pl(!1),t=e[0];return e=Vl.bind(null,e[1]),gl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ll,a=gl();if(as){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===Po)throw Error(s(349));0!==(30&sl)||_l(n,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,Fl(Cl.bind(null,n,l,e),[e]),n.flags|=2048,zl(9,kl.bind(null,n,l,r,t),void 0,null),r},useId:function(){var e=gl(),t=Po.identifierPrefix;if(as){var r=Za;t=":"+t+"R"+(r=(Ga&~(1<<32-lt(Ga)-1)).toString(32)+r),0<(r=ul++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=ml++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xl={readContext:zs,useCallback:Hl,useContext:zs,useEffect:Ml,useImperativeHandle:Il,useInsertionEffect:Ol,useLayoutEffect:Rl,useMemo:Ul,useReducer:vl,useRef:Ll,useState:function(){return vl(bl)},useDebugValue:Bl,useDeferredValue:function(e){return ql(yl(),il.memoizedState,e)},useTransition:function(){return[vl(bl)[0],yl().memoizedState]},useMutableSource:Nl,useSyncExternalStore:wl,useId:Wl,unstable_isNewReconciler:!1},ei={readContext:zs,useCallback:Hl,useContext:zs,useEffect:Ml,useImperativeHandle:Il,useInsertionEffect:Ol,useLayoutEffect:Rl,useMemo:Ul,useReducer:jl,useRef:Ll,useState:function(){return jl(bl)},useDebugValue:Bl,useDeferredValue:function(e){var t=yl();return null===il?t.memoizedState=e:ql(t,il.memoizedState,e)},useTransition:function(){return[jl(bl)[0],yl().memoizedState]},useMutableSource:Nl,useSyncExternalStore:wl,useId:Wl,unstable_isNewReconciler:!1};function ti(e,t){if(e&&e.defaultProps){for(var r in t=R({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ri(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:R({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ni={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ec(),a=tc(e),s=As(n,a);s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Is(e,s,a))&&(rc(t,e,a,n),Bs(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ec(),a=tc(e),s=As(n,a);s.tag=1,s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Is(e,s,a))&&(rc(t,e,a,n),Bs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),n=tc(e),a=As(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Is(e,a,n))&&(rc(t,e,n,r),Bs(t,e,n))}};function ai(e,t,r,n,a,s,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,l):!t.prototype||!t.prototype.isPureReactComponent||(!on(r,n)||!on(a,s))}function si(e,t,r){var n=!1,a=Sa,s=t.contextType;return"object"===typeof s&&null!==s?s=zs(s):(a=Da(t)?za:Ea.current,s=(n=null!==(n=t.contextTypes)&&void 0!==n)?La(e,a):Sa),t=new t(r,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ni,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function li(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ni.enqueueReplaceState(t,t.state,null)}function ii(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Os(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=zs(s):(s=Da(t)?za:Ea.current,a.context=La(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ri(e,t,s,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ni.enqueueReplaceState(a,a.state,null),Us(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function oi(e,t){try{var r="",n=t;do{r+=H(n),n=n.return}while(n);var a=r}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function ci(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function di(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var ui="function"===typeof WeakMap?WeakMap:Map;function mi(e,t,r){(r=As(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Vo||(Vo=!0,Wo=n),di(0,t)},r}function pi(e,t,r){(r=As(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){di(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(r.callback=function(){di(0,t),"function"!==typeof n&&(null===Yo?Yo=new Set([this]):Yo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function fi(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new ui;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=kc.bind(null,e,t,r),t.then(e,e))}function xi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function hi(e,t,r,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=As(-1,1)).tag=2,Is(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var gi=v.ReactCurrentOwner,yi=!1;function bi(e,t,r,n){t.child=null===e?js(t,null,r,n):vs(t,e.child,r,n)}function vi(e,t,r,n,a){r=r.render;var s=t.ref;return Ps(t,a),n=xl(e,t,r,n,s,a),r=hl(),null===e||yi?(as&&r&&es(t),t.flags|=1,bi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qi(e,t,a))}function ji(e,t,r,n,a){if(null===e){var s=r.type;return"function"!==typeof s||Dc(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Fc(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ni(e,t,s,n,a))}if(s=e.child,0===(e.lanes&a)){var l=s.memoizedProps;if((r=null!==(r=r.compare)?r:on)(l,n)&&e.ref===t.ref)return qi(e,t,a)}return t.flags|=1,(e=Tc(s,n)).ref=t.ref,e.return=t,t.child=e}function Ni(e,t,r,n,a){if(null!==e){var s=e.memoizedProps;if(on(s,n)&&e.ref===t.ref){if(yi=!1,t.pendingProps=n=s,0===(e.lanes&a))return t.lanes=e.lanes,qi(e,t,a);0!==(131072&e.flags)&&(yi=!0)}}return ki(e,t,r,n,a)}function wi(e,t,r){var n=t.pendingProps,a=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ca(To,Do),Do|=r;else{if(0===(1073741824&r))return e=null!==s?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ca(To,Do),Do|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:r,Ca(To,Do),Do|=n}else null!==s?(n=s.baseLanes|r,t.memoizedState=null):n=r,Ca(To,Do),Do|=n;return bi(e,t,a,r),t.child}function _i(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ki(e,t,r,n,a){var s=Da(r)?za:Ea.current;return s=La(t,s),Ps(t,a),r=xl(e,t,r,n,s,a),n=hl(),null===e||yi?(as&&n&&es(t),t.flags|=1,bi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qi(e,t,a))}function Ci(e,t,r,n,a){if(Da(r)){var s=!0;Oa(t)}else s=!1;if(Ps(t,a),null===t.stateNode)Ui(e,t),si(t,r,n),ii(t,r,n,a),n=!0;else if(null===e){var l=t.stateNode,i=t.memoizedProps;l.props=i;var o=l.context,c=r.contextType;"object"===typeof c&&null!==c?c=zs(c):c=La(t,c=Da(r)?za:Ea.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof l.getSnapshotBeforeUpdate;u||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==n||o!==c)&&li(t,l,n,c),Ms=!1;var m=t.memoizedState;l.state=m,Us(t,n,l,a),o=t.memoizedState,i!==n||m!==o||Pa.current||Ms?("function"===typeof d&&(ri(t,r,d,n),o=t.memoizedState),(i=Ms||ai(t,r,i,n,m,o,c))?(u||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=o),l.props=n,l.state=o,l.context=c,n=i):("function"===typeof l.componentDidMount&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Rs(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ti(t.type,i),l.props=c,u=t.pendingProps,m=l.context,"object"===typeof(o=r.contextType)&&null!==o?o=zs(o):o=La(t,o=Da(r)?za:Ea.current);var p=r.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==u||m!==o)&&li(t,l,n,o),Ms=!1,m=t.memoizedState,l.state=m,Us(t,n,l,a);var f=t.memoizedState;i!==u||m!==f||Pa.current||Ms?("function"===typeof p&&(ri(t,r,p,n),f=t.memoizedState),(c=Ms||ai(t,r,c,n,m,f,o)||!1)?(d||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(n,f,o),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(n,f,o)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),l.props=n,l.state=f,l.context=o,n=c):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Si(e,t,r,n,s,a)}function Si(e,t,r,n,a,s){_i(e,t);var l=0!==(128&t.flags);if(!n&&!l)return a&&Ra(t,r,!1),qi(e,t,s);n=t.stateNode,gi.current=t;var i=l&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&l?(t.child=vs(t,e.child,null,s),t.child=vs(t,null,i,s)):bi(e,t,i,s),t.memoizedState=n.state,a&&Ra(t,r,!0),t.child}function Ei(e){var t=e.stateNode;t.pendingContext?Fa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fa(0,t.context,!1),Ks(e,t.containerInfo)}function Pi(e,t,r,n,a){return ps(),fs(a),t.flags|=256,bi(e,t,r,n),t.child}var zi,Li,Di,Ti,Fi={dehydrated:null,treeContext:null,retryLane:0};function Mi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Oi(e,t,r){var n,a=t.pendingProps,l=Xs.current,i=!1,o=0!==(128&t.flags);if((n=o)||(n=(null===e||null!==e.memoizedState)&&0!==(2&l)),n?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),Ca(Xs,1&l),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=a.children,e=a.fallback,i?(a=t.mode,i=t.child,o={mode:"hidden",children:o},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=o):i=Oc(o,a,0,null),e=Mc(e,a,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Mi(r),t.memoizedState=Fi,e):Ri(t,o));if(null!==(l=e.memoizedState)&&null!==(n=l.dehydrated))return function(e,t,r,n,a,l,i){if(r)return 256&t.flags?(t.flags&=-257,Ai(e,t,i,n=ci(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=n.fallback,a=t.mode,n=Oc({mode:"visible",children:n.children},a,0,null),(l=Mc(l,a,i,null)).flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,0!==(1&t.mode)&&vs(t,e.child,null,i),t.child.memoizedState=Mi(i),t.memoizedState=Fi,l);if(0===(1&t.mode))return Ai(e,t,i,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var o=n.dgst;return n=o,Ai(e,t,i,n=ci(l=Error(s(419)),n,void 0))}if(o=0!==(i&e.childLanes),yi||o){if(null!==(n=Po)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|i))?0:a)&&a!==l.retryLane&&(l.retryLane=a,Fs(e,a),rc(n,e,a,-1))}return xc(),Ai(e,t,i,n=ci(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,ns=ca(a.nextSibling),rs=t,as=!0,ss=null,null!==e&&($a[Qa++]=Ga,$a[Qa++]=Za,$a[Qa++]=Ka,Ga=e.id,Za=e.overflow,Ka=t),t=Ri(t,n.children),t.flags|=4096,t)}(e,t,o,a,n,l,r);if(i){i=a.fallback,o=t.mode,n=(l=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&o)&&t.child!==l?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Tc(l,c)).subtreeFlags=14680064&l.subtreeFlags,null!==n?i=Tc(n,i):(i=Mc(i,o,r,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,o=null===(o=e.child.memoizedState)?Mi(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Fi,a}return e=(i=e.child).sibling,a=Tc(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Ri(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ai(e,t,r,n){return null!==n&&fs(n),vs(t,e.child,null,r),(e=Ri(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ii(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Es(e.return,t,r)}function Bi(e,t,r,n,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function Hi(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(bi(e,t,n.children,r),0!==(2&(n=Xs.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ii(e,r,t);else if(19===e.tag)Ii(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ca(Xs,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===el(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Bi(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===el(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Bi(t,!0,r,null,s);break;case"together":Bi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ui(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qi(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Oo|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Tc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Tc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Vi(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Wi(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Yi(e,t,r){var n=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wi(t),null;case 1:case 17:return Da(t.type)&&Ta(),Wi(t),null;case 3:return n=t.stateNode,Gs(),ka(Pa),ka(Ea),rl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(lc(ss),ss=null))),Li(e,t),Wi(t),null;case 5:Js(t);var a=Qs($s.current);if(r=t.type,null!==e&&null!=t.stateNode)Di(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(s(166));return Wi(t),null}if(e=Qs(Ws.current),us(t)){n=t.stateNode,r=t.type;var l=t.memoizedProps;switch(n[ma]=t,n[pa]=l,e=0!==(1&t.mode),r){case"dialog":In("cancel",n),In("close",n);break;case"iframe":case"object":case"embed":In("load",n);break;case"video":case"audio":for(a=0;a<Mn.length;a++)In(Mn[a],n);break;case"source":In("error",n);break;case"img":case"image":case"link":In("error",n),In("load",n);break;case"details":In("toggle",n);break;case"input":G(n,l),In("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},In("invalid",n);break;case"textarea":ae(n,l),In("invalid",n)}for(var o in ye(r,l),a=null,l)if(l.hasOwnProperty(o)){var c=l[o];"children"===o?"string"===typeof c?n.textContent!==c&&(!0!==l.suppressHydrationWarning&&Jn(n.textContent,c,e),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==l.suppressHydrationWarning&&Jn(n.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&In("scroll",n)}switch(r){case"input":Y(n),X(n,l,!0);break;case"textarea":Y(n),le(n);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(n.onclick=Xn)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{o=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),"select"===r&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ma]=t,e[pa]=n,zi(e,t,!1,!1),t.stateNode=e;e:{switch(o=be(r,n),r){case"dialog":In("cancel",e),In("close",e),a=n;break;case"iframe":case"object":case"embed":In("load",e),a=n;break;case"video":case"audio":for(a=0;a<Mn.length;a++)In(Mn[a],e);a=n;break;case"source":In("error",e),a=n;break;case"img":case"image":case"link":In("error",e),In("load",e),a=n;break;case"details":In("toggle",e),a=n;break;case"input":G(e,n),a=K(e,n),In("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=R({},n,{value:void 0}),In("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),In("invalid",e)}for(l in ye(r,a),c=a)if(c.hasOwnProperty(l)){var d=c[l];"style"===l?he(e,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===l?"string"===typeof d?("textarea"!==r||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(i.hasOwnProperty(l)?null!=d&&"onScroll"===l&&In("scroll",e):null!=d&&b(e,l,d,o))}switch(r){case"input":Y(e),X(e,n,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=n.value&&e.setAttribute("value",""+V(n.value));break;case"select":e.multiple=!!n.multiple,null!=(l=n.value)?re(e,!!n.multiple,l,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Xn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wi(t),null;case 6:if(e&&null!=t.stateNode)Ti(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(r=Qs($s.current),Qs(Ws.current),us(t)){if(n=t.stateNode,r=t.memoizedProps,n[ma]=t,(l=n.nodeValue!==r)&&null!==(e=rs))switch(e.tag){case 3:Jn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jn(n.nodeValue,r,0!==(1&e.mode))}l&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[ma]=t,t.stateNode=n}return Wi(t),null;case 13:if(ka(Xs),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==ns&&0!==(1&t.mode)&&0===(128&t.flags))ms(),ps(),t.flags|=98560,l=!1;else if(l=us(t),null!==n&&null!==n.dehydrated){if(null===e){if(!l)throw Error(s(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(s(317));l[ma]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wi(t),l=!1}else null!==ss&&(lc(ss),ss=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Xs.current)?0===Fo&&(Fo=3):xc())),null!==t.updateQueue&&(t.flags|=4),Wi(t),null);case 4:return Gs(),Li(e,t),null===e&&Un(t.stateNode.containerInfo),Wi(t),null;case 10:return Ss(t.type._context),Wi(t),null;case 19:if(ka(Xs),null===(l=t.memoizedState))return Wi(t),null;if(n=0!==(128&t.flags),null===(o=l.rendering))if(n)Vi(l,!1);else{if(0!==Fo||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=el(e))){for(t.flags|=128,Vi(l,!1),null!==(n=o.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(l=r).flags&=14680066,null===(o=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ca(Xs,1&Xs.current|2),t.child}e=e.sibling}null!==l.tail&&Ze()>Uo&&(t.flags|=128,n=!0,Vi(l,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=el(o))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Vi(l,!0),null===l.tail&&"hidden"===l.tailMode&&!o.alternate&&!as)return Wi(t),null}else 2*Ze()-l.renderingStartTime>Uo&&1073741824!==r&&(t.flags|=128,n=!0,Vi(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(null!==(r=l.last)?r.sibling=o:t.child=o,l.last=o)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,r=Xs.current,Ca(Xs,n?1&r|2:1&r),t):(Wi(t),null);case 22:case 23:return uc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Do)&&(Wi(t),6&t.subtreeFlags&&(t.flags|=8192)):Wi(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function $i(e,t){switch(ts(t),t.tag){case 1:return Da(t.type)&&Ta(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Gs(),ka(Pa),ka(Ea),rl(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(ka(Xs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ka(Xs),null;case 4:return Gs(),null;case 10:return Ss(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}zi=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Li=function(){},Di=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Qs(Ws.current);var s,l=null;switch(r){case"input":a=K(e,a),n=K(e,n),l=[];break;case"select":a=R({},a,{value:void 0}),n=R({},n,{value:void 0}),l=[];break;case"textarea":a=ne(e,a),n=ne(e,n),l=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=Xn)}for(d in ye(r,n),r=null,a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var o=a[d];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in n){var c=n[d];if(o=null!=a?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(l||(l=[]),l.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(l=l||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&In("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}r&&(l=l||[]).push("style",r);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},Ti=function(e,t,r,n){r!==n&&(t.flags|=4)};var Qi=!1,Ki=!1,Gi="function"===typeof WeakSet?WeakSet:Set,Zi=null;function Ji(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){_c(e,t,n)}else r.current=null}function Xi(e,t,r){try{r()}catch(n){_c(e,t,n)}}var eo=!1;function to(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&Xi(t,r,s)}a=a.next}while(a!==n)}}function ro(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function no(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function ao(e){var t=e.alternate;null!==t&&(e.alternate=null,ao(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ma],delete t[pa],delete t[xa],delete t[ha],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function so(e){return 5===e.tag||3===e.tag||4===e.tag}function lo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||so(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function io(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Xn));else if(4!==n&&null!==(e=e.child))for(io(e,t,r),e=e.sibling;null!==e;)io(e,t,r),e=e.sibling}function oo(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(oo(e,t,r),e=e.sibling;null!==e;)oo(e,t,r),e=e.sibling}var co=null,uo=!1;function mo(e,t,r){for(r=r.child;null!==r;)po(e,t,r),r=r.sibling}function po(e,t,r){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,r)}catch(i){}switch(r.tag){case 5:Ki||Ji(r,t);case 6:var n=co,a=uo;co=null,mo(e,t,r),uo=a,null!==(co=n)&&(uo?(e=co,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):co.removeChild(r.stateNode));break;case 18:null!==co&&(uo?(e=co,r=r.stateNode,8===e.nodeType?oa(e.parentNode,r):1===e.nodeType&&oa(e,r),Ut(e)):oa(co,r.stateNode));break;case 4:n=co,a=uo,co=r.stateNode.containerInfo,uo=!0,mo(e,t,r),co=n,uo=a;break;case 0:case 11:case 14:case 15:if(!Ki&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var s=a,l=s.destroy;s=s.tag,void 0!==l&&(0!==(2&s)||0!==(4&s))&&Xi(r,t,l),a=a.next}while(a!==n)}mo(e,t,r);break;case 1:if(!Ki&&(Ji(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(i){_c(r,t,i)}mo(e,t,r);break;case 21:mo(e,t,r);break;case 22:1&r.mode?(Ki=(n=Ki)||null!==r.memoizedState,mo(e,t,r),Ki=n):mo(e,t,r);break;default:mo(e,t,r)}}function fo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Gi),t.forEach((function(t){var n=Ec.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function xo(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var l=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(s(160));po(l,i,a),co=null,uo=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){_c(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ho(t,e),t=t.sibling}function ho(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xo(t,e),go(e),4&n){try{to(3,e,e.return),ro(3,e)}catch(h){_c(e,e.return,h)}try{to(5,e,e.return)}catch(h){_c(e,e.return,h)}}break;case 1:xo(t,e),go(e),512&n&&null!==r&&Ji(r,r.return);break;case 5:if(xo(t,e),go(e),512&n&&null!==r&&Ji(r,r.return),32&e.flags){var a=e.stateNode;try{me(a,"")}catch(h){_c(e,e.return,h)}}if(4&n&&null!=(a=e.stateNode)){var l=e.memoizedProps,i=null!==r?r.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===l.type&&null!=l.name&&Z(a,l),be(o,i);var d=be(o,l);for(i=0;i<c.length;i+=2){var u=c[i],m=c[i+1];"style"===u?he(a,m):"dangerouslySetInnerHTML"===u?ue(a,m):"children"===u?me(a,m):b(a,u,m,d)}switch(o){case"input":J(a,l);break;case"textarea":se(a,l);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var f=l.value;null!=f?re(a,!!l.multiple,f,!1):p!==!!l.multiple&&(null!=l.defaultValue?re(a,!!l.multiple,l.defaultValue,!0):re(a,!!l.multiple,l.multiple?[]:"",!1))}a[pa]=l}catch(h){_c(e,e.return,h)}}break;case 6:if(xo(t,e),go(e),4&n){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(h){_c(e,e.return,h)}}break;case 3:if(xo(t,e),go(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(h){_c(e,e.return,h)}break;case 4:default:xo(t,e),go(e);break;case 13:xo(t,e),go(e),8192&(a=e.child).flags&&(l=null!==a.memoizedState,a.stateNode.isHidden=l,!l||null!==a.alternate&&null!==a.alternate.memoizedState||(Ho=Ze())),4&n&&fo(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?(Ki=(d=Ki)||u,xo(t,e),Ki=d):xo(t,e),go(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Zi=e,u=e.child;null!==u;){for(m=Zi=u;null!==Zi;){switch(f=(p=Zi).child,p.tag){case 0:case 11:case 14:case 15:to(4,p,p.return);break;case 1:Ji(p,p.return);var x=p.stateNode;if("function"===typeof x.componentWillUnmount){n=p,r=p.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(h){_c(n,r,h)}}break;case 5:Ji(p,p.return);break;case 22:if(null!==p.memoizedState){jo(m);continue}}null!==f?(f.return=p,Zi=f):jo(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{a=m.stateNode,d?"function"===typeof(l=a.style).setProperty?l.setProperty("display","none","important"):l.display="none":(o=m.stateNode,i=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=xe("display",i))}catch(h){_c(e,e.return,h)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(h){_c(e,e.return,h)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:xo(t,e),go(e),4&n&&fo(e);case 21:}}function go(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(so(r)){var n=r;break e}r=r.return}throw Error(s(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(me(a,""),n.flags&=-33),oo(e,lo(e),a);break;case 3:case 4:var l=n.stateNode.containerInfo;io(e,lo(e),l);break;default:throw Error(s(161))}}catch(i){_c(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yo(e,t,r){Zi=e,bo(e,t,r)}function bo(e,t,r){for(var n=0!==(1&e.mode);null!==Zi;){var a=Zi,s=a.child;if(22===a.tag&&n){var l=null!==a.memoizedState||Qi;if(!l){var i=a.alternate,o=null!==i&&null!==i.memoizedState||Ki;i=Qi;var c=Ki;if(Qi=l,(Ki=o)&&!c)for(Zi=a;null!==Zi;)o=(l=Zi).child,22===l.tag&&null!==l.memoizedState?No(a):null!==o?(o.return=l,Zi=o):No(a);for(;null!==s;)Zi=s,bo(s,t,r),s=s.sibling;Zi=a,Qi=i,Ki=c}vo(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Zi=s):vo(e)}}function vo(e){for(;null!==Zi;){var t=Zi;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ki||ro(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Ki)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ti(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&qs(t,l,n);break;case 3:var i=t.updateQueue;if(null!==i){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}qs(t,i,r)}break;case 5:var o=t.stateNode;if(null===r&&4&t.flags){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Ut(m)}}}break;default:throw Error(s(163))}Ki||512&t.flags&&no(t)}catch(p){_c(t,t.return,p)}}if(t===e){Zi=null;break}if(null!==(r=t.sibling)){r.return=t.return,Zi=r;break}Zi=t.return}}function jo(e){for(;null!==Zi;){var t=Zi;if(t===e){Zi=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Zi=r;break}Zi=t.return}}function No(e){for(;null!==Zi;){var t=Zi;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ro(4,t)}catch(o){_c(t,r,o)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(o){_c(t,a,o)}}var s=t.return;try{no(t)}catch(o){_c(t,s,o)}break;case 5:var l=t.return;try{no(t)}catch(o){_c(t,l,o)}}}catch(o){_c(t,t.return,o)}if(t===e){Zi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Zi=i;break}Zi=t.return}}var wo,_o=Math.ceil,ko=v.ReactCurrentDispatcher,Co=v.ReactCurrentOwner,So=v.ReactCurrentBatchConfig,Eo=0,Po=null,zo=null,Lo=0,Do=0,To=_a(0),Fo=0,Mo=null,Oo=0,Ro=0,Ao=0,Io=null,Bo=null,Ho=0,Uo=1/0,qo=null,Vo=!1,Wo=null,Yo=null,$o=!1,Qo=null,Ko=0,Go=0,Zo=null,Jo=-1,Xo=0;function ec(){return 0!==(6&Eo)?Ze():-1!==Jo?Jo:Jo=Ze()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Eo)&&0!==Lo?Lo&-Lo:null!==xs.transition?(0===Xo&&(Xo=xt()),Xo):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function rc(e,t,r,n){if(50<Go)throw Go=0,Zo=null,Error(s(185));gt(e,r,n),0!==(2&Eo)&&e===Po||(e===Po&&(0===(2&Eo)&&(Ro|=r),4===Fo&&ic(e,Lo)),nc(e,n),1===r&&0===Eo&&0===(1&t.mode)&&(Uo=Ze()+500,Ia&&Ua()))}function nc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-lt(s),i=1<<l,o=a[l];-1===o?0!==(i&r)&&0===(i&n)||(a[l]=pt(i,t)):o<=t&&(e.expiredLanes|=i),s&=~i}}(e,t);var n=mt(e,e===Po?Lo:0);if(0===n)null!==r&&Qe(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Qe(r),1===t)0===e.tag?function(e){Ia=!0,Ha(e)}(oc.bind(null,e)):Ha(oc.bind(null,e)),la((function(){0===(6&Eo)&&Ua()})),r=null;else{switch(vt(n)){case 1:r=Xe;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Pc(r,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ac(e,t){if(Jo=-1,Xo=0,0!==(6&Eo))throw Error(s(327));var r=e.callbackNode;if(Nc()&&e.callbackNode!==r)return null;var n=mt(e,e===Po?Lo:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=hc(e,n);else{t=n;var a=Eo;Eo|=2;var l=fc();for(Po===e&&Lo===t||(qo=null,Uo=Ze()+500,mc(e,t));;)try{yc();break}catch(o){pc(e,o)}Cs(),ko.current=l,Eo=a,null!==zo?t=0:(Po=null,Lo=0,t=Fo)}if(0!==t){if(2===t&&(0!==(a=ft(e))&&(n=a,t=sc(e,a))),1===t)throw r=Mo,mc(e,0),ic(e,n),nc(e,Ze()),r;if(6===t)ic(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!ln(s(),a))return!1}catch(i){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=hc(e,n))&&(0!==(l=ft(e))&&(n=l,t=sc(e,l))),1===t))throw r=Mo,mc(e,0),ic(e,n),nc(e,Ze()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(s(345));case 2:case 5:jc(e,Bo,qo);break;case 3:if(ic(e,n),(130023424&n)===n&&10<(t=Ho+500-Ze())){if(0!==mt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=na(jc.bind(null,e,Bo,qo),t);break}jc(e,Bo,qo);break;case 4:if(ic(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-lt(n);l=1<<i,(i=t[i])>a&&(a=i),n&=~l}if(n=a,10<(n=(120>(n=Ze()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_o(n/1960))-n)){e.timeoutHandle=na(jc.bind(null,e,Bo,qo),n);break}jc(e,Bo,qo);break;default:throw Error(s(329))}}}return nc(e,Ze()),e.callbackNode===r?ac.bind(null,e):null}function sc(e,t){var r=Io;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=hc(e,t))&&(t=Bo,Bo=r,null!==t&&lc(t)),e}function lc(e){null===Bo?Bo=e:Bo.push.apply(Bo,e)}function ic(e,t){for(t&=~Ao,t&=~Ro,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-lt(t),n=1<<r;e[r]=-1,t&=~n}}function oc(e){if(0!==(6&Eo))throw Error(s(327));Nc();var t=mt(e,0);if(0===(1&t))return nc(e,Ze()),null;var r=hc(e,t);if(0!==e.tag&&2===r){var n=ft(e);0!==n&&(t=n,r=sc(e,n))}if(1===r)throw r=Mo,mc(e,0),ic(e,t),nc(e,Ze()),r;if(6===r)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Bo,qo),nc(e,Ze()),null}function cc(e,t){var r=Eo;Eo|=1;try{return e(t)}finally{0===(Eo=r)&&(Uo=Ze()+500,Ia&&Ua())}}function dc(e){null!==Qo&&0===Qo.tag&&0===(6&Eo)&&Nc();var t=Eo;Eo|=1;var r=So.transition,n=bt;try{if(So.transition=null,bt=1,e)return e()}finally{bt=n,So.transition=r,0===(6&(Eo=t))&&Ua()}}function uc(){Do=To.current,ka(To)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,aa(r)),null!==zo)for(r=zo.return;null!==r;){var n=r;switch(ts(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ta();break;case 3:Gs(),ka(Pa),ka(Ea),rl();break;case 5:Js(n);break;case 4:Gs();break;case 13:case 19:ka(Xs);break;case 10:Ss(n.type._context);break;case 22:case 23:uc()}r=r.return}if(Po=e,zo=e=Tc(e.current,null),Lo=Do=t,Fo=0,Mo=null,Ao=Ro=Oo=0,Bo=Io=null,null!==Ls){for(t=0;t<Ls.length;t++)if(null!==(n=(r=Ls[t]).interleaved)){r.interleaved=null;var a=n.next,s=r.pending;if(null!==s){var l=s.next;s.next=a,n.next=l}r.pending=n}Ls=null}return e}function pc(e,t){for(;;){var r=zo;try{if(Cs(),nl.current=Zl,cl){for(var n=ll.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}cl=!1}if(sl=0,ol=il=ll=null,dl=!1,ul=0,Co.current=null,null===r||null===r.return){Fo=1,Mo=t,zo=null;break}e:{var l=e,i=r.return,o=r,c=t;if(t=Lo,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=xi(i);if(null!==f){f.flags&=-257,hi(f,i,o,0,t),1&f.mode&&fi(l,d,t),c=d;var x=(t=f).updateQueue;if(null===x){var h=new Set;h.add(c),t.updateQueue=h}else x.add(c);break e}if(0===(1&t)){fi(l,d,t),xc();break e}c=Error(s(426))}else if(as&&1&o.mode){var g=xi(i);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),hi(g,i,o,0,t),fs(oi(c,o));break e}}l=c=oi(c,o),4!==Fo&&(Fo=2),null===Io?Io=[l]:Io.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Hs(l,mi(0,c,t));break e;case 1:o=c;var y=l.type,b=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Yo||!Yo.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,Hs(l,pi(l,o,t));break e}}l=l.return}while(null!==l)}vc(r)}catch(v){t=v,zo===r&&null!==r&&(zo=r=r.return);continue}break}}function fc(){var e=ko.current;return ko.current=Zl,null===e?Zl:e}function xc(){0!==Fo&&3!==Fo&&2!==Fo||(Fo=4),null===Po||0===(268435455&Oo)&&0===(268435455&Ro)||ic(Po,Lo)}function hc(e,t){var r=Eo;Eo|=2;var n=fc();for(Po===e&&Lo===t||(qo=null,mc(e,t));;)try{gc();break}catch(a){pc(e,a)}if(Cs(),Eo=r,ko.current=n,null!==zo)throw Error(s(261));return Po=null,Lo=0,Fo}function gc(){for(;null!==zo;)bc(zo)}function yc(){for(;null!==zo&&!Ke();)bc(zo)}function bc(e){var t=wo(e.alternate,e,Do);e.memoizedProps=e.pendingProps,null===t?vc(e):zo=t,Co.current=null}function vc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Yi(r,t,Do)))return void(zo=r)}else{if(null!==(r=$i(r,t)))return r.flags&=32767,void(zo=r);if(null===e)return Fo=6,void(zo=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(zo=t);zo=t=e}while(null!==t);0===Fo&&(Fo=5)}function jc(e,t,r){var n=bt,a=So.transition;try{So.transition=null,bt=1,function(e,t,r,n){do{Nc()}while(null!==Qo);if(0!==(6&Eo))throw Error(s(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-lt(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}(e,l),e===Po&&(zo=Po=null,Lo=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||$o||($o=!0,Pc(tt,(function(){return Nc(),null}))),l=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||l){l=So.transition,So.transition=null;var i=bt;bt=1;var o=Eo;Eo|=4,Co.current=null,function(e,t){if(ea=Vt,pn(e=mn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch(j){r=null;break e}var i=0,o=-1,c=-1,d=0,u=0,m=e,p=null;t:for(;;){for(var f;m!==r||0!==a&&3!==m.nodeType||(o=i+a),m!==l||0!==n&&3!==m.nodeType||(c=i+n),3===m.nodeType&&(i+=m.nodeValue.length),null!==(f=m.firstChild);)p=m,m=f;for(;;){if(m===e)break t;if(p===r&&++d===a&&(o=i),p===l&&++u===n&&(c=i),null!==(f=m.nextSibling))break;p=(m=p).parentNode}m=f}r=-1===o||-1===c?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ta={focusedElem:e,selectionRange:r},Vt=!1,Zi=t;null!==Zi;)if(e=(t=Zi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zi=e;else for(;null!==Zi;){t=Zi;try{var x=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==x){var h=x.memoizedProps,g=x.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?h:ti(t.type,h),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(s(163))}}catch(j){_c(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Zi=e;break}Zi=t.return}x=eo,eo=!1}(e,r),ho(r,e),fn(ta),Vt=!!ea,ta=ea=null,e.current=r,yo(r,e,a),Ge(),Eo=o,bt=i,So.transition=l}else e.current=r;if($o&&($o=!1,Qo=e,Ko=a),l=e.pendingLanes,0===l&&(Yo=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nc(e,Ze()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Vo)throw Vo=!1,e=Wo,Wo=null,e;0!==(1&Ko)&&0!==e.tag&&Nc(),l=e.pendingLanes,0!==(1&l)?e===Zo?Go++:(Go=0,Zo=e):Go=0,Ua()}(e,t,r,n)}finally{So.transition=a,bt=n}return null}function Nc(){if(null!==Qo){var e=vt(Ko),t=So.transition,r=bt;try{if(So.transition=null,bt=16>e?16:e,null===Qo)var n=!1;else{if(e=Qo,Qo=null,Ko=0,0!==(6&Eo))throw Error(s(331));var a=Eo;for(Eo|=4,Zi=e.current;null!==Zi;){var l=Zi,i=l.child;if(0!==(16&Zi.flags)){var o=l.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Zi=d;null!==Zi;){var u=Zi;switch(u.tag){case 0:case 11:case 15:to(8,u,l)}var m=u.child;if(null!==m)m.return=u,Zi=m;else for(;null!==Zi;){var p=(u=Zi).sibling,f=u.return;if(ao(u),u===d){Zi=null;break}if(null!==p){p.return=f,Zi=p;break}Zi=f}}}var x=l.alternate;if(null!==x){var h=x.child;if(null!==h){x.child=null;do{var g=h.sibling;h.sibling=null,h=g}while(null!==h)}}Zi=l}}if(0!==(2064&l.subtreeFlags)&&null!==i)i.return=l,Zi=i;else e:for(;null!==Zi;){if(0!==(2048&(l=Zi).flags))switch(l.tag){case 0:case 11:case 15:to(9,l,l.return)}var y=l.sibling;if(null!==y){y.return=l.return,Zi=y;break e}Zi=l.return}}var b=e.current;for(Zi=b;null!==Zi;){var v=(i=Zi).child;if(0!==(2064&i.subtreeFlags)&&null!==v)v.return=i,Zi=v;else e:for(i=b;null!==Zi;){if(0!==(2048&(o=Zi).flags))try{switch(o.tag){case 0:case 11:case 15:ro(9,o)}}catch(N){_c(o,o.return,N)}if(o===i){Zi=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,Zi=j;break e}Zi=o.return}}if(Eo=a,Ua(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(N){}n=!0}return n}finally{bt=r,So.transition=t}}return!1}function wc(e,t,r){e=Is(e,t=mi(0,t=oi(r,t),1),1),t=ec(),null!==e&&(gt(e,1,t),nc(e,t))}function _c(e,t,r){if(3===e.tag)wc(e,e,r);else for(;null!==t;){if(3===t.tag){wc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Yo||!Yo.has(n))){t=Is(t,e=pi(t,e=oi(r,e),1),1),e=ec(),null!==t&&(gt(t,1,e),nc(t,e));break}}t=t.return}}function kc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,Po===e&&(Lo&r)===r&&(4===Fo||3===Fo&&(130023424&Lo)===Lo&&500>Ze()-Ho?mc(e,0):Ao|=r),nc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var r=ec();null!==(e=Fs(e,t))&&(gt(e,t,r),nc(e,r))}function Sc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Cc(e,r)}function Ec(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(t),Cc(e,r)}function Pc(e,t){return $e(e,t)}function zc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lc(e,t,r,n){return new zc(e,t,r,n)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tc(e,t){var r=e.alternate;return null===r?((r=Lc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Fc(e,t,r,n,a,l){var i=2;if(n=e,"function"===typeof e)Dc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case w:return Mc(r.children,a,l,t);case _:i=8,a|=8;break;case k:return(e=Lc(12,r,t,2|a)).elementType=k,e.lanes=l,e;case P:return(e=Lc(13,r,t,a)).elementType=P,e.lanes=l,e;case z:return(e=Lc(19,r,t,a)).elementType=z,e.lanes=l,e;case T:return Oc(r,a,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:i=10;break e;case S:i=9;break e;case E:i=11;break e;case L:i=14;break e;case D:i=16,n=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Lc(i,r,t,a)).elementType=e,t.type=n,t.lanes=l,t}function Mc(e,t,r,n){return(e=Lc(7,e,n,t)).lanes=r,e}function Oc(e,t,r,n){return(e=Lc(22,e,n,t)).elementType=T,e.lanes=r,e.stateNode={isHidden:!1},e}function Rc(e,t,r){return(e=Lc(6,e,null,t)).lanes=r,e}function Ac(e,t,r){return(t=Lc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ic(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ht(0),this.expirationTimes=ht(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ht(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Bc(e,t,r,n,a,s,l,i,o){return e=new Ic(e,t,r,i,o),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Lc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Os(s),e}function Hc(e){if(!e)return Sa;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Da(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var r=e.type;if(Da(r))return Ma(e,r,t)}return t}function Uc(e,t,r,n,a,s,l,i,o){return(e=Bc(r,n,!0,e,0,s,0,i,o)).context=Hc(null),r=e.current,(s=As(n=ec(),a=tc(r))).callback=void 0!==t&&null!==t?t:null,Is(r,s,a),e.current.lanes=a,gt(e,a,n),nc(e,n),e}function qc(e,t,r,n){var a=t.current,s=ec(),l=tc(a);return r=Hc(r),null===t.context?t.context=r:t.pendingContext=r,(t=As(s,l)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Is(a,t,l))&&(rc(e,a,l,s),Bs(e,a,l)),l}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Yc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}wo=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pa.current)yi=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return yi=!1,function(e,t,r){switch(t.tag){case 3:Ei(t),ps();break;case 5:Zs(t);break;case 1:Da(t.type)&&Oa(t);break;case 4:Ks(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Ca(Ns,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Ca(Xs,1&Xs.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Oi(e,t,r):(Ca(Xs,1&Xs.current),null!==(e=qi(e,t,r))?e.sibling:null);Ca(Xs,1&Xs.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Hi(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ca(Xs,Xs.current),n)break;return null;case 22:case 23:return t.lanes=0,wi(e,t,r)}return qi(e,t,r)}(e,t,r);yi=0!==(131072&e.flags)}else yi=!1,as&&0!==(1048576&t.flags)&&Xa(t,Ya,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ui(e,t),e=t.pendingProps;var a=La(t,Ea.current);Ps(t,r),a=xl(null,t,n,e,a,r);var l=hl();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Da(n)?(l=!0,Oa(t)):l=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Os(t),a.updater=ni,t.stateNode=a,a._reactInternals=t,ii(t,n,e,r),t=Si(null,t,n,!0,l,r)):(t.tag=0,as&&l&&es(t),bi(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ui(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===L)return 14}return 2}(n),e=ti(n,e),a){case 0:t=ki(null,t,n,e,r);break e;case 1:t=Ci(null,t,n,e,r);break e;case 11:t=vi(null,t,n,e,r);break e;case 14:t=ji(null,t,n,ti(n.type,e),r);break e}throw Error(s(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,ki(e,t,n,a=t.elementType===n?a:ti(n,a),r);case 1:return n=t.type,a=t.pendingProps,Ci(e,t,n,a=t.elementType===n?a:ti(n,a),r);case 3:e:{if(Ei(t),null===e)throw Error(s(387));n=t.pendingProps,a=(l=t.memoizedState).element,Rs(e,t),Us(t,n,null,r);var i=t.memoizedState;if(n=i.element,l.isDehydrated){if(l={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Pi(e,t,n,r,a=oi(Error(s(423)),t));break e}if(n!==a){t=Pi(e,t,n,r,a=oi(Error(s(424)),t));break e}for(ns=ca(t.stateNode.containerInfo.firstChild),rs=t,as=!0,ss=null,r=js(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(ps(),n===a){t=qi(e,t,r);break e}bi(e,t,n,r)}t=t.child}return t;case 5:return Zs(t),null===e&&cs(t),n=t.type,a=t.pendingProps,l=null!==e?e.memoizedProps:null,i=a.children,ra(n,a)?i=null:null!==l&&ra(n,l)&&(t.flags|=32),_i(e,t),bi(e,t,i,r),t.child;case 6:return null===e&&cs(t),null;case 13:return Oi(e,t,r);case 4:return Ks(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=vs(t,null,n,r):bi(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,vi(e,t,n,a=t.elementType===n?a:ti(n,a),r);case 7:return bi(e,t,t.pendingProps,r),t.child;case 8:case 12:return bi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,Ca(Ns,n._currentValue),n._currentValue=i,null!==l)if(ln(l.value,i)){if(l.children===a.children&&!Pa.current){t=qi(e,t,r);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var o=l.dependencies;if(null!==o){i=l.child;for(var c=o.firstContext;null!==c;){if(c.context===n){if(1===l.tag){(c=As(-1,r&-r)).tag=2;var d=l.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=r,null!==(c=l.alternate)&&(c.lanes|=r),Es(l.return,r,t),o.lanes|=r;break}c=c.next}}else if(10===l.tag)i=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(i=l.return))throw Error(s(341));i.lanes|=r,null!==(o=i.alternate)&&(o.lanes|=r),Es(i,r,t),i=l.sibling}else i=l.child;if(null!==i)i.return=l;else for(i=l;null!==i;){if(i===t){i=null;break}if(null!==(l=i.sibling)){l.return=i.return,i=l;break}i=i.return}l=i}bi(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ps(t,r),n=n(a=zs(a)),t.flags|=1,bi(e,t,n,r),t.child;case 14:return a=ti(n=t.type,t.pendingProps),ji(e,t,n,a=ti(n.type,a),r);case 15:return Ni(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ti(n,a),Ui(e,t),t.tag=1,Da(n)?(e=!0,Oa(t)):e=!1,Ps(t,r),si(t,n,a),ii(t,n,a,r),Si(null,t,n,!0,e,r);case 19:return Hi(e,t,r);case 22:return wi(e,t,r)}throw Error(s(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Xc(e,t,r,n,a){var s=r._reactRootContainer;if(s){var l=s;if("function"===typeof a){var i=a;a=function(){var e=Vc(l);i.call(e)}}qc(t,l,e,a)}else l=function(e,t,r,n,a){if(a){if("function"===typeof n){var s=n;n=function(){var e=Vc(l);s.call(e)}}var l=Uc(t,n,e,0,null,!1,0,"",Jc);return e._reactRootContainer=l,e[fa]=l.current,Un(8===e.nodeType?e.parentNode:e),dc(),l}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var i=n;n=function(){var e=Vc(o);i.call(e)}}var o=Bc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=o,e[fa]=o.current,Un(8===e.nodeType?e.parentNode:e),dc((function(){qc(t,o,r,n)})),o}(r,t,e,a,n);return Vc(l)}Kc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qc(e,t,null,null)},Kc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){qc(null,e,null,null)})),t[fa]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Tt.length&&0!==t&&t<Tt[r].priority;r++);Tt.splice(r,0,e),0===r&&Rt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ut(t.pendingLanes);0!==r&&(yt(t,1|r),nc(t,Ze()),0===(6&Eo)&&(Uo=Ze()+500,Ua()))}break;case 13:dc((function(){var t=Fs(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}})),Yc(e,1)}},Nt=function(e){if(13===e.tag){var t=Fs(e,134217728);if(null!==t)rc(t,e,134217728,ec());Yc(e,134217728)}},wt=function(e){if(13===e.tag){var t=tc(e),r=Fs(e,t);if(null!==r)rc(r,e,t,ec());Yc(e,t)}},_t=function(){return bt},kt=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},Ne=function(e,t,r){switch(t){case"input":if(J(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=ja(n);if(!a)throw Error(s(90));$(n),J(n,a)}}}break;case"textarea":se(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ee=cc,Pe=dc;var ed={usingClientEntryPoint:!1,Events:[ba,va,ja,Ce,Se,cc]},td={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{at=nd.inject(rd),st=nd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gc(t))throw Error(s(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Gc(e))throw Error(s(299));var r=!1,n="",a=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Bc(e,1,!1,null,0,r,0,n,a),e[fa]=t.current,Un(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,r){if(!Zc(t))throw Error(s(200));return Xc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Gc(e))throw Error(s(405));var n=null!=r&&r.hydratedSources||null,a=!1,l="",i=$c;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(l=r.identifierPrefix),void 0!==r.onRecoverableError&&(i=r.onRecoverableError)),t=Uc(t,null,e,1,null!=r?r:null,a,0,l,i),e[fa]=t.current,Un(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Kc(t)},t.render=function(e,t,r){if(!Zc(t))throw Error(s(200));return Xc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc((function(){Xc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fa]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Zc(r))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Xc(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,r)=>{var n=r(950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},950:(e,t,r)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(730)},153:(e,t,r)=>{var n=r(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,s={},c=null,d=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,n)&&!o.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,h={};function g(e,t,r){this.props=e,this.context=t,this.refs=h,this.updater=r||f}function y(){}function b(e,t,r){this.props=e,this.context=t,this.refs=h,this.updater=r||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var v=b.prototype=new y;v.constructor=b,x(v,g.prototype),v.isPureReactComponent=!0;var j=Array.isArray,N=Object.prototype.hasOwnProperty,w={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var a,s={},l=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(l=""+t.key),t)N.call(t,a)&&!_.hasOwnProperty(a)&&(s[a]=t[a]);var o=arguments.length-2;if(1===o)s.children=n;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps)void 0===s[a]&&(s[a]=o[a]);return{$$typeof:r,type:e,key:l,ref:i,props:s,_owner:w.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var S=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,a,s,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case r:case n:o=!0}}if(o)return l=l(o=e),e=""===s?"."+E(o,0):s,j(l)?(a="",null!=e&&(a=e.replace(S,"$&/")+"/"),P(l,t,a,"",(function(e){return e}))):null!=l&&(C(l)&&(l=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,a+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(S,"$&/")+"/")+e)),t.push(l)),1;if(o=0,s=""===s?".":s+":",j(e))for(var c=0;c<e.length;c++){var d=s+E(i=e[c],c);o+=P(i,t,a,d,l)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)o+=P(i=i.value,t,a,d=s+E(i,c++),l);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function z(e,t,r){if(null==e)return e;var n=[],a=0;return P(e,n,"","",(function(e){return t.call(r,e,a++)})),n}function L(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},T={transition:null},F={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:T,ReactCurrentOwner:w};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:z,forEach:function(e,t,r){z(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return z(e,(function(){t++})),t},toArray:function(e){return z(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=l,t.PureComponent=b,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.act=M,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=x({},e.props),s=e.key,l=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,i=w.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)N.call(t,c)&&!_.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];a.children=o}return{$$typeof:r,type:e.type,key:s,ref:l,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,r){return D.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,r){return D.current.useReducer(e,t,r)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return D.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},43:(e,t,r)=>{e.exports=r(202)},579:(e,t,r)=>{e.exports=r(153)},234:(e,t)=>{function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<s(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,l=a>>>1;n<l;){var i=2*(n+1)-1,o=e[i],c=i+1,d=e[c];if(0>s(o,r))c<a&&0>s(d,o)?(e[n]=d,e[c]=r,n=c):(e[n]=o,e[i]=r,n=i);else{if(!(c<a&&0>s(d,r)))break e;e[n]=d,e[c]=r,n=c}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,m=null,p=3,f=!1,x=!1,h=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=n(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,r(c,t)}t=n(d)}}function j(e){if(h=!1,v(e),!x)if(null!==n(c))x=!0,T(N);else{var t=n(d);null!==t&&F(j,t.startTime-e)}}function N(e,r){x=!1,h&&(h=!1,y(C),C=-1),f=!0;var s=p;try{for(v(r),m=n(c);null!==m&&(!(m.expirationTime>r)||e&&!P());){var l=m.callback;if("function"===typeof l){m.callback=null,p=m.priorityLevel;var i=l(m.expirationTime<=r);r=t.unstable_now(),"function"===typeof i?m.callback=i:m===n(c)&&a(c),v(r)}else a(c);m=n(c)}if(null!==m)var o=!0;else{var u=n(d);null!==u&&F(j,u.startTime-r),o=!1}return o}finally{m=null,p=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,_=!1,k=null,C=-1,S=5,E=-1;function P(){return!(t.unstable_now()-E<S)}function z(){if(null!==k){var e=t.unstable_now();E=e;var r=!0;try{r=k(!0,e)}finally{r?w():(_=!1,k=null)}}else _=!1}if("function"===typeof b)w=function(){b(z)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,D=L.port2;L.port1.onmessage=z,w=function(){D.postMessage(null)}}else w=function(){g(z,0)};function T(e){k=e,_||(_=!0,w())}function F(e,r){C=g((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){x||f||(x=!0,T(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var r=p;p=t;try{return e()}finally{p=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=p;p=e;try{return t()}finally{p=r}},t.unstable_scheduleCallback=function(e,a,s){var l=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?l+s:l:s=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>l?(e.sortIndex=s,r(d,e),null===n(c)&&e===n(d)&&(h?(y(C),C=-1):h=!0,F(j,s-l))):(e.sortIndex=i,r(c,e),x||f||(x=!0,T(N))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var r=p;p=t;try{return e.apply(this,arguments)}finally{p=r}}}},853:(e,t,r)=>{e.exports=r(234)}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}var n=r(43),a=r(391);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function i(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=r(579);const u="https://api.pyramydhyb.com",m=()=>(0,d.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{d:"M9.25 8V5.25H6.5V3.75H9.25V1H10.75V3.75H13.5V5.25H10.75V8H9.25ZM5.49563 18C5.08188 18 4.72917 17.8527 4.4375 17.5581C4.14583 17.2635 4 16.9094 4 16.4956C4 16.0819 4.14729 15.7292 4.44188 15.4375C4.73646 15.1458 5.09062 15 5.50437 15C5.91813 15 6.27083 15.1473 6.5625 15.4419C6.85417 15.7365 7 16.0906 7 16.5044C7 16.9181 6.85271 17.2708 6.55813 17.5625C6.26354 17.8542 5.90938 18 5.49563 18ZM14.4956 18C14.0819 18 13.7292 17.8527 13.4375 17.5581C13.1458 17.2635 13 16.9094 13 16.4956C13 16.0819 13.1473 15.7292 13.4419 15.4375C13.7365 15.1458 14.0906 15 14.5044 15C14.9181 15 15.2708 15.1473 15.5625 15.4419C15.8542 15.7365 16 16.0906 16 16.5044C16 16.9181 15.8527 17.2708 15.5581 17.5625C15.2635 17.8542 14.9094 18 14.4956 18ZM1 3.5V2H3.77083L7 9.5H13.2708L15.625 4H17.25L14.6458 10.0833C14.5208 10.3611 14.3368 10.5833 14.0938 10.75C13.8507 10.9167 13.5764 11 13.2708 11H6.60417L5.72917 12.5H16V14H5.75C5.16667 14 4.72917 13.7465 4.4375 13.2396C4.14583 12.7326 4.14583 12.2361 4.4375 11.75L5.52083 9.875L2.79167 3.5H1Z",fill:"currentColor"})}),p=()=>(0,d.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{d:"M5.75 16.5C5.0556 16.5 4.4653 16.2569 3.9792 15.7708C3.4931 15.2847 3.25 14.6944 3.25 14H1.5L2 12.5H3.75C3.9861 12.1944 4.2794 11.9514 4.63 11.7708C4.9804 11.5903 5.3538 11.5 5.75 11.5C6.1462 11.5 6.5196 11.5903 6.87 11.7708C7.2206 11.9514 7.5139 12.1944 7.75 12.5H11.8333L13.5833 5.5H4.5L4.6667 5C4.7778 4.69444 4.9618 4.45139 5.2188 4.27083C5.4757 4.09028 5.7639 4 6.0833 4H15.5L14.75 7H16.5L19 10.5L18 14H17C17 14.6944 16.7569 15.2847 16.2708 15.7708C15.7847 16.2569 15.1944 16.5 14.5 16.5C13.8056 16.5 13.2153 16.2569 12.7292 15.7708C12.2431 15.2847 12 14.6944 12 14H8.25C8.25 14.6944 8.0069 15.2847 7.5208 15.7708C7.0347 16.2569 6.4444 16.5 5.75 16.5ZM13.75 11H17.2917L17.3542 10.7708L15.7292 8.5H14.375L13.75 11ZM0.5 11.1667L0.875 9.66667H5L4.625 11.1667H0.5ZM2 8.33333L2.375 6.83333H7.25L6.875 8.33333H2ZM5.75 15C6.0333 15 6.2708 14.9042 6.4625 14.7125C6.6542 14.5208 6.75 14.2833 6.75 14C6.75 13.7167 6.6542 13.4792 6.4625 13.2875C6.2708 13.0958 6.0333 13 5.75 13C5.4667 13 5.2292 13.0958 5.0375 13.2875C4.8458 13.4792 4.75 13.7167 4.75 14C4.75 14.2833 4.8458 14.5208 4.0375 14.7125C5.2292 14.9042 5.4667 15 5.75 15ZM14.5 15C14.7833 15 15.0208 14.9042 15.2125 14.7125C15.4042 14.5208 15.5 14.2833 15.5 14C15.5 13.7167 15.4042 13.4792 15.2125 13.2875C15.0208 13.0958 14.7833 13 14.5 13C14.2167 13 13.9792 13.0958 13.7875 13.2875C13.5958 13.4792 13.5 13.7167 13.5 14C13.5 14.2833 13.5958 14.5208 13.7875 14.7125C13.9792 14.9042 14.2167 15 14.5 15Z",fill:"currentColor"})}),f=()=>(0,d.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{d:"M18 18L15 15H7.5C7.0875 15 6.7344 14.8531 6.4406 14.5594C6.1469 14.2656 6 13.9125 6 13.5V12.5H14C14.4125 12.5 14.7656 12.3531 15.0594 12.0594C15.3531 11.7656 15.5 11.4125 15.5 11V6H16.5C16.9125 6 17.2656 6.14688 17.5594 6.44063C17.8531 6.73438 18 7.0875 18 7.5V18ZM3.5 10.375L4.375 9.5H12.5V3.5H3.5V10.375ZM2 14V3.5C2 3.0875 2.1469 2.73438 2.4406 2.44063C2.7344 2.14688 3.0875 2 3.5 2H12.5C12.9125 2 13.2656 2.14688 13.5594 2.44063C13.8531 2.73438 14 3.0875 14 3.5V9.5C14 9.9125 13.8531 10.2656 13.5594 10.5594C13.2656 10.8531 12.9125 11 12.5 11H5L2 14Z",fill:"currentColor"})}),x=()=>(0,d.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{d:"M4.938 14.0625C5.688 13.5347 6.49 13.1424 7.344 12.8854C8.198 12.6285 9.083 12.5 10 12.5C10.917 12.5 11.802 12.6285 12.656 12.8854C13.51 13.1424 14.312 13.5347 15.062 14.0625C15.549 13.4931 15.91 12.8611 16.146 12.1667C16.382 11.4722 16.5 10.75 16.5 10C16.5 8.19903 15.866 6.66542 14.599 5.39917C13.332 4.13305 11.798 3.5 9.995 3.5C8.193 3.5 6.66 4.13305 5.396 5.39917C4.132 6.66542 3.5 8.19903 3.5 10C3.5 10.75 3.618 11.4722 3.854 12.1667C4.09 12.8611 4.451 13.4931 4.938 14.0625ZM10 11.5C9.167 11.5 8.458 11.2083 7.875 10.625C7.292 10.0417 7 9.33333 7 8.5C7 7.66667 7.292 6.95833 7.875 6.375C8.458 5.79167 9.167 5.5 10 5.5C10.833 5.5 11.542 5.79167 12.125 6.375C12.708 6.95833 13 7.66667 13 8.5C13 9.33333 12.708 10.0417 12.125 10.625C11.542 11.2083 10.833 11.5 10 11.5ZM10.006 18C8.905 18 7.868 17.7917 6.896 17.375C5.924 16.9583 5.073 16.3854 4.344 15.6562C3.615 14.9271 3.042 14.0767 2.625 13.105C2.208 12.1333 2 11.0951 2 9.99042C2 8.88569 2.208 7.85069 2.625 6.88542C3.042 5.92014 3.615 5.07292 4.344 4.34375C5.073 3.61458 5.923 3.04167 6.895 2.625C7.867 2.20833 8.905 2 10.01 2C11.114 2 12.149 2.20833 13.115 2.625C14.08 3.04167 14.927 3.61458 15.656 4.34375C16.385 5.07292 16.958 5.92167 17.375 6.89C17.792 7.85847 18 8.89319 18 9.99417C18 11.0953 17.792 12.1319 17.375 13.1042C16.958 14.0764 16.385 14.9271 15.656 15.6562C14.927 16.3854 14.078 16.9583 13.11 17.375C12.142 17.7917 11.107 18 10.006 18ZM10 16.5C10.722 16.5 11.417 16.3854 12.083 16.1562C12.75 15.9271 13.375 15.5903 13.958 15.1458C13.361 14.7708 12.729 14.4861 12.062 14.2917C11.396 14.0972 10.708 14 10 14C9.292 14 8.601 14.0938 7.927 14.2812C7.253 14.4688 6.625 14.7569 6.042 15.1458C6.625 15.5903 7.25 15.9271 7.917 16.1562C8.583 16.3854 9.278 16.5 10 16.5ZM10 10C10.417 10 10.771 9.85417 11.062 9.5625C11.354 9.27083 11.5 8.91667 11.5 8.5C11.5 8.08333 11.354 7.72917 11.062 7.4375C10.771 7.14583 10.417 7 10 7C9.583 7 9.229 7.14583 8.938 7.4375C8.646 7.72917 8.5 8.08333 8.5 8.5C8.5 8.91667 8.646 9.27083 8.938 9.5625C9.229 9.85417 9.583 10 10 10Z",fill:"currentColor"})});const h=function(){var e,t,r,a,s,l,i,o,h,g,y;const[b,v]=(0,n.useState)(null),[j,N]=(0,n.useState)("home"),[w,_]=(0,n.useState)(!1),[k,C]=(0,n.useState)(!1),[S,E]=(0,n.useState)("login"),[P,z]=(0,n.useState)(!1),[L,D]=(0,n.useState)([]),[T,F]=(0,n.useState)([]),[M,O]=(0,n.useState)([]),[R,A]=(0,n.useState)(!1),[I,B]=(0,n.useState)("pyexpress"),[H,U]=(0,n.useState)(""),[q,V]=(0,n.useState)(""),[W,Y]=(0,n.useState)(!1),[$,Q]=(0,n.useState)([]),[K,G]=(0,n.useState)(""),[Z,J]=(0,n.useState)(null),[X,ee]=(0,n.useState)([]),[te,re]=(0,n.useState)(""),[ne,ae]=(0,n.useState)([]),[se,le]=(0,n.useState)(!1),[ie,oe]=(0,n.useState)(null),[ce,de]=(0,n.useState)(null),[ue,me]=(0,n.useState)(!1),[pe,fe]=(0,n.useState)([]),[xe,he]=(0,n.useState)(!1),[ge,ye]=(0,n.useState)([]),[be,ve]=(0,n.useState)(!1),[je,Ne]=(0,n.useState)(!1),[we,_e]=(0,n.useState)(!1),[ke,Ce]=(0,n.useState)(null),[Se,Ee]=(0,n.useState)(!1),[Pe,ze]=(0,n.useState)({}),[Le,De]=(0,n.useState)("dropoff"),[Te,Fe]=(0,n.useState)(!1),[Me,Oe]=(0,n.useState)(null),[Re,Ae]=(0,n.useState)({}),[Ie,Be]=(0,n.useState)({}),[He,Ue]=(0,n.useState)(!1),[qe,Ve]=(0,n.useState)([]),[We,Ye]=(0,n.useState)([]),[$e,Qe]=(0,n.useState)(!1),[Ke,Ge]=(0,n.useState)({location:"",vehicle_type:"",min_rating:null}),[Ze,Je]=(0,n.useState)(!1),[Xe,et]=(0,n.useState)(null),[tt,rt]=(0,n.useState)([]),[nt,at]=(0,n.useState)([]),[st,lt]=(0,n.useState)(!1),[it,ot]=(0,n.useState)(!1),[ct,dt]=(0,n.useState)(!1),[ut,mt]=(0,n.useState)(!1),[pt,ft]=(0,n.useState)([]),[xt,ht]=(0,n.useState)(!1),[gt,yt]=(0,n.useState)(!1),[bt,vt]=(0,n.useState)(null),[jt,Nt]=(0,n.useState)({}),[wt,_t]=(0,n.useState)({}),[kt,Ct]=(0,n.useState)([]),[St,Et]=(0,n.useState)([]),[Pt,zt]=(0,n.useState)([]),[Lt,Dt]=(0,n.useState)(!1),[Tt,Ft]=(0,n.useState)(!1),[Mt,Ot]=(0,n.useState)(null),[Rt,At]=(0,n.useState)([]),[It,Bt]=(0,n.useState)(!1),[Ht,Ut]=(0,n.useState)(!1),[qt,Vt]=(0,n.useState)(null),[Wt,Yt]=(0,n.useState)([]),[$t,Qt]=(0,n.useState)([]),[Kt,Gt]=(0,n.useState)(!1),[Zt,Jt]=(0,n.useState)(null),[Xt,er]=(0,n.useState)(""),[tr,rr]=(0,n.useState)("communities"),[nr,ar]=(0,n.useState)(!1),[sr,lr]=(0,n.useState)(!1),[ir,or]=(0,n.useState)(null),[cr,dr]=(0,n.useState)(null),[ur,mr]=(0,n.useState)(!1),[pr,fr]=(0,n.useState)([]),[xr,hr]=(0,n.useState)(""),[gr,yr]=(0,n.useState)([]),[br,vr]=(0,n.useState)(!1),[jr,Nr]=(0,n.useState)(0),[wr,_r]=(0,n.useState)(!1),[kr,Cr]=(0,n.useState)(null),[Sr,Er]=(0,n.useState)(!1),[Pr,zr]=(0,n.useState)(!1),[Lr,Dr]=(0,n.useState)(!1),[Tr,Fr]=(0,n.useState)(null),[Mr,Or]=(0,n.useState)(!1),[Rr,Ar]=(0,n.useState)(navigator.onLine),[Ir,Br]=(0,n.useState)(!1),[Hr,Ur]=(0,n.useState)([]),[qr,Vr]=(0,n.useState)(!1),[Wr,Yr]=(0,n.useState)(!1),[$r,Qr]=(0,n.useState)(null),[Kr,Gr]=(0,n.useState)({category:"",location:"",min_price:"",max_price:"",only_preorders:!1,seller_type:""}),[Zr,Jr]=(0,n.useState)(!1),[Xr,en]=(0,n.useState)(!1),[tn,rn]=(0,n.useState)(!1),[nn,an]=(0,n.useState)(!1),[sn,ln]=(0,n.useState)("offline"),[on,cn]=(0,n.useState)([]),[dn,un]=(0,n.useState)([]),[mn,pn]=(0,n.useState)([]),[fn,xn]=(0,n.useState)({driver_name:"",phone_number:"",email:"",profile_picture:"",driver_license:"",vehicle_type:"motorcycle",plate_number:"",make_model:"",color:"",year:""}),[hn,gn]=(0,n.useState)(""),[yn,bn]=(0,n.useState)([]),[vn,jn]=(0,n.useState)(null),[Nn,wn]=(0,n.useState)(!1),[_n,kn]=(0,n.useState)([]),[Cn,Sn]=(0,n.useState)(""),[En,Pn]=(0,n.useState)(""),[zn,Ln]=(0,n.useState)(null),[Dn,Tn]=(0,n.useState)([]),[Fn,Mn]=(0,n.useState)(!1),[On,Rn]=(0,n.useState)(null),[An,In]=(0,n.useState)([""]),[Bn,Hn]=(0,n.useState)(!1),[Un,qn]=(0,n.useState)("review"),[Vn,Wn]=(0,n.useState)("pyexpress"),[Yn,$n]=(0,n.useState)({full_name:"",phone:"",email:"",address_line_1:"",address_line_2:"",city:"",state:"",postal_code:"",country:"Nigeria",delivery_instructions:""}),[Qn,Kn]=(0,n.useState)({}),[Gn,Zn]=(0,n.useState)({subtotal:0,delivery_total:0,total:0,item_count:0}),[Jn,Xn]=(0,n.useState)(!1),[ea,ta]=(0,n.useState)(null),[ra,na]=(0,n.useState)(null),[aa,sa]=(0,n.useState)(!1),[la,ia]=(0,n.useState)(null),[oa,ca]=(0,n.useState)({order_id:"",order_type:"regular",pickup_address:"",delivery_addresses:[""],total_quantity:"",quantity_unit:"kg",product_details:"",weight_kg:"",special_instructions:"",estimated_price:"",preferred_driver_username:""}),[da,ua]=(0,n.useState)({product_name:"",product_category:"vegetables",description:"",total_stock:"",unit:"kg",price_per_unit:"",partial_payment_percentage:.3,location:"",delivery_date:"",business_name:"",farm_name:"",images:[]}),[ma,pa]=(0,n.useState)(0),fa=[{title:"buy_from_farm"===j?"PyHub - Farm Deals":"PyExpress",description:"buy_from_farm"===j?"Direct trade platform for bulk agricultural produce. Connect with farmers and agents for wholesale farm deals.":"Revolutionizing African agriculture through technology. Connecting farmers, suppliers, agents, and buyers.",bgGradient:"from-emerald-100 to-emerald-50",cta:null},{title:"Join Our Agent Network",description:"Earn commissions while helping farmers reach more customers. Connect producers with buyers and grow your income.",bgGradient:"from-blue-100 to-blue-50",cta:{text:"Become an Agent",action:"agent_register"}},{title:"Suppliers & Processors Welcome",description:"List your products and reach thousands of buyers. Expand your market reach with our platform.",bgGradient:"from-purple-100 to-purple-50",cta:{text:"Become a Supplier",action:"supplier_register"}},{title:"Hotels, Cafes & Restaurants",description:"Source fresh ingredients directly from farms and suppliers. Get the best prices for your business needs.",bgGradient:"from-orange-100 to-orange-50",cta:{text:"Register Your Business",action:"business_register"}},{title:"Fast & Reliable Delivery",description:"Quick delivery with our network of verified drivers and logistics partners nationwide.",bgGradient:"from-green-100 to-green-50",cta:null}],[xa,ha]=(0,n.useState)({first_name:"",last_name:"",username:"",email_or_phone:"",password:"",phone:"",gender:"",date_of_birth:""}),[ga,ya]=(0,n.useState)("basic"),[ba,va]=(0,n.useState)(""),[ja,Na]=(0,n.useState)(""),[wa,_a]=(0,n.useState)({business_name:"",business_address:"",city:"",state:"",country:"",home_address:""}),[ka,Ca]=(0,n.useState)(""),[Sa,Ea]=(0,n.useState)(""),[Pa,za]=(0,n.useState)({nin:"",cac_number:"",photo:"",farm_photo:"",farm_info:""}),[La,Da]=(0,n.useState)(""),[Ta,Fa]=(0,n.useState)(""),[Ma,Oa]=(0,n.useState)({}),[Ra,Aa]=(0,n.useState)([]),[Ia,Ba]=(0,n.useState)([]),[Ha,Ua]=(0,n.useState)(""),[qa,Va]=(0,n.useState)(""),[Wa,Ya]=(0,n.useState)({name:"",id_number:"",address:""}),[$a,Qa]=(0,n.useState)({farm_name:"",address:"",produce:""});(0,n.useEffect)((()=>{const e=localStorage.getItem("token");e&&Ka(e),Ga(),Za(),Ja(),ys(),ws(),fetchCommunities(),M.length>0&&Ss()}),[j,H,q]),(0,n.useEffect)((()=>{L.length>0&&bs()}),[L]),(0,n.useEffect)((()=>{const e=setInterval((()=>{pa((e=>(e+1)%fa.length))}),5e3);return()=>clearInterval(e)}),[fa.length]),(0,n.useEffect)((()=>{b&&"logistics"===b.role&&rs(),b&&(as(),us(),ps())}),[b]),(0,n.useEffect)((()=>{cs(),ds(),fetchCommunities(),fs()}),[]),(0,n.useEffect)((()=>{const e=()=>{console.log("App is online"),Ar(!0),Vr(!1),"serviceWorker"in navigator&&"sync"in navigator.serviceWorker&&navigator.serviceWorker.ready.then((e=>{e.sync.register("sync-offline-requests")}))},t=()=>{console.log("App is offline"),Ar(!1),Vr(!0)};return window.addEventListener("online",e),window.addEventListener("offline",t),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",(e=>{"SYNC_SUCCESS"===e.data.type&&(console.log("Synced offline request:",e.data.url),Br(!1),Ga())})),window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),Qr(e),Yr(!0)})),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}),[]);const Ka=async e=>{try{const t=await fetch("".concat(u,"/api/user/profile"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();if(v(e),e.role){N({farmer:"pyhub",agent:"pyhub",storage_owner:"pyhub",logistics_business:"pyhub",super_agent:"pyhub"}[e.role]||"pyexpress")}}}catch(t){console.error("Error fetching profile:",t)}},Ga=async()=>{try{const e="buy_from_farm"===j?"farm_deals":"home";let t="".concat("https://api.pyramydhyb.com","/api/products?platform=").concat(e);const r=H||Kr.category;r&&(t+="&category=".concat(r)),q&&(t+="&search_term=".concat(encodeURIComponent(q),"&global_search=true")),Kr.location&&(t+="&location=".concat(Kr.location)),Kr.min_price&&(t+="&min_price=".concat(Kr.min_price)),Kr.max_price&&(t+="&max_price=".concat(Kr.max_price)),Kr.only_preorders&&(t+="&only_preorders=true"),Kr.seller_type&&(t+="&seller_type=".concat(Kr.seller_type));const n=await fetch(t);if(n.ok){const e=await n.json();let t=[];if(e.products&&Array.isArray(e.products)&&(t=[...t,...e.products]),e.preorders&&Array.isArray(e.preorders)){const r=e.preorders.map((e=>c(c({},e),{},{type:"preorder"})));t=[...t,...r]}Array.isArray(e)&&(t=e),D(t)}else console.error("Failed to fetch products"),D([])}catch(e){console.error("Error fetching products:",e),D([])}},Za=async()=>{try{const e=await fetch("".concat(u,"/api/categories")),t=await e.json();F(t)}catch(e){console.error("Error fetching categories:",e)}},Ja=async()=>{try{const e=await fetch("".concat("https://api.pyramydhyb.com","/api/dropoff-locations?active_only=true&limit=100"));if(e.ok){const t=await e.json();ye(t.locations||[])}}catch(e){console.error("Error fetching drop-off locations:",e)}},Xa=async e=>{try{const t=await fetch("".concat("https://api.pyramydhyb.com","/api/ratings/").concat(e,"?rating_type=user_rating"));if(t.ok){const r=await t.json();return Ae((t=>c(c({},t),{},{[e]:r}))),r}}catch(t){console.error("Error fetching user ratings:",t)}return null},es=async e=>{try{const t=await fetch("".concat("https://api.pyramydhyb.com","/api/ratings/").concat(e,"?rating_type=product_rating"));if(t.ok){const r=await t.json();return Be((t=>c(c({},t),{},{[e]:r}))),r}}catch(t){console.error("Error fetching product ratings:",t)}return null},ts=()=>{Fe(!1),Oe(null)},rs=async()=>{if(b&&"logistics"===b.role){try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://api.pyramydhyb.com","/api/driver-slots/my-slots"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();return Ve(e.slots||[]),e}}catch(e){console.error("Error fetching driver slots:",e)}return null}},ns=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;e.location&&t.append("location",e.location),e.vehicle_type&&t.append("vehicle_type",e.vehicle_type),e.min_rating&&t.append("min_rating",e.min_rating);const r=await fetch("".concat("https://api.pyramydhyb.com","/api/drivers/find-drivers?").concat(t));if(r.ok){const e=await r.json();return Ye(e.drivers||[]),e}}catch(t){console.error("Error fetching available drivers:",t)}return null},as=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://api.pyramydhyb.com","/api/wallet/summary"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();return et(e),e}}catch(e){console.error("Error fetching wallet summary:",e)}return null},ss=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://api.pyramydhyb.com","/api/wallet/transactions?limit=50"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();return rt(e.transactions||[]),e}}catch(e){console.error("Error fetching wallet transactions:",e)}return null},ls=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://api.pyramydhyb.com","/api/wallet/bank-accounts"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();return at(e.accounts||[]),e}}catch(e){console.error("Error fetching bank accounts:",e)}return null},is=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://api.pyramydhyb.com","/api/wallet/gift-cards/my-cards"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();return ft(e.gift_cards||[]),e}}catch(e){console.error("Error fetching user gift cards:",e)}return null},os=async e=>{try{const t=await fetch("".concat("https://api.pyramydhyb.com","/api/wallet/gift-cards/").concat(e.toUpperCase()));if(t.ok){const e=await t.json();return vt(e),e}return vt(null),null}catch(t){return console.error("Error fetching gift card details:",t),vt(null),null}},cs=async()=>{try{const e=await fetch("".concat("https://api.pyramydhyb.com","/api/categories/business"));if(e.ok){const t=await e.json();return Nt(t.categories||{}),t}}catch(e){console.error("Error fetching business categories:",e)}return null},ds=async()=>{try{const e=await fetch("".concat("https://api.pyramydhyb.com","/api/categories/dynamic"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("pyramyd_token"))}});if(e.ok){const t=await e.json();_t(t.categories),Ct(t.processing_levels),zt(t.locations||[]),Et(t.seller_types||[])}}catch(e){console.error("Error fetching product categories:",e)}},us=async()=>{if(b){try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://api.pyramydhyb.com","/api/users/kyc/status"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();return Ot(e),e.requires_kyc&&"not_started"===e.status&&!Tt&&setTimeout((()=>Ft(!0)),3e3),e}}catch(e){console.error("Error fetching KYC status:",e)}return null}},ms=async()=>{if(b&&window.confirm("Are you sure you want to remove your profile picture?"))try{const e=localStorage.getItem("token");if((await fetch("".concat("https://api.pyramydhyb.com","/api/users/profile-picture"),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e)}})).ok)return v(c(c({},b),{},{profile_picture:null})),alert("Profile picture removed successfully! \u2705"),!0}catch(e){return console.error("Error deleting profile picture:",e),alert("Failed to delete profile picture. Please try again."),null}},ps=async()=>{if(b){try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://api.pyramydhyb.com","/api/communities/my-communities"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();return Yt(e.communities||[]),e}}catch(e){console.error("Error fetching user communities:",e)}return null}},fs=async()=>{try{const e=await fetch("".concat("https://api.pyramydhyb.com","/api/communities/featured/products?limit=6"));if(e.ok){const t=await e.json();return Qt(t.products||[]),t}}catch(e){console.error("Error fetching featured community products:",e)}return null},xs=async e=>{try{const t=await fetch("".concat("https://api.pyramydhyb.com","/api/communities/").concat(e));if(t.ok){const e=await t.json();return Jt(e),e}}catch(t){console.error("Error fetching community details:",t)}return null},hs=async e=>{Or(!0);try{const t=await fetch("".concat("https://api.pyramydhyb.com","/api/users/public/").concat(e));if(t.ok){const e=await t.json();return Fr(e),Dr(!0),e}alert("Unable to fetch seller details")}catch(t){console.error("Error fetching seller details:",t),alert("Failed to load seller information")}finally{Or(!1)}return null},gs=async e=>{try{const t=localStorage.getItem("token"),r=await fetch("".concat("https://api.pyramydhyb.com","/api/communities/").concat(e,"/join"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)}});if(r.ok){const e=await r.json();return await ps(),e}{const e=await r.json();throw new Error(e.detail||"Failed to join community")}}catch(t){throw console.error("Error joining community:",t),t}},ys=async()=>{try{const e=[{product:"Rice (50kg bag)",price:35e3,trend:"+5%",category:"raw_food"},{product:"Beans (100kg bag)",price:85e3,trend:"+2%",category:"raw_food"},{product:"Yam (100kg)",price:45e3,trend:"-3%",category:"raw_food"},{product:"Tomatoes (big basket)",price:8e3,trend:"+8%",category:"pepper_vegetables"},{product:"Onions (50kg bag)",price:25e3,trend:"+1%",category:"pepper_vegetables"},{product:"Garri (50kg bag)",price:32e3,trend:"+4%",category:"packaged_food"},{product:"Palm Oil (25L tin)",price:22e3,trend:"+6%",category:"raw_food"},{product:"Fresh Fish (kg)",price:2500,trend:"+3%",category:"fish_meat"}];return fr(e),e}catch(e){console.error("Error fetching market prices:",e)}return[]},bs=async()=>{try{const e=[...new Set(L.map((e=>e.location)))];return zt(e),e}catch(e){console.error("Error fetching locations:",e)}},vs=e=>{Na(e),"others"===e?ya("business_info"):"skip"===e&&ya("verification")},js=e=>{Ca(e),ya("business"===e?"business_category":"verification")},Ns=e=>{Ea(e),ya("business_status")},ws=async()=>{try{const e=await fetch("".concat("https://api.pyramydhyb.com","/api/products"));if(e.ok){const t=(await e.json()).products.filter((e=>{var t;return(e.listed_by_agent||(null===(t=e.seller_name)||void 0===t?void 0:t.toLowerCase().includes("farmer"))||e.farm_name)&&e.minimum_order_quantity>=10}));return yr(t),t}}catch(e){console.error("Error fetching bulk listings:",e)}return[]},_s=e=>{const t=document.getElementById("categories-container");if(t){const r=200,n="left"===e?Math.max(0,jr-r):Math.min(t.scrollWidth-t.clientWidth,jr+r);t.scrollTo({left:n,behavior:"smooth"}),Nr(n)}},ks=(e,t)=>{if(!e)return;const r=new FileReader;r.onloadend=()=>{Oa((e=>c(c({},e),{},{[t]:r.result})))},r.readAsDataURL(e)},Cs=async()=>{try{const e=c(c({},xa),{},{user_path:ba,buyer_type:ja,business_info:wa,partner_type:ka,business_category:Sa,verification_info:Pa,id_type:La,id_number:Ta,documents:Ma,directors:Ra,farm_details:Ia,registration_status:Ha,bio:qa}),t=await fetch("".concat(u,"/api/auth/complete-registration"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){const e=await t.json();localStorage.setItem("token",e.token),v(e.user),C(!1),ya("basic"),va(""),Na(""),Ca(""),Ea(""),ha({first_name:"",last_name:"",username:"",email_or_phone:"",password:"",phone:"",gender:"",date_of_birth:""})}else{const e=await t.json();alert(e.detail)}}catch(e){console.error("Registration error:",e),alert("An error occurred. Please try again.")}},Ss=()=>{O((e=>e.map((e=>{var t,r;return e.id?e:c(c({},e),{},{id:"cart-".concat(Date.now(),"-").concat(e.product_id),unit:e.unit||(null===(t=e.product)||void 0===t?void 0:t.unit)||"kg",unit_specification:e.unit_specification||(null===(r=e.product)||void 0===r?void 0:r.unit_specification)||"",delivery_method:e.delivery_method||"platform"})}))))},Es=()=>M.filter((e=>{const t=e.product;return"pyexpress"===t.platform||"business"===t.seller_type||"supplier"===t.seller_type})),Ps=()=>M.filter((e=>{const t=e.product;return"pyhub"===t.platform||"farmer"===t.seller_type||"agent"===t.seller_type||t.community_id})),zs=()=>"pyexpress"===I?Es():Ps(),Ls=async e=>{Cr(e),_r(!0);const t=e.id||e._id;if(t){const e=await(async e=>{try{const t=await fetch("".concat("https://api.pyramydhyb.com","/api/products/").concat(e,"/delivery-options"));if(t.ok){const r=await t.json();return ze((t=>c(c({},t),{},{[e]:r}))),r}}catch(t){console.error("Error fetching product delivery options:",t)}return null})(t);e&&(e.supports_dropoff_delivery?De("dropoff"):e.supports_shipping_delivery&&De("shipping"))}},Ds=()=>{_r(!1),Cr(null),De("dropoff")},Ts=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://api.pyramydhyb.com","/api/delivery/available"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();cn(e.delivery_requests||[])}}catch(e){console.error("Error fetching deliveries:",e)}},Fs=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text";try{const n=localStorage.getItem("token");(await fetch("".concat("https://api.pyramydhyb.com","/api/delivery/").concat(e,"/message"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({content:t,type:r,location_data:"location"===r?zn:null})})).ok&&(Ms(e),Pn(""))}catch(n){console.error("Error sending message:",n)}},Ms=async e=>{try{const t=localStorage.getItem("token"),r=await fetch("".concat("https://api.pyramydhyb.com","/api/delivery/").concat(e,"/messages"),{headers:{Authorization:"Bearer ".concat(t)}});if(r.ok){const e=await r.json();kn(e.messages||[]),Rn(e.delivery_request)}}catch(t){console.error("Error fetching messages:",t)}},Os=function(e,t,r,n,a){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if(M.find((t=>t.product_id===(e.id||e._id))))O((i=>i.map((i=>i.product_id===(e.id||e._id)?c(c({},i),{},{quantity:i.quantity+t,unit:r,unit_specification:n,delivery_method:a,dropoff_location:s,shipping_address:l}):i))));else{const i={id:"cart-".concat(Date.now(),"-").concat(e.id||e._id),product_id:e.id||e._id,product:e,quantity:t,unit:r,unit_specification:n,delivery_method:a,dropoff_location:s,shipping_address:l};O((e=>[...e,i]))}const i="".concat(t," ").concat(r).concat(n?" (".concat(n,")"):"");let o="Platform Driver";"offline"===a?o="Offline Delivery":"dropoff"===a&&s?o="Drop-off at ".concat(s.name):l&&(o="Home Delivery"),setTimeout((()=>As()),100),alert("Added to cart: ".concat(i," of ").concat(e.product_name||e.crop_type,"\nDelivery: ").concat(o))},Rs=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"buyer";try{const t=localStorage.getItem("token"),r=await fetch("".concat("https://api.pyramydhyb.com","/api/orders/my-orders?order_type=").concat(e),{headers:{Authorization:"Bearer ".concat(t)}});if(r.ok){const e=await r.json();fe(e.orders||[])}}catch(t){console.error("Error fetching orders:",t)}},As=()=>{let e=0,t=0,r=0,n=0,a=0;const s=b&&("agent"===b.role||"purchasing_agent"===b.role);M.forEach((a=>{const s=a.product.price_per_unit*a.quantity;e+=s,r+=a.quantity;const l="pyhub"===a.product.platform||"farmer"===a.product.seller_type||"agent"===a.product.seller_type,i=a.product.community_id||"community"===a.product.source;if(n+=i?.05*s:l?.1*s:.03*s,"platform"===a.delivery_method){const e=500,r=50*(a.product.weight_kg||1);t+=e+r}else"offline"===a.delivery_method?t+=200:"seller"===a.product.logistics_managed_by&&(t+=a.product.seller_delivery_fee||0)})),s&&(a=.04*e);const l=n+0+t,i=e+l;return Zn({product_total:e,platform_service_charge:n,platform_commission:0,delivery_total:t,platform_cut:l,agent_commission:a,subtotal:e,total:i,item_count:r,is_agent:s}),{product_total:e,platform_service_charge:n,platform_commission:0,delivery_total:t,platform_cut:l,agent_commission:a,subtotal:e,total:i,item_count:r,is_agent:s}},Is=(e,t)=>{t<=0?Bs(e):(O((r=>r.map((r=>r.id===e?c(c({},r),{},{quantity:t}):r)))),As())},Bs=e=>{O((t=>t.filter((t=>t.id!==e)))),As()},Hs=()=>{const e=["full_name","phone","address_line_1","city","state"].filter((e=>!Yn[e].trim()));return e.length>0?(alert("Please fill in the following required fields: ".concat(e.join(", "))),!1):!!/^\+?[\d\s-()]+$/.test(Yn.phone)||(alert("Please enter a valid phone number"),!1)},Us=()=>{if(K.trim()&&Z){const e={id:Date.now(),type:"text",content:K,sender:b.username,timestamp:(new Date).toISOString(),conversation_id:Z.id};Q((t=>[...t,e])),G("")}},qs=async()=>{if(b)try{const e=localStorage.getItem("token"),t=await fetch("".concat(u,"/api/orders"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();fe(e)}}catch(e){console.error("Error fetching orders:",e)}},Vs=(M.reduce(((e,t)=>e+t.product.price_per_unit*t.quantity),0),M.reduce(((e,t)=>e+t.quantity),0)),Ws=e=>{"agent_register"===e?(va("partner"),Ca("agent"),ya("basic"),E("register"),C(!0)):"supplier_register"===e?(va("partner"),Ca("business"),Ea("supplier"),ya("basic"),E("register"),C(!0)):"business_register"===e&&(va("buyer"),Na("hotel"),ya("basic"),E("register"),C(!0))},Ys=()=>{const[e,t]=(0,n.useState)({name:"",description:"",category:"general",privacy_type:"public",location:"",rules:""});return(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,d.jsx)("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Create Community"}),(0,d.jsx)("button",{onClick:()=>Bt(!1),className:"text-gray-400 hover:text-gray-600",children:"\u2715"})]}),(0,d.jsxs)("form",{onSubmit:async r=>{r.preventDefault();try{await(async e=>{try{const t=localStorage.getItem("token"),r=await fetch("".concat("https://api.pyramydhyb.com","/api/communities"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)});if(r.ok){const e=await r.json();return await fetchCommunities(),await ps(),e}{const e=await r.json();throw new Error(e.detail||"Failed to create community")}}catch(t){throw console.error("Error creating community:",t),t}})(e),Bt(!1),t({name:"",description:"",category:"general",privacy_type:"public",location:"",rules:""}),alert("Community created successfully!")}catch(n){alert("Failed to create community: "+n.message)}},className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Community Name *"}),(0,d.jsx)("input",{type:"text",value:e.name,onChange:e=>t((t=>c(c({},t),{},{name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),(0,d.jsx)("textarea",{value:e.description,onChange:e=>t((t=>c(c({},t),{},{description:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",rows:"3",required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,d.jsxs)("select",{value:e.category,onChange:e=>t((t=>c(c({},t),{},{category:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[(0,d.jsx)("option",{value:"general",children:"General"}),(0,d.jsx)("option",{value:"farming",children:"Farming"}),(0,d.jsx)("option",{value:"trading",children:"Trading"}),(0,d.jsx)("option",{value:"logistics",children:"Logistics"}),(0,d.jsx)("option",{value:"processing",children:"Processing"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Privacy Type"}),(0,d.jsxs)("select",{value:e.privacy_type,onChange:e=>t((t=>c(c({},t),{},{privacy_type:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[(0,d.jsx)("option",{value:"public",children:"Public"}),(0,d.jsx)("option",{value:"private",children:"Private"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,d.jsx)("input",{type:"text",value:e.location,onChange:e=>t((t=>c(c({},t),{},{location:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"e.g., Lagos, Nigeria"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Community Rules"}),(0,d.jsx)("textarea",{value:e.rules,onChange:e=>t((t=>c(c({},t),{},{rules:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",rows:"3",placeholder:"Community guidelines and rules..."})]}),(0,d.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,d.jsx)("button",{type:"button",onClick:()=>Bt(!1),className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),(0,d.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors",children:"Create Community"})]})]})]})})})},$s=()=>{const e=Rt.filter((e=>{var t,r,n,a;const s=Xt.toLowerCase();return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(s))||(null===(r=e.description)||void 0===r?void 0:r.toLowerCase().includes(s))||(null===(n=e.category)||void 0===n?void 0:n.toLowerCase().includes(s))||(null===(a=e.location)||void 0===a?void 0:a.toLowerCase().includes(s))}));return(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:(0,d.jsx)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:(0,d.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[(0,d.jsx)("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Find Communities"}),(0,d.jsx)("button",{onClick:()=>{Ut(!1),er("")},className:"text-gray-400 hover:text-gray-600 text-xl sm:text-2xl p-1",children:"\u2715"})]}),(0,d.jsxs)("div",{className:"mb-4 sm:mb-6",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("input",{type:"text",value:Xt,onChange:e=>er(e.target.value),placeholder:"Search communities by name, description, category, or location...",className:"w-full px-4 py-2.5 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-sm"}),(0,d.jsx)("svg",{className:"absolute left-3 top-3 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),Xt&&(0,d.jsx)("button",{onClick:()=>er(""),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:"\u2715"})]}),(0,d.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:[e.length," ",1===e.length?"community":"communities"," found"]})]}),(0,d.jsx)("div",{className:"grid gap-3 sm:gap-4 sm:grid-cols-2 lg:grid-cols-3",children:e.map((e=>(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3 sm:p-4 hover:border-emerald-300 transition-colors",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-2 sm:mb-3",children:[(0,d.jsxs)("div",{className:"flex-1 min-w-0 pr-2",children:[(0,d.jsx)("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 truncate",children:e.name}),(0,d.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:e.category})]}),(0,d.jsx)("span",{className:"px-2 py-0.5 sm:py-1 text-xs rounded-full flex-shrink-0 ".concat("public"===e.privacy_type?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"),children:e.privacy_type})]}),(0,d.jsx)("p",{className:"text-xs sm:text-sm text-gray-700 mb-2 sm:mb-3 line-clamp-2",children:e.description}),(0,d.jsxs)("div",{className:"flex items-center justify-between text-xs sm:text-sm text-gray-600 mb-2 sm:mb-3",children:[(0,d.jsxs)("span",{children:[e.member_count||0," members"]}),e.location&&(0,d.jsx)("span",{className:"truncate ml-2",children:e.location})]}),(0,d.jsx)("button",{onClick:async()=>{try{await gs(e.id),alert("Successfully joined community!")}catch(t){alert("Failed to join community: "+t.message)}},className:"w-full px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors",children:"Join Community"})]},e.id)))}),0===e.length&&(0,d.jsxs)("div",{className:"text-center py-6 sm:py-8",children:[(0,d.jsx)("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,d.jsx)("p",{className:"text-sm sm:text-base text-gray-500",children:Xt?'No communities found matching "'.concat(Xt,'"'):"No communities found. Be the first to create one!"}),Xt&&(0,d.jsx)("button",{onClick:()=>er(""),className:"mt-3 text-sm text-emerald-600 hover:text-emerald-700",children:"Clear search"})]})]})})})},Qs=()=>{var e,t;const[r,a]=(0,n.useState)((null===b||void 0===b?void 0:b.profile_picture)||null);return(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,d.jsx)("div",{className:"bg-white rounded-lg max-w-md w-full",children:(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,d.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Profile Picture"}),(0,d.jsx)("button",{onClick:()=>Er(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,d.jsxs)("div",{className:"flex flex-col items-center mb-6",children:[(0,d.jsx)("div",{className:"relative",children:r?(0,d.jsx)("img",{src:r,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-emerald-500"}):(0,d.jsx)("div",{className:"w-32 h-32 rounded-full bg-emerald-500 flex items-center justify-center text-white text-4xl font-bold border-4 border-emerald-600",children:(null===b||void 0===b||null===(e=b.first_name)||void 0===e?void 0:e.charAt(0).toUpperCase())||"U"})}),(0,d.jsxs)("p",{className:"text-sm text-gray-600 mt-3",children:[null===b||void 0===b?void 0:b.first_name," ",null===b||void 0===b?void 0:b.last_name]}),(0,d.jsx)("p",{className:"text-xs text-gray-500 capitalize",children:null===b||void 0===b||null===(t=b.role)||void 0===t?void 0:t.replace("_"," ")})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Choose New Picture"}),(0,d.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(!t)return;if(!t.type.startsWith("image/"))return void alert("Please select an image file");if(t.size>5242880)return void alert("Image size must be less than 5MB");const r=new FileReader;r.onloadend=()=>{a(r.result)},r.readAsDataURL(t)},className:"block w-full text-sm text-gray-500\r file:mr-4 file:py-2 file:px-4\r file:rounded-lg file:border-0\r file:text-sm file:font-semibold\r file:bg-emerald-50 file:text-emerald-700\r hover:file:bg-emerald-100\r cursor-pointer"}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Max size: 5MB. Formats: JPG, PNG, GIF"})]}),(0,d.jsxs)("div",{className:"flex gap-3",children:[(0,d.jsx)("button",{onClick:async()=>{r?await(async e=>{if(b){zr(!0);try{const t=localStorage.getItem("token"),r=await fetch("".concat("https://api.pyramydhyb.com","/api/users/profile-picture"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({profile_picture:e})});if(r.ok){const e=await r.json();return v(c(c({},b),{},{profile_picture:e.profile_picture})),alert("Profile picture updated successfully! \u2705"),Er(!1),!0}{const e=await r.json();alert("Failed to upload: ".concat(e.detail||"Unknown error"))}}catch(t){console.error("Error uploading profile picture:",t),alert("Failed to upload profile picture. Please try again.")}finally{zr(!1)}return!1}})(r):alert("Please select an image first")},disabled:Pr||!r,className:"flex-1 px-4 py-2 text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed",children:Pr?"Uploading...":"Upload Picture"}),(null===b||void 0===b?void 0:b.profile_picture)&&(0,d.jsx)("button",{onClick:ms,className:"px-4 py-2 text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition-colors font-medium",children:"Remove"})]}),(0,d.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,d.jsxs)("p",{className:"text-xs text-blue-800",children:[(0,d.jsx)("strong",{children:"\ud83d\udd12 Transparency:"})," Your profile picture will appear on all products you post, helping buyers know who they're purchasing from."]})})]})]})})})},Ks=()=>Zt?(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,d.jsx)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[Zt.profile_picture?(0,d.jsx)("img",{src:Zt.profile_picture,alt:Zt.name,className:"w-16 h-16 rounded-full object-cover border-4 border-emerald-500"}):(0,d.jsx)("div",{className:"w-16 h-16 rounded-full bg-emerald-500 flex items-center justify-center text-white font-bold text-2xl border-4 border-emerald-600",children:Zt.name.charAt(0).toUpperCase()}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:Zt.name}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:Zt.category}),(0,d.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-sm text-gray-600",children:[(0,d.jsxs)("span",{children:[Zt.member_count||0," members"]}),Zt.location&&(0,d.jsxs)("span",{children:["\ud83d\udccd ",Zt.location]})]})]})]}),(0,d.jsx)("button",{onClick:()=>Gt(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,d.jsx)("div",{className:"mb-6",children:(0,d.jsx)("p",{className:"text-gray-700",children:Zt.description})}),(0,d.jsx)("div",{className:"flex gap-3 mb-6",children:(0,d.jsx)("button",{onClick:async()=>{try{await gs(Zt.id),alert("Successfully joined community!"),xs(Zt.id)}catch(e){alert("Failed to join: "+e.message)}},className:"px-6 py-2 text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors font-medium",children:"Join Community"})}),Zt.recent_products&&Zt.recent_products.length>0&&(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Products"}),(0,d.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:Zt.recent_products.map((e=>(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-emerald-300 transition-colors",children:[(0,d.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:e.title}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:e.description}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("span",{className:"text-lg font-bold text-emerald-600",children:["\u20a6",e.price]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,d.jsxs)("span",{children:["\u2764\ufe0f ",e.likes_count||0]}),(0,d.jsxs)("span",{children:["\ud83d\udcac ",e.comments_count||0]})]})]})]},e.id)))})]}),Zt.recent_members&&Zt.recent_members.length>0&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Members"}),(0,d.jsx)("div",{className:"flex flex-wrap gap-3",children:Zt.recent_members.map((e=>{var t;return(0,d.jsxs)("div",{className:"flex items-center gap-2 bg-gray-50 rounded-lg px-3 py-2",children:[(0,d.jsx)("div",{className:"w-8 h-8 rounded-full bg-emerald-500 flex items-center justify-center text-white font-semibold text-xs",children:(null===(t=e.username)||void 0===t?void 0:t.charAt(0).toUpperCase())||"U"}),(0,d.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.username}),"admin"===e.role&&(0,d.jsx)("span",{className:"text-xs bg-emerald-100 text-emerald-700 px-2 py-0.5 rounded-full",children:"Admin"})]},e.id)}))})]})]})})}):null,Gs=()=>{var e,t;return Tr?(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,d.jsx)("div",{className:"bg-white rounded-lg max-w-md w-full",children:(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,d.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Seller Information"}),(0,d.jsx)("button",{onClick:()=>Dr(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,d.jsxs)("div",{className:"flex flex-col items-center mb-6",children:[Tr.profile_picture?(0,d.jsx)("img",{src:Tr.profile_picture,alt:Tr.username,className:"w-24 h-24 rounded-full object-cover border-4 border-emerald-500 mb-4"}):(0,d.jsx)("div",{className:"w-24 h-24 rounded-full bg-emerald-500 flex items-center justify-center text-white font-bold text-3xl border-4 border-emerald-600 mb-4",children:(null===(e=Tr.first_name)||void 0===e?void 0:e.charAt(0).toUpperCase())||"U"}),(0,d.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[Tr.first_name," ",Tr.last_name]}),(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:["@",Tr.username]})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,d.jsx)("span",{className:"text-sm text-gray-600",children:"Type"}),(0,d.jsxs)("span",{className:"text-sm font-medium text-gray-900 capitalize",children:["farmer"===Tr.role&&"\ud83d\udc68\u200d\ud83c\udf3e Farmer","agent"===Tr.role&&"\ud83e\udd1d Agent","business"===Tr.role&&"\ud83c\udfe2 Business","supplier"===Tr.role&&"\ud83d\udce6 Supplier",!["farmer","agent","business","supplier"].includes(Tr.role)&&Tr.role]})]}),Tr.business_name&&(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,d.jsx)("span",{className:"text-sm text-gray-600",children:"Business"}),(0,d.jsx)("span",{className:"text-sm font-medium text-gray-900",children:Tr.business_name})]}),Tr.business_category&&(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,d.jsx)("span",{className:"text-sm text-gray-600",children:"Category"}),(0,d.jsx)("span",{className:"text-sm font-medium text-gray-900 capitalize",children:Tr.business_category.replace("_"," ")})]}),Tr.business_description&&(0,d.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,d.jsx)("span",{className:"text-sm text-gray-600 block mb-1",children:"About"}),(0,d.jsx)("p",{className:"text-sm text-gray-900",children:Tr.business_description})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,d.jsx)("span",{className:"text-sm text-gray-600",children:"Rating"}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"flex",children:[...Array(5)].map(((e,t)=>(0,d.jsx)("span",{className:"text-sm ".concat(t<Math.floor(Tr.average_rating||5)?"text-yellow-400":"text-gray-300"),children:"\u2b50"},t)))}),(0,d.jsx)("span",{className:"text-sm font-medium text-gray-900",children:(null===(t=Tr.average_rating)||void 0===t?void 0:t.toFixed(1))||"5.0"}),Tr.total_ratings>0&&(0,d.jsxs)("span",{className:"text-xs text-gray-500",children:["(",Tr.total_ratings," reviews)"]})]})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,d.jsx)("span",{className:"text-sm text-gray-600",children:"Status"}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[Tr.is_verified&&(0,d.jsx)("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:"\u2713 Verified"}),"approved"===Tr.kyc_status&&(0,d.jsx)("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium",children:"\u2713 KYC Approved"})]})]})]}),(0,d.jsx)("div",{className:"mt-6 p-3 bg-emerald-50 border border-emerald-200 rounded-lg",children:(0,d.jsxs)("p",{className:"text-xs text-emerald-800",children:[(0,d.jsx)("strong",{children:"\ud83d\udd12 Transparency:"})," All seller information is verified through Pyramyd's KYC process to ensure safe transactions."]})})]})})}):null};return(0,d.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[b&&"personal"!==b.role&&Mt&&"approved"!==Mt.status&&(0,d.jsx)("div",{className:"".concat("not_started"===Mt.status?"bg-red-500":"pending"===Mt.status?"bg-yellow-500":"bg-red-500"," text-white px-4 py-2 text-center text-sm"),children:(0,d.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-center space-x-4",children:[(0,d.jsxs)("span",{children:["not_started"===Mt.status&&"\u26a0\ufe0f Complete your KYC verification to start receiving payments","pending"===Mt.status&&"\u23f3 Your KYC is under review. You'll be able to receive payments once approved","rejected"===Mt.status&&"\u274c Your KYC was rejected. Please resubmit with correct documents"]}),"pending"!==Mt.status&&(0,d.jsx)("button",{onClick:()=>{alert("KYC completion form will open here. This includes:\n\nFor Registered Businesses:\n- Business Registration Number\n- TIN Certificate\n- Certificate of Incorporation\n\nFor Others (Farmers/Agents/Unregistered):\n- NIN or BVN\n- Headshot photo (camera)\n- National ID upload\n- Utility bill")},className:"bg-white text-red-600 px-3 py-1 rounded text-xs font-medium hover:bg-gray-100 transition-colors",children:"Complete Now"})]})}),qr&&(0,d.jsx)("div",{className:"bg-gray-800 text-white px-4 py-2 text-center text-sm",children:(0,d.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-center space-x-2",children:[(0,d.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636a9 9 0 010 12.728m0 0l-2.829-2.829m2.829 2.829L21 21M15.536 8.464a5 5 0 010 7.072m0 0l-2.829-2.829m-4.243 2.829a4.978 4.978 0 01-1.414-2.83m-1.414 5.658a9 9 0 01-2.167-9.238m7.824 2.167a1 1 0 111.414 1.414m-1.414-1.414L3 3m8.293 8.293l1.414 1.414"})}),(0,d.jsx)("span",{children:"\ud83d\udce1 You're offline. Browsing cached content. Posts will sync when online."})]})}),Wr&&(0,d.jsx)("div",{className:"bg-emerald-600 text-white px-4 py-3 text-center text-sm",children:(0,d.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-center space-x-4",children:[(0,d.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),(0,d.jsx)("span",{children:"Install Pyramyd app for offline access and faster performance!"}),(0,d.jsx)("button",{onClick:async()=>{if(!$r)return;$r.prompt();const{outcome:e}=await $r.userChoice;"accepted"===e&&console.log("User accepted PWA install"),Qr(null),Yr(!1)},className:"bg-white text-emerald-600 px-4 py-1.5 rounded text-xs font-medium hover:bg-gray-100 transition-colors",children:"Install Now"}),(0,d.jsx)("button",{onClick:()=>Yr(!1),className:"text-white hover:text-gray-200 text-lg",children:"\u2715"})]})}),(0,d.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:(0,d.jsx)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8",children:(0,d.jsxs)("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[(0,d.jsx)("div",{className:"flex items-center flex-shrink-0",children:(0,d.jsx)("img",{src:"https://customer-assets.emergentagent.com/job_pyramyd-agritech/artifacts/ml8alcyl_image.png",alt:"Pyramyd",className:"h-5 sm:h-6 md:h-8 lg:h-10 w-auto"})}),(0,d.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-lg p-1 mx-2 sm:mx-4",children:[(0,d.jsx)("button",{onClick:()=>N("home"),className:"px-2 sm:px-3 py-1 sm:py-2 rounded-md text-xs sm:text-sm font-medium transition-colors ".concat("home"===j?"bg-emerald-600 text-white":"text-gray-600 hover:text-gray-900"),children:"Home"}),(0,d.jsxs)("button",{onClick:()=>N("buy_from_farm"),className:"px-2 sm:px-3 py-1 sm:py-2 rounded-md text-xs sm:text-sm font-medium transition-colors ".concat("buy_from_farm"===j?"bg-emerald-600 text-white":"text-gray-600 hover:text-gray-900"),children:[(0,d.jsx)("span",{className:"hidden sm:inline",children:"Farm Deals"}),(0,d.jsx)("span",{className:"sm:hidden",children:"Farm"})]}),(0,d.jsxs)("button",{onClick:()=>N("communities"),className:"px-2 sm:px-3 py-1 sm:py-2 rounded-md text-xs sm:text-sm font-medium transition-colors ".concat("communities"===j?"bg-emerald-600 text-white":"text-gray-600 hover:text-gray-900"),children:[(0,d.jsx)("span",{className:"hidden sm:inline",children:"Communities"}),(0,d.jsx)("span",{className:"sm:hidden",children:"Groups"})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:[(0,d.jsxs)("button",{onClick:()=>A(!0),className:"nav-button icon-button relative p-1 sm:p-1.5 md:p-2 text-gray-600 hover:text-emerald-600 transition-colors rounded-lg border border-gray-200 hover:border-emerald-500 flex-shrink-0",title:"Shopping Cart",children:[(0,d.jsx)("div",{className:"w-5 h-5",children:(0,d.jsx)(m,{})}),Vs>0&&(0,d.jsx)("span",{className:"absolute -top-1 -right-1 bg-emerald-600 text-white text-xs rounded-full h-4 w-4 sm:h-5 sm:w-5 flex items-center justify-center font-semibold text-[10px] sm:text-xs",children:Vs})]}),(0,d.jsxs)("button",{onClick:()=>{b?Y(!0):C(!0)},className:"nav-button icon-button relative p-1.5 md:p-2 text-gray-600 hover:text-emerald-600 transition-colors rounded-lg border border-gray-200 hover:border-emerald-500 hidden md:flex flex-shrink-0",title:"Messages",children:[(0,d.jsx)("div",{className:"w-5 h-5",children:(0,d.jsx)(f,{})}),b&&$.length>0&&(0,d.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 sm:h-5 sm:w-5 flex items-center justify-center font-semibold text-[10px] sm:text-xs",children:$.length})]}),(0,d.jsx)("button",{onClick:()=>{b?(me(!0),qs()):C(!0)},className:"nav-button icon-button p-1.5 md:p-2 text-gray-600 hover:text-emerald-600 transition-colors rounded-lg border border-gray-200 hover:border-emerald-500 hidden md:flex flex-shrink-0",title:"Track Orders / Find Drivers",children:(0,d.jsx)("div",{className:"w-5 h-5",children:(0,d.jsx)(p,{})})}),(0,d.jsxs)("div",{className:"relative flex-shrink-0",children:[b?(0,d.jsxs)("button",{onClick:()=>he(!xe),className:"nav-button icon-button flex items-center gap-1 sm:gap-2 p-1 sm:p-1.5 md:p-2 text-gray-600 hover:text-emerald-600 transition-colors rounded-lg border border-gray-200 hover:border-emerald-500",title:"Profile Menu",children:[(0,d.jsx)("div",{className:"w-5 h-5 flex-shrink-0",children:(0,d.jsx)(x,{})}),(0,d.jsx)("span",{className:"hidden md:inline text-xs md:text-sm font-medium whitespace-nowrap",children:b.first_name})]}):(0,d.jsxs)("button",{onClick:()=>C(!0),className:"nav-button icon-button flex items-center gap-1 sm:gap-2 p-1 sm:p-1.5 md:p-2 text-gray-600 hover:text-emerald-600 transition-colors rounded-lg border border-gray-200 hover:border-emerald-500",title:"Sign In",children:[(0,d.jsx)("div",{className:"w-5 h-5 flex-shrink-0",children:(0,d.jsx)(x,{})}),(0,d.jsx)("span",{className:"hidden md:inline text-xs md:text-sm font-medium whitespace-nowrap",children:"Sign In"})]}),xe&&(0,d.jsx)("div",{className:"profile-dropdown absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:(0,d.jsxs)("div",{className:"py-1",children:[(0,d.jsxs)("div",{className:"px-4 py-3 border-b border-gray-100",children:[(0,d.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[b.first_name," ",b.last_name]}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:null===(e=b.role)||void 0===e?void 0:e.replace("_"," ").toUpperCase()}),"personal"!==b.role&&Mt&&(0,d.jsxs)("div",{className:"mt-2",children:[(0,d.jsxs)("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("approved"===Mt.status?"bg-green-100 text-green-800":"pending"===Mt.status?"bg-yellow-100 text-yellow-800":"rejected"===Mt.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:["approved"===Mt.status&&"\u2705 KYC Verified","pending"===Mt.status&&"\u23f3 KYC Pending","rejected"===Mt.status&&"\u274c KYC Rejected","not_started"===Mt.status&&"\u26a0\ufe0f KYC Required"]}),(0,d.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"approved"===Mt.status?"\u2705 Can receive payments":"\u26a0\ufe0f Cannot receive payments"})]}),"personal"===b.role&&(0,d.jsxs)("div",{className:"mt-2",children:[(0,d.jsx)("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"\ud83d\udc64 Personal Account"}),(0,d.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"\u2705 Can purchase products"})]})]}),(0,d.jsx)("button",{onClick:()=>{he(!1),Er(!0)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"\ud83d\udc64 My Profile"}),(0,d.jsx)("button",{onClick:()=>{he(!1)},className:"block w-full text-left px-4 py-2 text-sm text-blue-600 hover:bg-gray-50 font-medium",children:"\ud83c\udfe0 My Dashboard"}),(0,d.jsxs)("div",{className:"md:hidden border-t border-gray-200 pt-2 mt-2",children:[(0,d.jsx)("button",{onClick:()=>{he(!1),Y(!0)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"\ud83d\udcac Messages"}),(0,d.jsx)("button",{onClick:()=>{he(!1),me(!0),qs()},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"\ud83d\ude9b Order Tracking"})]}),"agent"!==b.role&&(0,d.jsx)("button",{onClick:()=>{he(!1),Ws("agent_register")},className:"block w-full text-left px-4 py-2 text-sm text-emerald-600 hover:bg-gray-50 font-medium",children:"\ud83e\udd1d Become a Partner"}),"agent"===b.role&&(0,d.jsx)("button",{onClick:()=>{he(!1),ve(!0)},className:"block w-full text-left px-4 py-2 text-sm text-purple-600 hover:bg-gray-50 font-medium",children:"\ud83d\udccd Add Drop-off Location"}),"personal"!==b.role&&Mt&&"approved"!==Mt.status&&(0,d.jsxs)("button",{onClick:()=>{he(!1),alert("KYC completion form will open here. This includes:\n\nFor Registered Businesses:\n- Business Registration Number\n- TIN Certificate\n- Certificate of Incorporation\n\nFor Others (Farmers/Agents/Unregistered):\n- NIN or BVN\n- Headshot photo (camera)\n- National ID upload\n- Utility bill")},className:"block w-full text-left px-4 py-2 text-sm font-medium border-l-4 ".concat("not_started"===Mt.status?"text-red-600 hover:bg-red-50 border-red-400 bg-red-25":"pending"===Mt.status?"text-yellow-600 hover:bg-yellow-50 border-yellow-400 bg-yellow-25":"text-blue-600 hover:bg-blue-50 border-blue-400 bg-blue-25"),children:["not_started"===Mt.status&&"\ud83d\udd10 Complete KYC (Required)","pending"===Mt.status&&"\u23f3 KYC Under Review","rejected"===Mt.status&&"\u274c Resubmit KYC"]}),(0,d.jsx)("button",{onClick:()=>{he(!1),Je(!0),as(),ss(),ls()},className:"block w-full text-left px-4 py-2 text-sm text-purple-600 hover:bg-gray-50 font-medium",children:"\ud83d\udcb0 My Wallet"}),(0,d.jsx)("button",{onClick:()=>{he(!1),mt(!0),is()},className:"block w-full text-left px-4 py-2 text-sm text-pink-600 hover:bg-gray-50 font-medium",children:"\ud83c\udf81 Gift Cards"}),(0,d.jsx)("button",{onClick:()=>{he(!1),alert("Feature coming soon! View and manage your ratings and reviews.")},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"\u2b50 My Ratings & Reviews"}),"logistics"===b.role&&(0,d.jsx)("button",{onClick:()=>{he(!1),Ue(!0),rs()},className:"block w-full text-left px-4 py-2 text-sm text-blue-600 hover:bg-gray-50 font-medium",children:"\ud83d\ude97 Manage Drivers"}),(0,d.jsx)("button",{onClick:()=>{he(!1),Qe(!0),ns()},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"\ud83d\udd0d Find Drivers"}),"farmer"===b.role&&(0,d.jsx)("button",{onClick:()=>{he(!1),ar(!0),(async()=>{try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://api.pyramydhyb.com","/api/farmer/dashboard"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();return or(e),e}}catch(e){console.error("Error fetching farmer dashboard:",e)}})()},className:"block w-full text-left px-4 py-2 text-sm text-green-600 hover:bg-gray-50 font-medium",children:"\ud83c\udf3e Farmer Dashboard"}),"agent"===b.role&&(0,d.jsx)("button",{onClick:()=>{he(!1),lr(!0),(async()=>{try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://api.pyramydhyb.com","/api/agent/dashboard"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();return dr(e),e}}catch(e){console.error("Error fetching agent dashboard:",e)}})()},className:"block w-full text-left px-4 py-2 text-sm text-purple-600 hover:bg-gray-50 font-medium",children:"\ud83e\udd1d Agent Dashboard"}),(0,d.jsx)("button",{onClick:()=>{he(!1),mr(!0),ys()},className:"block w-full text-left px-4 py-2 text-sm text-blue-600 hover:bg-gray-50 font-medium",children:"\ud83d\udcc8 Market Prices"}),"driver"===b.role&&(0,d.jsx)("button",{onClick:()=>{he(!1),alert("Driver Portal Access - Feature coming soon!\nTrack your deliveries, earnings, and ratings.")},className:"block w-full text-left px-4 py-2 text-sm text-green-600 hover:bg-gray-50 font-medium",children:"\ud83d\ude9b Driver Portal"}),(0,d.jsx)("button",{onClick:()=>{he(!1),qs(),me(!0)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"My Orders"}),(0,d.jsx)("button",{onClick:()=>{he(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"My Wallet"}),"driver"===b.role&&(0,d.jsx)("button",{onClick:()=>{he(!1),Jr(!0),Ts()},className:"block w-full text-left px-4 py-2 text-sm text-blue-600 hover:bg-gray-50 font-medium",children:"\ud83d\ude9b Driver Portal"}),"business"===b.partner_type&&"logistics_business"===b.business_category&&(0,d.jsx)("button",{onClick:()=>{he(!1),en(!0),(async()=>{try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://api.pyramydhyb.com","/api/logistics/my-drivers"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();un(e.drivers||[]),pn(e.vehicles||[])}}catch(e){console.error("Error fetching drivers:",e)}})()},className:"block w-full text-left px-4 py-2 text-sm text-purple-600 hover:bg-gray-50 font-medium",children:"\ud83d\udccb Logistics Dashboard"}),b.role&&["agent","farmer","supplier","processor"].includes(b.role)&&(0,d.jsx)("button",{onClick:()=>{he(!1),Rs("seller"),me(!0)},className:"block w-full text-left px-4 py-2 text-sm text-green-600 hover:bg-gray-50 font-medium",children:"\ud83d\udcca Seller Dashboard"}),b.role&&["agent","farmer","supplier","processor"].includes(b.role)&&(0,d.jsx)("button",{onClick:()=>{he(!1),an(!0)},className:"block w-full text-left px-4 py-2 text-sm text-orange-600 hover:bg-gray-50 font-medium",children:"\ud83d\ude9a Request Delivery"}),"agent"!==b.role&&(0,d.jsx)("button",{onClick:()=>{he(!1),Ws("agent_register")},className:"block w-full text-left px-4 py-2 text-sm text-emerald-600 hover:bg-gray-50 font-medium",children:"Become an Agent"}),(0,d.jsx)("button",{onClick:()=>{he(!1),window.open("https://hilorgx.com","_blank")},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Report an Issue"}),(0,d.jsx)("div",{className:"border-t border-gray-100",children:(0,d.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),v(null),O([]),he(!1)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-50",children:"Logout"})})]})})]})]})]})})}),(0,d.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:"communities"===j?(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Communities"}),(0,d.jsx)("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Connect with farmers, traders, and agricultural professionals"})]}),(0,d.jsxs)("div",{className:"flex gap-2 sm:gap-3 flex-wrap",children:[(0,d.jsx)("button",{onClick:()=>Ut(!0),className:"px-3 sm:px-4 py-1.5 sm:py-2 text-sm sm:text-base text-emerald-600 bg-emerald-50 hover:bg-emerald-100 rounded-lg transition-colors font-medium",children:"Find Communities"}),b&&(0,d.jsx)("button",{onClick:()=>Bt(!0),className:"px-3 sm:px-4 py-1.5 sm:py-2 text-sm sm:text-base text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors font-medium",children:"Create Community"})]})]})}),$t.length>0&&(0,d.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,d.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-3 sm:mb-4",children:"Featured Products from Communities"}),(0,d.jsx)("div",{className:"grid gap-3 sm:gap-4 grid-cols-2 sm:grid-cols-3 lg:grid-cols-6",children:$t.map((e=>(0,d.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:border-emerald-300 transition-colors cursor-pointer",onClick:()=>{xs(e.community_id),Gt(!0)},children:[e.images&&e.images.length>0?(0,d.jsx)("img",{src:e.images[0],alt:e.title,className:"w-full h-24 sm:h-32 object-cover"}):(0,d.jsx)("div",{className:"w-full h-24 sm:h-32 bg-gray-200 flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-gray-400 text-xs",children:"\ud83d\udce6"})}),(0,d.jsxs)("div",{className:"p-2 sm:p-3",children:[(0,d.jsx)("h3",{className:"text-xs sm:text-sm font-semibold text-gray-900 truncate",children:e.title}),(0,d.jsx)("p",{className:"text-xs text-emerald-600 truncate mt-0.5",children:e.community_name}),(0,d.jsxs)("p",{className:"text-sm sm:text-base font-bold text-gray-900 mt-1",children:["\u20a6",e.price]})]})]},e.id)))})]}),b&&Wt.length>0&&(0,d.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,d.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-3 sm:mb-4",children:"My Communities"}),(0,d.jsx)("div",{className:"grid gap-3 sm:gap-4 sm:grid-cols-2 lg:grid-cols-3",children:Wt.map((e=>(0,d.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-3 sm:p-4 hover:border-emerald-300 transition-colors",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-2 sm:mb-3",children:[(0,d.jsxs)("div",{className:"flex-1 min-w-0 pr-2",children:[(0,d.jsx)("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 truncate",children:e.name}),(0,d.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:e.category})]}),(0,d.jsx)("span",{className:"px-2 py-0.5 sm:py-1 text-xs rounded-full flex-shrink-0 ".concat("public"===e.privacy_type?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"),children:e.privacy_type})]}),(0,d.jsx)("p",{className:"text-xs sm:text-sm text-gray-700 mb-2 sm:mb-3 line-clamp-2",children:e.description}),(0,d.jsxs)("div",{className:"flex items-center justify-between text-xs sm:text-sm text-gray-600 mb-2 sm:mb-3",children:[(0,d.jsxs)("span",{children:[e.member_count||0," members"]}),e.location&&(0,d.jsx)("span",{className:"truncate ml-2",children:e.location})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("button",{onClick:()=>{Vt(e)},className:"flex-1 px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm text-emerald-600 bg-emerald-50 hover:bg-emerald-100 rounded-lg transition-colors",children:"View"}),(0,d.jsx)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to leave this community?"))try{await(async e=>{try{const t=localStorage.getItem("token"),r=await fetch("".concat("https://api.pyramydhyb.com","/api/communities/").concat(e,"/leave"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)}});if(r.ok){const e=await r.json();return await ps(),e}{const e=await r.json();throw new Error(e.detail||"Failed to leave community")}}catch(t){throw console.error("Error leaving community:",t),t}})(e.id),alert("Successfully left community")}catch(t){alert("Failed to leave community: "+t.message)}},className:"px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition-colors",children:"Leave"})]})]},e.id)))})]}),(0,d.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,d.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-3 sm:mb-4",children:"Featured Communities"}),(0,d.jsx)("div",{className:"grid gap-3 sm:gap-4 sm:grid-cols-2 lg:grid-cols-3",children:Rt.slice(0,6).map((e=>(0,d.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-3 sm:p-4 hover:border-emerald-300 transition-colors cursor-pointer",onClick:()=>{xs(e.id),Gt(!0)},children:[(0,d.jsxs)("div",{className:"flex items-start gap-3 mb-2 sm:mb-3",children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:e.profile_picture?(0,d.jsx)("img",{src:e.profile_picture,alt:e.name,className:"w-12 h-12 sm:w-14 sm:h-14 rounded-full object-cover border-2 border-emerald-500"}):(0,d.jsx)("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-full bg-emerald-500 flex items-center justify-center text-white font-bold text-base sm:text-lg border-2 border-emerald-600",children:e.name.charAt(0).toUpperCase()})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 truncate",children:e.name}),(0,d.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:e.category})]}),(0,d.jsx)("span",{className:"px-2 py-0.5 sm:py-1 text-xs rounded-full flex-shrink-0 ".concat("public"===e.privacy_type?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"),children:e.privacy_type||"public"})]}),(0,d.jsx)("p",{className:"text-xs sm:text-sm text-gray-700 mb-2 sm:mb-3 line-clamp-2",children:e.description}),(0,d.jsxs)("div",{className:"flex items-center justify-between text-xs sm:text-sm text-gray-600 mb-2 sm:mb-3",children:[(0,d.jsxs)("span",{children:[e.member_count||0," members"]}),e.location&&(0,d.jsx)("span",{className:"truncate ml-2",children:e.location})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("button",{onClick:t=>{t.stopPropagation(),xs(e.id),Gt(!0)},className:"flex-1 px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm text-emerald-600 bg-emerald-50 hover:bg-emerald-100 rounded-lg transition-colors",children:"View Details"}),(0,d.jsx)("button",{onClick:async t=>{t.stopPropagation();try{await gs(e.id),alert("Successfully joined community!")}catch(r){alert("Failed to join community: "+r.message)}},className:"flex-1 px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors",children:"Join"})]})]},e.id)))}),0===Rt.length&&(0,d.jsxs)("div",{className:"text-center py-8 sm:py-12 bg-gray-50 rounded-lg",children:[(0,d.jsx)("div",{className:"text-gray-500 mb-3 sm:mb-4",children:(0,d.jsx)("svg",{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,d.jsx)("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:"No communities yet"}),(0,d.jsx)("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4 px-4",children:"Be the first to create a community and connect with others!"}),b&&(0,d.jsx)("button",{onClick:()=>Bt(!0),className:"px-3 sm:px-4 py-1.5 sm:py-2 text-sm sm:text-base text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors font-medium",children:"Create First Community"})]})]})]}):(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"mb-6",children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("input",{type:"text",placeholder:"Search products...",value:q,onChange:e=>V(e.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-base"}),(0,d.jsx)("button",{className:"absolute right-3 top-3 text-emerald-600 hover:text-emerald-700",children:(0,d.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),(0,d.jsx)("div",{className:"mb-6",children:(0,d.jsxs)("div",{className:"relative bg-gradient-to-r ".concat(fa[ma].bgGradient," rounded-xl p-6 overflow-hidden transition-all duration-500"),children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"min-h-[100px] flex flex-col items-center justify-center",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:fa[ma].title}),(0,d.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:fa[ma].description}),fa[ma].cta&&(0,d.jsx)("button",{onClick:()=>Ws(fa[ma].cta.action),className:"bg-emerald-600 hover:bg-emerald-700 text-white font-semibold py-2 px-6 rounded-lg transition-colors shadow-md hover:shadow-lg transform hover:scale-105 duration-200",children:fa[ma].cta.text})]})}),(0,d.jsx)("div",{className:"flex justify-center space-x-2 mt-4",children:fa.map(((e,t)=>(0,d.jsx)("div",{onClick:()=>pa(t),className:"w-2 h-2 rounded-full cursor-pointer transition-colors ".concat(t===ma?"bg-emerald-500":"bg-gray-300 hover:bg-gray-400")},t)))})]}),(0,d.jsx)("div",{className:"absolute top-0 right-0 transform translate-x-4 -translate-y-4 opacity-10",children:(0,d.jsx)("svg",{className:"w-32 h-32",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]})}),(0,d.jsxs)("div",{className:"mb-4 flex justify-between items-center",children:[(0,d.jsxs)("button",{onClick:()=>Ee(!Se),className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[(0,d.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"})}),(0,d.jsx)("span",{children:"Advanced Filters"}),(0,d.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(Se?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),b&&["farmer","supplier","processor","agent"].includes(b.role)&&(0,d.jsx)("button",{onClick:()=>Ne(!0),className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors font-medium",children:"+ Create Pre-order"})]}),Se&&(0,d.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,d.jsxs)("select",{value:Kr.location,onChange:e=>Gr((t=>c(c({},t),{},{location:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[(0,d.jsx)("option",{value:"",children:"All Locations"}),Pt.map((e=>(0,d.jsx)("option",{value:e,children:e},e)))]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Price (\u20a6)"}),(0,d.jsx)("input",{type:"number",placeholder:"Min price",value:Kr.min_price,onChange:e=>Gr((t=>c(c({},t),{},{min_price:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Price (\u20a6)"}),(0,d.jsx)("input",{type:"number",placeholder:"Max price",value:Kr.max_price,onChange:e=>Gr((t=>c(c({},t),{},{max_price:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seller Type"}),(0,d.jsxs)("select",{value:Kr.seller_type,onChange:e=>Gr((t=>c(c({},t),{},{seller_type:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[(0,d.jsx)("option",{value:"",children:"All Sellers"}),St.map((e=>(0,d.jsx)("option",{value:e,children:"farmer"===e?"Farmers":"agent"===e?"Agents":"business"===e?"Businesses":e.charAt(0).toUpperCase()+e.slice(1)},e)))]})]})]}),(0,d.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,d.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,d.jsx)("input",{type:"checkbox",checked:Kr.only_preorders,onChange:e=>Gr((t=>c(c({},t),{},{only_preorders:e.target.checked}))),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),(0,d.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Show only pre-orders"})]}),(0,d.jsxs)("div",{className:"flex space-x-2",children:[(0,d.jsx)("button",{onClick:()=>{Gr({category:"",location:"",min_price:"",max_price:"",only_preorders:!1,seller_type:""}),U("")},className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Clear All"}),(0,d.jsx)("button",{onClick:()=>{Ga(),Ee(!1)},className:"px-4 py-1 text-sm text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg",children:"Apply Filters"})]})]})]}),(0,d.jsx)("div",{className:"mb-4",children:(0,d.jsx)("div",{className:"flex items-center justify-between",children:(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"\ud83d\udccd Location:"}),(0,d.jsxs)("select",{value:xr,onChange:e=>hr(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[(0,d.jsx)("option",{value:"",children:"All Locations"}),Pt.map((e=>(0,d.jsx)("option",{value:e,children:e},e)))]})]})})}),(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Shop by Category"}),(0,d.jsxs)("div",{className:"flex overflow-x-auto space-x-4 pb-4 scrollbar-hide",children:[(0,d.jsxs)("div",{onClick:()=>U(""),className:"flex-shrink-0 cursor-pointer transition-all duration-200 ".concat(""===H?"transform scale-105":"hover:transform hover:scale-105"),children:[(0,d.jsx)("div",{className:"w-24 h-24 rounded-xl overflow-hidden mb-2 bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-white text-xs font-medium",children:"All"})}),(0,d.jsx)("p",{className:"text-xs text-center text-gray-700 font-medium",children:"All Categories"})]}),[{value:"grains_legumes",label:"Grains & Legumes",image:"https://images.unsplash.com/photo-1499529112087-3cb3b73cec95?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NDk1NzZ8MHwxfHNlYXJjaHwzfHxhZ3JpY3VsdHVyYWwlMjBwcm9kdWN0c3xlbnwwfHx8fDE3NTM5NTM1ODd8MA&ixlib=rb-4.1.0&q=85"},{value:"spices_vegetables",label:"Vegetables & Spices",image:"https://images.unsplash.com/photo-1506368249639-73a05d6f6488?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NDk1ODB8MHwxfHNlYXJjaHwxfHxzcGljZXN8ZW58MHx8fHwxNzUzOTUzNjAwfDA&ixlib=rb-4.1.0&q=85"},{value:"fish_meat",label:"Fish & Meat",image:"https://images.pexels.com/photos/725992/pexels-photo-725992.jpeg"},{value:"tubers_roots",label:"Roots & Tubers",image:"https://images.unsplash.com/photo-1587049016137-d2d2b14b0d61?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NDk1NzZ8MHwxfHNlYXJjaHwxfHx5YW18ZW58MHx8fHwxNzUzOTUzNzAwfDA&ixlib=rb-4.1.0&q=85"},{value:"fruits",label:"Fruits",image:"https://images.unsplash.com/photo-1610832958506-aa56368176cf?crop=entropy&cs=srgb&fm=jpg&ixid=M3w0MjI5Nzh8MHwxfHNlYXJjaHwxfHxmcnVpdHN8ZW58MHx8fHwxNzUzOTUzNjUwfDA&ixlib=rb-4.1.0&q=85"},{value:"cash_crop",label:"Cash Crop",image:"https://images.unsplash.com/photo-1502395809857-fd80069897d0?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NTY2NzZ8MHwxfHNlYXJjaHwxfHxjb3R0b258ZW58MHx8fHwxNzUzOTUzNjM4fDA&ixlib=rb-4.1.0&q=85"},{value:"fertilizer",label:"Fertilizer",image:"https://images.unsplash.com/photo-1655130944329-b3a63166f6b5?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NDQ2NDN8MHwxfHNlYXJjaHwxfHxmZXJ0aWxpemVyfGVufDB8fHx8MTc1Mzk1MzYwOHww&ixlib=rb-4.1.0&q=85"},{value:"herbicides",label:"Herbicides",image:"https://images.unsplash.com/photo-1581578017093-cd30fce4eeb7?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NDQ2NDN8MHwxfHNlYXJjaHwzfHxmZXJ0aWxpemVyfGVufDB8fHx8MTc1Mzk1MzYwOHww&ixlib=rb-4.1.0&q=85"},{value:"pesticides",label:"Pesticides",image:"https://images.unsplash.com/photo-1581578017093-cd30fce4eeb7?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NDQ2NDN8MHwxfHNlYXJjaHwzfHxmZXJ0aWxpemVyfGVufDB8fHx8MTc1Mzk1MzYwOHww&ixlib=rb-4.1.0&q=85"},{value:"seeds",label:"Seeds",image:"https://images.unsplash.com/photo-1466692476868-aef1dfb1e735?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NTY2NjZ8MHwxfHNlYXJjaHwxfHxzZWVkc3xlbnwwfHx8fDE3NTM5NTM2MTZ8MA&ixlib=rb-4.1.0&q=85"},{value:"packaged_goods",label:"Packaged Goods",image:"https://images.unsplash.com/photo-1741522226997-a34b5a45c648?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NDk1Nzd8MHwxfHNlYXJjaHwxfHxwYWNrYWdlZCUyMGZvb2R8ZW58MHx8fHwxNzUzOTUzNjQ0fDA&ixlib=rb-4.1.0&q=85"}].map((e=>(0,d.jsxs)("div",{onClick:()=>U(e.value),className:"flex-shrink-0 cursor-pointer transition-all duration-200 ".concat(H===e.value?"transform scale-105":"hover:transform hover:scale-105"),children:[(0,d.jsx)("div",{className:"w-24 h-24 rounded-xl overflow-hidden mb-2 border-2 transition-colors ".concat(H===e.value?"border-emerald-500":"border-gray-200"),children:(0,d.jsx)("img",{src:e.image,alt:e.label,className:"w-full h-full object-cover",onError:t=>{t.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96" fill="%23f3f4f6"><rect width="96" height="96" fill="%23f3f4f6"/><text x="48" y="48" text-anchor="middle" dy="0.3em" font-family="Arial" font-size="12" fill="%236b7280">'+e.label+"</text></svg>"}})}),(0,d.jsx)("p",{className:"text-xs text-center text-gray-700 font-medium",children:e.label})]},e.value)))]})]}),"home"===j&&(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"\ud83d\udd25 Pre-Order Sales"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Secure your products in advance with special pre-order pricing!"})]}),(0,d.jsx)("button",{onClick:()=>{N("buy_from_farm"),Gr((e=>c(c({},e),{},{only_preorders:!0}))),setTimeout((()=>Ga()),100)},className:"px-3 sm:px-4 py-2 bg-orange-100 text-orange-700 rounded-lg hover:bg-orange-200 transition-colors font-medium text-xs sm:text-sm",children:"See More in Farm Deals \u2192"})]}),(0,d.jsx)("div",{className:"relative",children:(0,d.jsxs)("div",{className:"flex overflow-x-auto space-x-3 sm:space-x-4 pb-4 scrollbar-hide",children:[L.filter((e=>"preorder"===e.type)).slice(0,6).map(((e,t)=>(0,d.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg shadow-md hover:shadow-lg transition-all flex-shrink-0 w-72 sm:w-80 border-2 border-orange-200 hover:border-orange-300 cursor-pointer",children:[(0,d.jsxs)("div",{className:"relative",onClick:()=>Ls(e),title:"Click to view product details",children:[e.images&&e.images.length>0?(0,d.jsx)("img",{src:e.images[0],alt:e.product_name||e.crop_type,className:"w-full h-32 sm:h-40 object-cover rounded-t-lg"}):(0,d.jsx)("div",{className:"w-full h-32 sm:h-40 bg-gradient-to-r from-orange-200 to-orange-300 flex items-center justify-center rounded-t-lg",children:(0,d.jsx)("span",{className:"text-orange-600 font-medium text-sm sm:text-base",children:"\ud83c\udf3e Pre-Order Product"})}),(0,d.jsx)("div",{className:"absolute top-2 left-2 bg-orange-500 text-white px-2 sm:px-3 py-1 rounded-full text-xs font-bold flex items-center",children:"\u26a1 PRE-ORDER"}),(0,d.jsx)("div",{className:"absolute top-2 right-2 bg-red-500 text-white px-1.5 sm:px-2 py-1 rounded-full text-xs font-bold",children:e.partial_payment_percentage?"".concat(Math.round(100*e.partial_payment_percentage),"% Payment"):"100% Payment"})]}),(0,d.jsxs)("div",{className:"p-3 sm:p-4",children:[(0,d.jsx)("h4",{className:"font-bold text-gray-900 mb-2 text-sm sm:text-base line-clamp-1",children:e.product_name||e.crop_type}),(0,d.jsx)("div",{className:"flex items-center space-x-2 mb-2",children:(0,d.jsxs)("span",{className:"text-base sm:text-lg font-bold text-orange-600",children:["\u20a6",e.price_per_unit,"/",e.unit||e.unit_of_measure||"kg",(e.unit_specification||e.unit_of_measure!==(e.unit||"kg"))&&(0,d.jsxs)("span",{className:"text-xs sm:text-sm font-medium text-gray-600 ml-1",children:["(",e.unit_specification||e.unit_of_measure||"standard",")"]})]})}),(0,d.jsx)("div",{className:"mb-3 p-2 sm:p-3 bg-orange-50 rounded-lg border border-orange-200",children:(0,d.jsxs)("div",{className:"text-xs text-orange-800 space-y-1",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{children:"\ud83d\udcb0 Payment Required:"}),(0,d.jsx)("span",{className:"font-bold",children:e.partial_payment_percentage?"".concat(Math.round(100*e.partial_payment_percentage),"%"):"100%"})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{children:"\ud83d\udce6 Available:"}),(0,d.jsxs)("span",{className:"font-bold",children:[e.available_stock||e.total_stock," ",e.unit]})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{children:"\ud83d\ude9a Delivery:"}),(0,d.jsx)("span",{className:"font-bold text-xs",children:new Date(e.delivery_date).toLocaleDateString()})]}),e.orders_count>0&&(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{children:"\ud83d\udc65 Pre-orders:"}),(0,d.jsx)("span",{className:"font-bold text-green-600",children:e.orders_count})]})]})}),(0,d.jsxs)("div",{className:"text-xs text-gray-600 mb-3 flex items-center line-clamp-1",children:["\ud83d\udccd ",e.location]}),(0,d.jsx)("button",{onClick:()=>{const t=e.unit||"kg",r=e.unit_specification||"";Os(e,1,t,r,"platform")},className:"w-full py-2 px-3 sm:px-4 bg-orange-600 hover:bg-orange-700 text-white rounded-lg font-medium transition-colors text-xs sm:text-sm",children:"\ud83d\uded2 Add Pre-order to Cart"})]})]},"preorder-".concat(e.id||e._id||t)))),0===L.filter((e=>"preorder"===e.type)).length&&(0,d.jsx)("div",{className:"w-full text-center py-6 sm:py-8 bg-orange-50 rounded-lg border-2 border-dashed border-orange-200",children:(0,d.jsxs)("div",{className:"text-orange-600",children:[(0,d.jsx)("div",{className:"text-xl sm:text-2xl mb-2",children:"\ud83d\udce6"}),(0,d.jsx)("h4",{className:"font-medium text-gray-700 text-sm sm:text-base",children:"No Pre-Orders Available"}),(0,d.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:"Check back soon for exciting pre-order deals!"})]})})]})})]}),(0,d.jsxs)("div",{className:"mb-6 space-y-4",children:["buy_from_farm"===j&&(0,d.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("span",{className:"text-orange-600",children:"\ud83d\udd50"}),(0,d.jsx)("span",{className:"text-sm font-medium text-orange-800",children:"Filter by Pre-Orders:"})]}),(0,d.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,d.jsx)("input",{type:"checkbox",checked:Kr.only_preorders,onChange:e=>{Gr((t=>c(c({},t),{},{only_preorders:e.target.checked}))),setTimeout((()=>Ga()),100)},className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),(0,d.jsx)("span",{className:"text-sm text-orange-700",children:"Show only pre-order products"})]})]}),Kr.only_preorders&&(0,d.jsx)("div",{className:"mt-2 text-xs text-orange-600",children:"Showing products available for advance booking with future delivery dates"})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("button",{onClick:()=>_s("left"),className:"hidden md:flex items-center justify-center w-10 h-10 bg-white shadow-md rounded-full border hover:bg-gray-50 transition-colors mr-2 z-10",children:(0,d.jsx)("span",{className:"text-gray-600",children:"\u2190"})}),(0,d.jsx)("div",{id:"categories-container",className:"flex overflow-x-auto space-x-3 scrollbar-hide flex-1 py-2",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:Object.entries(wt).map((e=>{let[t,r]=e;let n=L;n="home"===("buy_from_farm"===j?"farm_deals":"home")?L.filter((e=>["business","supplier"].includes(e.seller_type))):L.filter((e=>["farmer","agent"].includes(e.seller_type)));return 0===n.filter((e=>e.category===t)).length?null:(0,d.jsx)("div",{className:"flex-shrink-0 bg-white border border-gray-200 rounded-lg p-3 hover:border-emerald-300 transition-colors cursor-pointer min-w-[120px]",onClick:()=>{U(t),Gr((e=>c(c({},e),{},{category:t}))),setTimeout((()=>Ga()),100)},children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-2xl mb-1",children:"grains_legumes"===t?"\ud83c\udf3e":"fish_meat"===t?"\ud83d\udc1f":"spices_vegetables"===t?"\ud83c\udf36\ufe0f":"tubers_roots"===t?"\ud83e\udd54":"\ud83d\udce6"}),(0,d.jsx)("div",{className:"text-xs font-medium text-gray-700 mb-1",children:r.name}),(0,d.jsxs)("div",{className:"text-xs text-gray-500",children:[Object.values(r.subcategories||{}).slice(0,2).map(((e,t)=>e.examples?e.examples[0]:e.name||e)).join(", "),Object.keys(r.subcategories||{}).length>2&&"..."]})]})},t)}))}),(0,d.jsx)("button",{onClick:()=>_s("right"),className:"hidden md:flex items-center justify-center w-10 h-10 bg-white shadow-md rounded-full border hover:bg-gray-50 transition-colors ml-2 z-10",children:(0,d.jsx)("span",{className:"text-gray-600",children:"\u2192"})})]}),(0,d.jsx)("div",{className:"md:hidden text-center text-xs text-gray-500 mt-2",children:"\ud83d\udc46 Swipe to see more categories"})]})]}),(0,d.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 auto-rows-auto items-start",children:0===L.length?(0,d.jsx)("div",{className:"col-span-full text-center py-8 sm:py-12",children:(0,d.jsx)("p",{className:"text-gray-500 text-base sm:text-lg",children:"No products found"})}):L.filter((e=>""===xr||e.location===xr)).map(((e,t)=>{var r;return(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow flex flex-col min-h-0",children:[(0,d.jsxs)("div",{className:"relative cursor-pointer",onClick:()=>Ls(e),title:"Click to view product details",children:[e.images&&e.images.length>0?(0,d.jsx)("img",{src:e.images[0],alt:e.product_name||e.crop_type,className:"w-full h-40 sm:h-48 object-cover hover:opacity-90 transition-opacity rounded-t-lg"}):(0,d.jsx)("div",{className:"w-full h-40 sm:h-48 bg-gray-200 flex items-center justify-center hover:bg-gray-300 transition-colors rounded-t-lg",children:(0,d.jsx)("span",{className:"text-gray-500 text-sm sm:text-base",children:"Click to View Details"})}),(0,d.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-20 transition-all flex items-center justify-center rounded-t-lg",children:(0,d.jsx)("div",{className:"bg-white bg-opacity-0 hover:bg-opacity-90 text-transparent hover:text-gray-800 px-2 sm:px-3 py-1 rounded-lg text-xs sm:text-sm font-medium transition-all",children:"\ud83d\udc41\ufe0f View Details"})}),"preorder"===e.type&&(0,d.jsx)("div",{className:"absolute top-2 left-2 bg-orange-500 text-white px-2 py-1 rounded-lg text-xs font-semibold",children:"PRE-ORDER"}),e.seller_type&&(0,d.jsx)("div",{className:"absolute top-2 right-2 bg-emerald-500 text-white px-2 py-1 rounded-lg text-xs font-semibold capitalize",children:e.seller_type}),e.has_discount&&e.discount_value&&(0,d.jsxs)("div",{className:"absolute top-12 right-2 bg-red-500 text-white px-2 py-1 rounded-lg text-xs font-bold shadow-lg animate-pulse",children:["percentage"===e.discount_type&&"".concat(e.discount_value,"% OFF"),"fixed"===e.discount_type&&"\u20a6".concat(e.discount_value," OFF")]}),"seller"===e.logistics_managed_by&&0===e.seller_delivery_fee&&(0,d.jsx)("div",{className:"absolute bottom-2 left-2 bg-red-600 text-white px-2 py-1 rounded-lg text-xs font-bold",children:"\ud83d\ude9a FREE DELIVERY"})]}),(0,d.jsxs)("div",{className:"p-3 sm:p-4 flex-1 flex flex-col",children:[(0,d.jsx)("h3",{className:"font-semibold text-gray-900 mb-2 text-sm sm:text-base line-clamp-1",children:e.product_name||e.crop_type}),(0,d.jsx)("p",{className:"text-gray-600 text-xs sm:text-sm mb-3 line-clamp-2",children:e.description||"Fresh organic produce from certified farms"}),(0,d.jsx)("div",{className:"mb-2",children:e.has_discount&&e.original_price?(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"text-xs sm:text-sm text-gray-500 line-through",children:["\u20a6",e.original_price,"/",e.unit||e.unit_of_measure||"kg"]}),(0,d.jsxs)("div",{className:"text-lg sm:text-xl font-bold text-red-600",children:["\u20a6",e.price_per_unit,"/",e.unit||e.unit_of_measure||"kg",(e.unit_specification||e.unit_of_measure!==(e.unit||"kg"))&&(0,d.jsxs)("span",{className:"text-xs sm:text-sm font-medium text-gray-600 ml-1",children:["(",e.unit_specification||e.unit_of_measure||"standard",")"]})]}),(0,d.jsxs)("div",{className:"text-xs text-green-600 font-medium",children:["You save \u20a6",e.discount_amount,"!"]})]}):(0,d.jsxs)("div",{className:"text-lg sm:text-xl font-bold text-emerald-600",children:["\u20a6",e.price_per_unit,"/",e.unit||e.unit_of_measure||"kg",(e.unit_specification||e.unit_of_measure!==(e.unit||"kg"))&&(0,d.jsxs)("span",{className:"text-xs sm:text-sm font-medium text-gray-600 ml-1",children:["(",e.unit_specification||e.unit_of_measure||"standard",")"]})]})}),(0,d.jsx)("div",{className:"text-xs sm:text-sm text-gray-500 mb-2",children:"preorder"===e.type?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("span",{className:"text-orange-600 font-medium",children:[e.available_stock||e.total_stock," ",e.unit," available"]}),e.orders_count>0&&(0,d.jsxs)("span",{className:"ml-2",children:["(",e.orders_count," pre-orders)"]})]}):(0,d.jsxs)("span",{children:[e.quantity||"100"," available"]})}),(0,d.jsxs)("div",{className:"text-xs sm:text-sm mb-2 space-y-1",children:[e.business_name&&(0,d.jsxs)("div",{className:"font-medium text-emerald-600 hover:text-emerald-700 cursor-pointer flex items-center gap-1",onClick:()=>hs(e.seller_name),title:"Click to view business owner details",children:["\ud83c\udfe2 ",e.business_name]}),e.farm_name&&(0,d.jsxs)("div",{className:"text-green-600 hover:text-green-700 cursor-pointer flex items-center gap-1",onClick:()=>hs(e.seller_name),title:"Click to view farmer details",children:["\ud83c\udf3e ",e.farm_name]}),e.agent_username&&e.agent_name&&(0,d.jsxs)("div",{className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 cursor-pointer",onClick:()=>hs(e.agent_name),title:"Click to view agent details",children:[e.agent_profile_picture?(0,d.jsx)("img",{src:e.agent_profile_picture,alt:e.agent_name,className:"w-5 h-5 rounded-full object-cover border border-blue-500"}):(0,d.jsx)("div",{className:"w-5 h-5 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs font-semibold",children:(null===(r=e.agent_name)||void 0===r?void 0:r.charAt(0).toUpperCase())||"A"}),(0,d.jsxs)("span",{children:["Agent: @",e.agent_username]})]})]}),(0,d.jsxs)("div",{className:"text-xs sm:text-sm text-gray-500 mb-2 line-clamp-1",children:["\ud83d\udccd ",e.location]}),"seller"===e.logistics_managed_by&&(0,d.jsx)("div",{className:"text-xs sm:text-sm mb-2 p-2 rounded-lg ".concat(0===e.seller_delivery_fee?"bg-red-100 text-red-700 font-bold":"bg-blue-50 text-blue-700"),children:0===e.seller_delivery_fee?"\ud83d\ude9a FREE DELIVERY by Seller":"\ud83d\ude9a Delivery: \u20a6".concat(e.seller_delivery_fee," (Seller Managed)")}),(0,d.jsxs)("div",{className:"flex items-center mb-3",children:[(0,d.jsx)("div",{className:"flex items-center",children:[...Array(5)].map(((t,r)=>(0,d.jsx)("span",{className:"text-sm ".concat(r<Math.floor(e.average_rating||5)?"text-yellow-400":"text-gray-300"),children:"\u2b50"},r)))}),(0,d.jsx)("span",{className:"text-xs text-gray-600 ml-2",children:e.average_rating?e.average_rating.toFixed(1):"5.0"}),e.total_ratings>0&&(0,d.jsxs)("span",{className:"text-xs text-gray-500 ml-1",children:["(",e.total_ratings," reviews)"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-3 p-2 bg-gray-50 rounded-lg",children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:e.seller_profile_picture?(0,d.jsx)("img",{src:e.seller_profile_picture,alt:e.seller_name||"Seller",className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full object-cover border-2 border-emerald-500",title:"Posted by ".concat(e.seller_name||"seller")}):(0,d.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-emerald-500 flex items-center justify-center text-white font-semibold text-xs sm:text-sm border-2 border-emerald-600",children:(e.seller_name||e.seller_username||"S").charAt(0).toUpperCase()})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("div",{className:"text-xs sm:text-sm font-medium text-gray-900 truncate",children:e.seller_name||e.seller_username||"Seller"}),e.seller_type&&(0,d.jsxs)("div",{className:"text-xs text-gray-600 capitalize",children:["farmer"===e.seller_type&&"\ud83d\udc68\u200d\ud83c\udf3e Farmer","agent"===e.seller_type&&"\ud83e\udd1d Agent","business"===e.seller_type&&"\ud83c\udfe2 Business","supplier"===e.seller_type&&"\ud83d\udce6 Supplier",!["farmer","agent","business","supplier"].includes(e.seller_type)&&e.seller_type]})]})]}),(0,d.jsxs)("div",{className:"mt-auto pt-3 sm:pt-4 space-y-2 sm:space-y-3",children:[(0,d.jsxs)("div",{className:"mb-2 p-2 bg-emerald-50 rounded-lg border border-emerald-200",children:[(0,d.jsxs)("div",{className:"text-xs sm:text-sm font-medium text-emerald-700",children:["Unit: ",e.unit||e.unit_of_measure||"kg",e.unit_specification&&(0,d.jsxs)("span",{className:"ml-2 text-emerald-600",children:["(",e.unit_specification,")"]})]}),(0,d.jsxs)("div",{className:"text-xs text-emerald-600",children:["Select how many ",e.unit||e.unit_of_measure||"units"," you want to buy"]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 gap-2 sm:gap-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Quantity (Number of ",e.unit||e.unit_of_measure||"units",")"]}),(0,d.jsx)("input",{type:"number",min:"1",max:e.quantity||e.available_stock||e.total_stock||100,defaultValue:"1",className:"w-full px-1.5 sm:px-2 py-1 text-xs sm:text-sm border border-gray-300 rounded focus:ring-1 focus:ring-emerald-500",id:"quantity-".concat(t),placeholder:"1, 2, 3..."}),(0,d.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Max available: ",e.quantity||e.available_stock||e.total_stock||100]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Drop-off Location"}),(0,d.jsxs)("select",{className:"w-full px-1.5 sm:px-2 py-1 text-xs sm:text-sm border border-gray-300 rounded focus:ring-1 focus:ring-emerald-500",id:"dropoff-".concat(t),children:[(0,d.jsx)("option",{value:"",children:"Select drop-off location"}),ge.map((e=>(0,d.jsxs)("option",{value:e.id,children:[e.name," - ",e.city,", ",e.state]},e.id)))]}),(0,d.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"\ud83d\udccd Pick up your order at a convenient location"})]})]}),(0,d.jsx)("button",{onClick:()=>{const r=document.getElementById("quantity-".concat(t)),n=document.getElementById("dropoff-".concat(t)),a=parseFloat(null===r||void 0===r?void 0:r.value)||1,s=e.unit||e.unit_of_measure||"kg",l=e.unit_specification||"standard",i=null===n||void 0===n?void 0:n.value;if(!i)return void alert("Please select a drop-off location");const o=ge.find((e=>e.id.toString()===i)),d=c(c({},e),{},{cartQuantity:a,cartUnit:s,cartSpecification:l,dropoffLocation:o});Os(d,a,s,l,"dropoff")},className:"w-full py-2 px-3 sm:px-4 rounded-lg font-medium transition-colors text-xs sm:text-sm ".concat("preorder"===e.type?"bg-orange-600 hover:bg-orange-700 text-white":"bg-emerald-600 hover:bg-emerald-700 text-white"),children:"preorder"===e.type?"Add Pre-order to Cart":"Add to Cart"})]})]})]},e.id||e._id||t)}))})]})}),k&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:["login"===S&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsx)("h2",{className:"text-xl font-bold",children:"Sign In"}),(0,d.jsx)("button",{onClick:()=>C(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),(0,d.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e={email_or_phone:xa.email_or_phone,password:xa.password},t=await fetch("".concat(u,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){const e=await t.json();localStorage.setItem("token",e.token),v(e.user),C(!1),ha({first_name:"",last_name:"",username:"",email_or_phone:"",password:"",phone:"",gender:"",date_of_birth:""})}else{const e=await t.json();alert(e.detail)}}catch(t){console.error("Auth error:",t),alert("An error occurred. Please try again.")}},className:"space-y-4",children:[(0,d.jsx)("input",{type:"text",placeholder:"Email or Phone",value:xa.email_or_phone,onChange:e=>ha((t=>c(c({},t),{},{email_or_phone:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,d.jsx)("input",{type:"password",placeholder:"Password",value:xa.password,onChange:e=>ha((t=>c(c({},t),{},{password:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,d.jsx)("button",{type:"submit",className:"w-full bg-emerald-600 text-white py-2 px-4 rounded-lg hover:bg-emerald-700 transition-colors font-medium",children:"Sign In"})]}),(0,d.jsxs)("p",{className:"mt-4 text-center text-sm text-gray-600",children:["Don't have an account?",(0,d.jsx)("button",{onClick:()=>E("register"),className:"text-emerald-600 hover:text-emerald-700 font-medium ml-1",children:"Sign Up"})]})]}),"register"===S&&(0,d.jsxs)(d.Fragment,{children:["basic"===ga&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsx)("h2",{className:"text-xl font-bold",children:"Create Account"}),(0,d.jsx)("button",{onClick:()=>C(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),(0,d.jsxs)("form",{onSubmit:handleBasicRegistration,className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,d.jsx)("input",{type:"text",placeholder:"First Name",value:xa.first_name,onChange:e=>ha((t=>c(c({},t),{},{first_name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,d.jsx)("input",{type:"text",placeholder:"Last Name",value:xa.last_name,onChange:e=>ha((t=>c(c({},t),{},{last_name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),(0,d.jsx)("input",{type:"text",placeholder:"Username (unique)",value:xa.username,onChange:e=>ha((t=>c(c({},t),{},{username:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,d.jsx)("input",{type:"text",placeholder:"Email or Phone Number",value:xa.email_or_phone,onChange:e=>ha((t=>c(c({},t),{},{email_or_phone:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,d.jsx)("input",{type:"tel",placeholder:"Phone Number (optional)",value:xa.phone,onChange:e=>ha((t=>c(c({},t),{},{phone:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,d.jsxs)("select",{value:xa.gender,onChange:e=>ha((t=>c(c({},t),{},{gender:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0,children:[(0,d.jsx)("option",{value:"",children:"Select Gender"}),(0,d.jsx)("option",{value:"male",children:"Male"}),(0,d.jsx)("option",{value:"female",children:"Female"}),(0,d.jsx)("option",{value:"other",children:"Other"})]}),(0,d.jsx)("input",{type:"date",placeholder:"Date of Birth",value:xa.date_of_birth,onChange:e=>ha((t=>c(c({},t),{},{date_of_birth:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),(0,d.jsx)("input",{type:"password",placeholder:"Password",value:xa.password,onChange:e=>ha((t=>c(c({},t),{},{password:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,d.jsx)("button",{type:"submit",className:"w-full bg-emerald-600 text-white py-2 px-4 rounded-full hover:bg-emerald-700 transition-colors font-medium",children:"Continue"})]}),(0,d.jsxs)("p",{className:"mt-4 text-center text-sm text-gray-600",children:["Already have an account?",(0,d.jsx)("button",{onClick:()=>E("login"),className:"text-emerald-600 hover:text-emerald-700 font-medium ml-1",children:"Sign In"})]})]}),"role_path"===ga&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,d.jsx)("h2",{className:"text-2xl font-bold text-center w-full text-emerald-600",children:"Choose Account Type"})}),(0,d.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-blue-50 p-6 rounded-2xl",children:[(0,d.jsx)("p",{className:"text-gray-600 mb-6 text-center",children:"Select the account type that best describes you:"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,d.jsx)("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-4 hover:border-blue-300 transition-colors cursor-pointer",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("div",{className:"text-3xl mr-4",children:"\ud83d\udc64"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Personal"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Individual buyer - shop for personal needs"})]}),(0,d.jsx)("button",{onClick:()=>{ha(c(c({},xa),{},{role:"personal"})),ya("personal_details")},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Select"})]})}),(0,d.jsx)("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-4 hover:border-green-300 transition-colors cursor-pointer",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("div",{className:"text-3xl mr-4",children:"\ud83c\udf3e"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Farmer"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Agricultural producer - sell your farm produce"})]}),(0,d.jsx)("button",{onClick:()=>{ha(c(c({},xa),{},{role:"farmer"})),ya("business_profile")},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Select"})]})}),(0,d.jsx)("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-4 hover:border-purple-300 transition-colors cursor-pointer",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("div",{className:"text-3xl mr-4",children:"\ud83e\udd1d"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Agent"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Market aggregator - connect buyers and sellers"})]}),(0,d.jsx)("button",{onClick:()=>{ha(c(c({},xa),{},{role:"agent"})),ya("business_profile")},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Select"})]})}),(0,d.jsx)("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-4 hover:border-emerald-300 transition-colors cursor-pointer",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("div",{className:"text-3xl mr-4",children:"\ud83c\udfe2"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Business"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Enterprise buyer/seller - restaurants, suppliers, etc."})]}),(0,d.jsx)("button",{onClick:()=>{ha(c(c({},xa),{},{role:"business"})),ya("business_profile")},className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:"Select"})]})})]})]})]}),"buyer_type"===ga&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,d.jsx)("button",{onClick:()=>ya("role_path"),className:"text-gray-500 hover:text-gray-700",children:"\u2190 Back"}),(0,d.jsx)("h2",{className:"text-xl font-bold text-emerald-600",children:"Select Your Business Type"}),(0,d.jsx)("div",{})]}),(0,d.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 p-6 rounded-2xl",children:[(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("button",{onClick:()=>vs("retailer"),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-all",children:[(0,d.jsx)("div",{className:"font-medium",children:"Retailer"}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"Buy and sell to end consumers"})]}),(0,d.jsxs)("button",{onClick:()=>vs("hotel"),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-all",children:[(0,d.jsx)("div",{className:"font-medium",children:"Hotel"}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"Hospitality business"})]}),(0,d.jsxs)("button",{onClick:()=>vs("cafe"),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-all",children:[(0,d.jsx)("div",{className:"font-medium",children:"Cafe"}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"Coffee shop or cafe business"})]}),(0,d.jsxs)("button",{onClick:()=>vs("restaurant"),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-all",children:[(0,d.jsx)("div",{className:"font-medium",children:"Restaurant"}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"Food service business"})]}),(0,d.jsxs)("button",{onClick:()=>vs("others"),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-all",children:[(0,d.jsx)("div",{className:"font-medium",children:"Others"}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"Specify your business type"})]})]}),(0,d.jsx)("div",{className:"mt-6 flex justify-end",children:(0,d.jsx)("button",{onClick:()=>vs("skip"),className:"text-gray-500 hover:text-gray-700 text-sm font-medium px-4 py-2 rounded-full border border-gray-300 hover:border-gray-400 transition-colors",children:"Skip (if you're not a business)"})})]})]}),"business_status"===ga&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,d.jsx)("button",{onClick:()=>ya("business_category"),className:"text-gray-500 hover:text-gray-700",children:"\u2190 Back"}),(0,d.jsx)("h2",{className:"text-xl font-bold text-emerald-600",children:"Business Status"}),(0,d.jsx)("div",{})]}),(0,d.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 p-6 rounded-2xl space-y-4",children:[(0,d.jsxs)("button",{onClick:()=>{Ua("registered"),ya("business_info")},className:"w-full text-left px-6 py-4 bg-white border-2 border-emerald-100 rounded-xl hover:border-emerald-500 transition-all shadow-sm",children:[(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"Registered Business"}),(0,d.jsx)("p",{className:"text-gray-600",children:"I have a CAC registration and business documents"})]}),(0,d.jsxs)("button",{onClick:()=>{Ua("unregistered"),ya("business_info")},className:"w-full text-left px-6 py-4 bg-white border-2 border-blue-100 rounded-xl hover:border-blue-500 transition-all shadow-sm",children:[(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"Unregistered Business"}),(0,d.jsx)("p",{className:"text-gray-600",children:"I am a small business owner without formal registration"})]})]})]}),"business_info"===ga&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,d.jsx)("button",{onClick:()=>ya("business_status"),className:"text-gray-500 hover:text-gray-700",children:"\u2190 Back"}),(0,d.jsx)("h2",{className:"text-xl font-bold text-emerald-600",children:"Business Details"}),(0,d.jsx)("div",{})]}),(0,d.jsx)("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 p-6 rounded-2xl",children:(0,d.jsxs)("form",{onSubmit:e=>{e.preventDefault(),Cs()},className:"space-y-4",children:[(0,d.jsx)("input",{type:"text",placeholder:"Business Name",value:wa.business_name,onChange:e=>_a((t=>c(c({},t),{},{business_name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,d.jsx)("input",{type:"text",placeholder:"Business Address",value:wa.business_address,onChange:e=>_a((t=>c(c({},t),{},{business_address:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,d.jsx)("input",{type:"text",placeholder:"City",value:wa.city,onChange:e=>_a((t=>c(c({},t),{},{city:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,d.jsx)("input",{type:"text",placeholder:"State",value:wa.state,onChange:e=>_a((t=>c(c({},t),{},{state:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),(0,d.jsx)("input",{type:"text",placeholder:"Country",value:wa.country,onChange:e=>_a((t=>c(c({},t),{},{country:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),"registered"===Ha&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"mb-4 p-3 bg-emerald-100 rounded-lg",children:(0,d.jsx)("p",{className:"text-sm text-emerald-800 font-medium",children:"Registered Business Additional Details"})}),(0,d.jsx)("textarea",{placeholder:"Business Bio (Tell us about your business)",value:qa,onChange:e=>Va(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",rows:"3"}),(0,d.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,d.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Directors"}),Ra.map(((e,t)=>(0,d.jsxs)("div",{className:"bg-white p-2 rounded mb-2 text-sm border border-gray-200",children:[e.name," (",e.id_number,")"]},t))),(0,d.jsxs)("div",{className:"grid grid-cols-1 gap-2 bg-gray-50 p-3 rounded-lg",children:[(0,d.jsx)("input",{type:"text",placeholder:"Director Name",value:Wa.name,onChange:e=>Ya((t=>c(c({},t),{},{name:e.target.value}))),className:"w-full px-2 py-1 text-sm border rounded"}),(0,d.jsx)("input",{type:"text",placeholder:"Director ID Number",value:Wa.id_number,onChange:e=>Ya((t=>c(c({},t),{},{id_number:e.target.value}))),className:"w-full px-2 py-1 text-sm border rounded"}),(0,d.jsx)("input",{type:"text",placeholder:"Director Address",value:Wa.address,onChange:e=>Ya((t=>c(c({},t),{},{address:e.target.value}))),className:"w-full px-2 py-1 text-sm border rounded"}),(0,d.jsx)("button",{type:"button",onClick:()=>{Wa.name&&Wa.id_number&&Wa.address&&(Aa([...Ra,Wa]),Ya({name:"",id_number:"",address:""}))},className:"w-full bg-gray-200 text-gray-700 py-1 rounded text-sm hover:bg-gray-300",children:"Add Director"})]})]}),(0,d.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,d.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Documents"}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"CAC Certificate"}),(0,d.jsx)("input",{type:"file",onChange:e=>ks(e.target.files[0],"cac_certificate"),className:"w-full text-sm"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Proof of Address"}),(0,d.jsx)("input",{type:"file",onChange:e=>ks(e.target.files[0],"proof_of_address"),className:"w-full text-sm"})]})]})]})]}),(0,d.jsx)("button",{type:"submit",className:"w-full bg-emerald-600 text-white py-3 px-4 rounded-full hover:bg-emerald-700 transition-colors font-medium",children:"Complete Registration"})]})})]}),"partner_type"===ga&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,d.jsx)("button",{onClick:()=>ya("role_path"),className:"text-gray-500 hover:text-gray-700",children:"\u2190 Back"}),(0,d.jsx)("h2",{className:"text-xl font-bold text-emerald-600",children:"Select Your Role"}),(0,d.jsx)("div",{})]}),(0,d.jsx)("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 p-6 rounded-2xl",children:(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("button",{onClick:()=>js("agent"),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 hover:border-emerald-300 hover:bg-emerald-50 transition-all",children:[(0,d.jsx)("div",{className:"font-medium",children:"Agent"}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"Field agent facilitating transactions"})]}),(0,d.jsxs)("button",{onClick:()=>js("farmer"),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 hover:border-emerald-300 hover:bg-emerald-50 transition-all",children:[(0,d.jsx)("div",{className:"font-medium",children:"Farmer"}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"Individual farmer growing produce"})]}),(0,d.jsxs)("button",{onClick:()=>js("driver"),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 hover:border-emerald-300 hover:bg-emerald-50 transition-all",children:[(0,d.jsx)("div",{className:"font-medium",children:"Driver"}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"Delivery driver for transport services"})]}),(0,d.jsxs)("button",{onClick:()=>js("storage_owner"),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 hover:border-emerald-300 hover:bg-emerald-50 transition-all",children:[(0,d.jsx)("div",{className:"font-medium",children:"Storage Owner"}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"Provide storage facilities"})]}),(0,d.jsxs)("button",{onClick:()=>js("business"),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 hover:border-emerald-300 hover:bg-emerald-50 transition-all",children:[(0,d.jsx)("div",{className:"font-medium",children:"Business"}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"Supplier, Processor, or Logistics Business"})]})]})})]}),"business_category"===ga&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,d.jsx)("button",{onClick:()=>ya("partner_type"),className:"text-gray-500 hover:text-gray-700",children:"\u2190 Back"}),(0,d.jsx)("h2",{className:"text-xl font-bold text-emerald-600",children:"Business Category"}),(0,d.jsx)("div",{})]}),(0,d.jsx)("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 p-6 rounded-2xl",children:(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("button",{onClick:()=>Ns("supplier"),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 hover:border-purple-300 hover:bg-purple-50 transition-all",children:[(0,d.jsx)("div",{className:"font-medium",children:"Supplier"}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"Supply agricultural products"})]}),(0,d.jsxs)("button",{onClick:()=>Ns("processor"),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 hover:border-purple-300 hover:bg-purple-50 transition-all",children:[(0,d.jsx)("div",{className:"font-medium",children:"Processor"}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"Process raw materials into finished goods"})]}),(0,d.jsxs)("button",{onClick:()=>Ns("logistics_business"),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 hover:border-purple-300 hover:bg-purple-50 transition-all",children:[(0,d.jsx)("div",{className:"font-medium",children:"Logistics Business"}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"Transport and logistics services"})]})]})})]}),"verification"===ga&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,d.jsx)("button",{onClick:()=>ya("business"===ka?"business_category":"partner_type"),className:"text-gray-500 hover:text-gray-700",children:"\u2190 Back"}),(0,d.jsx)("h2",{className:"text-xl font-bold text-emerald-600",children:"Verification Requirements"}),(0,d.jsx)("div",{})]}),(0,d.jsx)("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 p-6 rounded-2xl",children:(0,d.jsxs)("form",{onSubmit:e=>{e.preventDefault(),Cs()},className:"space-y-4",children:[("agent"===ka||"driver"===ka)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"mb-4 p-3 bg-blue-100 rounded-lg",children:(0,d.jsx)("p",{className:"text-sm text-blue-800 font-medium",children:"Required: NIN and Photo for verification"})}),(0,d.jsx)("input",{type:"text",placeholder:"National Identification Number (NIN)",value:Pa.nin,onChange:e=>za((t=>c(c({},t),{},{nin:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,d.jsx)("input",{type:"file",accept:"image/*",placeholder:"Upload your photo",onChange:e=>za((t=>{var r;return c(c({},t),{},{photo:(null===(r=e.target.files[0])||void 0===r?void 0:r.name)||""})})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),"farmer"===ka&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"mb-4 p-3 bg-green-100 rounded-lg",children:(0,d.jsx)("p",{className:"text-sm text-green-800 font-medium",children:"Required: Photo, NIN, Farm Photo, and Farm Information"})}),(0,d.jsx)("input",{type:"text",placeholder:"National Identification Number (NIN)",value:Pa.nin,onChange:e=>za((t=>c(c({},t),{},{nin:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,d.jsx)("input",{type:"file",accept:"image/*",placeholder:"Upload your photo",onChange:e=>za((t=>{var r;return c(c({},t),{},{photo:(null===(r=e.target.files[0])||void 0===r?void 0:r.name)||""})})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,d.jsx)("input",{type:"file",accept:"image/*",placeholder:"Upload farm photo",onChange:e=>za((t=>{var r;return c(c({},t),{},{farm_photo:(null===(r=e.target.files[0])||void 0===r?void 0:r.name)||""})})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,d.jsx)("textarea",{placeholder:"Farm Information (location, size, crops grown, etc.)",value:Pa.farm_info,onChange:e=>za((t=>c(c({},t),{},{farm_info:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",rows:"3",required:!0})]}),("processor"===Sa||"logistics_business"===Sa||"business"===ka&&Sa)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"mb-4 p-3 bg-purple-100 rounded-lg",children:(0,d.jsx)("p",{className:"text-sm text-purple-800 font-medium",children:"Required: CAC Number, Business Name, and Address"})}),(0,d.jsx)("input",{type:"text",placeholder:"CAC Registration Number",value:Pa.cac_number,onChange:e=>za((t=>c(c({},t),{},{cac_number:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,d.jsx)("input",{type:"text",placeholder:"Business Name",value:wa.business_name,onChange:e=>_a((t=>c(c({},t),{},{business_name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,d.jsx)("input",{type:"text",placeholder:"Business Address",value:wa.business_address,onChange:e=>_a((t=>c(c({},t),{},{business_address:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),"supplier"===Sa&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"mb-4 p-3 bg-orange-100 rounded-lg",children:(0,d.jsx)("p",{className:"text-sm text-orange-800 font-medium",children:"Suppliers can submit either NIN or CAC Number"})}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("label",{className:"flex items-center",children:[(0,d.jsx)("input",{type:"radio",name:"supplier_verification",value:"nin",onChange:e=>za((t=>c(c({},t),{},{verification_type:e.target.value}))),className:"mr-2"}),"Use NIN (Individual/Unregistered Business)"]}),(0,d.jsxs)("label",{className:"flex items-center",children:[(0,d.jsx)("input",{type:"radio",name:"supplier_verification",value:"cac",onChange:e=>za((t=>c(c({},t),{},{verification_type:e.target.value}))),className:"mr-2"}),"Use CAC (Registered Business)"]})]}),"nin"===Pa.verification_type&&(0,d.jsx)("input",{type:"text",placeholder:"National Identification Number (NIN)",value:Pa.nin,onChange:e=>za((t=>c(c({},t),{},{nin:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),"cac"===Pa.verification_type&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("input",{type:"text",placeholder:"CAC Registration Number",value:Pa.cac_number,onChange:e=>za((t=>c(c({},t),{},{cac_number:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,d.jsx)("input",{type:"text",placeholder:"Business Name",value:wa.business_name,onChange:e=>_a((t=>c(c({},t),{},{business_name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,d.jsx)("input",{type:"text",placeholder:"Business Address",value:wa.business_address,onChange:e=>_a((t=>c(c({},t),{},{business_address:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0})]})]}),("agent"===ka||"farmer"===ka)&&(0,d.jsx)("textarea",{placeholder:"Bio (Tell us about yourself/business)",value:qa,onChange:e=>Va(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",rows:"3"}),(0,d.jsx)("button",{type:"submit",className:"w-full bg-emerald-600 text-white py-3 px-4 rounded-full hover:bg-emerald-700 transition-colors font-medium",children:"Complete Registration"})]})})]}),"personal_details"===ga&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,d.jsx)("button",{onClick:()=>ya("role_path"),className:"text-gray-500 hover:text-gray-700",children:"\u2190 Back"}),(0,d.jsx)("h2",{className:"text-xl font-bold text-emerald-600",children:"Personal Details"}),(0,d.jsx)("div",{})]}),(0,d.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-emerald-50 p-6 rounded-2xl",children:(0,d.jsxs)("form",{onSubmit:e=>{e.preventDefault(),Cs()},className:"space-y-4",children:[(0,d.jsx)("div",{className:"mb-4 p-3 bg-blue-100 rounded-lg",children:(0,d.jsx)("p",{className:"text-sm text-blue-800 font-medium",children:"Tell us a bit about yourself (Optional)"})}),(0,d.jsx)("textarea",{placeholder:"Bio (e.g., I love fresh organic produce!)",value:qa,onChange:e=>Va(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",rows:"3"}),(0,d.jsx)("button",{type:"submit",className:"w-full bg-emerald-600 text-white py-3 px-4 rounded-full hover:bg-emerald-700 transition-colors font-medium",children:"Complete Registration"})]})})]})]})]})}),Bn&&(0,d.jsx)("div",{className:"modal-backdrop-blur fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[(0,d.jsxs)("div",{className:"p-6 border-b ".concat("pyexpress"===Vn?"border-emerald-200 bg-emerald-50":"border-orange-200 bg-orange-50"),children:[(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"pyexpress"===Vn?"\ud83d\uded2 PyExpress Checkout":"\ud83c\udf3e Farm Deals Checkout"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"pyexpress"===Vn?"Business & Supplier Products":"Farm Fresh Products with Fixed Split"})]}),(0,d.jsx)("button",{onClick:()=>Hn(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,d.jsxs)("div",{className:"mt-4 flex items-center space-x-4",children:[(0,d.jsxs)("div",{className:"flex items-center ".concat("review"===Un?"pyexpress"===Vn?"text-emerald-600":"text-orange-600":"text-gray-400"),children:[(0,d.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ".concat("review"===Un?"pyexpress"===Vn?"bg-emerald-100 text-emerald-600":"bg-orange-100 text-orange-600":"bg-gray-100 text-gray-400"),children:"1"}),(0,d.jsx)("span",{className:"ml-2 text-sm font-medium",children:"Review Order"})]}),(0,d.jsx)("div",{className:"h-px bg-gray-200 flex-1"}),(0,d.jsxs)("div",{className:"flex items-center ".concat("address"===Un?"pyexpress"===Vn?"text-emerald-600":"text-orange-600":"text-gray-400"),children:[(0,d.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ".concat("address"===Un?"pyexpress"===Vn?"bg-emerald-100 text-emerald-600":"bg-orange-100 text-orange-600":"bg-gray-100 text-gray-400"),children:"2"}),(0,d.jsx)("span",{className:"ml-2 text-sm font-medium",children:"Shipping Address"})]}),(0,d.jsx)("div",{className:"h-px bg-gray-200 flex-1"}),(0,d.jsxs)("div",{className:"flex items-center ".concat("payment"===Un?"pyexpress"===Vn?"text-emerald-600":"text-orange-600":"text-gray-400"),children:[(0,d.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ".concat("payment"===Un?"pyexpress"===Vn?"bg-emerald-100 text-emerald-600":"bg-orange-100 text-orange-600":"bg-gray-100 text-gray-400"),children:"3"}),(0,d.jsx)("span",{className:"ml-2 text-sm font-medium",children:"Payment"})]})]})]}),(0,d.jsx)("div",{className:"p-6",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,d.jsxs)("div",{className:"lg:col-span-2",children:["review"===Un&&(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"\ud83d\udce6 Review Your Order"}),0===zs().length?(0,d.jsx)("div",{className:"text-center py-8",children:(0,d.jsx)("div",{className:"text-gray-500",children:"Your cart is empty"})}):(0,d.jsx)("div",{className:"space-y-4",children:zs().map((e=>{var t;return(0,d.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,d.jsxs)("div",{className:"flex justify-between items-start",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h4",{className:"font-semibold text-gray-900",children:e.product.product_name||e.product.crop_type}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.product.description||"Fresh organic produce"}),(0,d.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,d.jsxs)("span",{className:"text-gray-700",children:[(0,d.jsx)("strong",{children:"Quantity:"})," ",e.quantity," ",e.unit,e.unit_specification&&" (".concat(e.unit_specification,")")]}),(0,d.jsxs)("span",{className:"text-gray-700",children:[(0,d.jsx)("strong",{children:"Price:"})," \u20a6",e.product.price_per_unit,"/",e.unit]}),(0,d.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("platform"===e.delivery_method?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:"platform"===e.delivery_method?"\ud83d\ude9b Platform Driver":"\ud83d\ude9a Offline Delivery"})]}),(0,d.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:[(0,d.jsx)("strong",{children:"Seller:"})," ",e.product.seller_username,e.product.business_name&&" (".concat(e.product.business_name,")")]}),"seller"===e.product.logistics_managed_by&&(0,d.jsx)("div",{className:"mt-2",children:0===e.product.seller_delivery_fee?(0,d.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"\ud83c\udf89 FREE Delivery (Vendor Managed)"}):(0,d.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["\ud83d\ude9a Vendor Delivery: \u20a6",null===(t=e.product.seller_delivery_fee)||void 0===t?void 0:t.toLocaleString()]})})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:["\u20a6",(e.product.price_per_unit*e.quantity).toLocaleString()]}),(0,d.jsx)("button",{onClick:()=>Bs(e.id),className:"text-red-600 hover:text-red-800 text-sm mt-1",children:"Remove"})]})]})},e.id)}))}),(0,d.jsx)("div",{className:"flex justify-end",children:(0,d.jsx)("button",{onClick:()=>qn("address"),className:"px-6 py-2 text-white rounded-lg font-medium ".concat("pyexpress"===Vn?"bg-emerald-600 hover:bg-emerald-700":"bg-orange-600 hover:bg-orange-700"),children:"Continue to Shipping"})})]}),"address"===Un&&(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"\ud83d\udccd Shipping Address"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),(0,d.jsx)("input",{type:"text",value:Yn.full_name,onChange:e=>$n((t=>c(c({},t),{},{full_name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Enter your full name"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),(0,d.jsx)("input",{type:"tel",value:Yn.phone,onChange:e=>$n((t=>c(c({},t),{},{phone:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"+234 xxx xxx xxxx"})]}),(0,d.jsxs)("div",{className:"md:col-span-2",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,d.jsx)("input",{type:"email",value:Yn.email,onChange:e=>$n((t=>c(c({},t),{},{email:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"your.email@example.com"})]}),(0,d.jsxs)("div",{className:"md:col-span-2",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 1 *"}),(0,d.jsx)("input",{type:"text",value:Yn.address_line_1,onChange:e=>$n((t=>c(c({},t),{},{address_line_1:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Street address, P.O. box, company name"})]}),(0,d.jsxs)("div",{className:"md:col-span-2",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 2"}),(0,d.jsx)("input",{type:"text",value:Yn.address_line_2,onChange:e=>$n((t=>c(c({},t),{},{address_line_2:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Apartment, suite, unit, building, floor, etc."})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),(0,d.jsx)("input",{type:"text",value:Yn.city,onChange:e=>$n((t=>c(c({},t),{},{city:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Lagos"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),(0,d.jsx)("input",{type:"text",value:Yn.state,onChange:e=>$n((t=>c(c({},t),{},{state:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Lagos State"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code"}),(0,d.jsx)("input",{type:"text",value:Yn.postal_code,onChange:e=>$n((t=>c(c({},t),{},{postal_code:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"100001"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),(0,d.jsxs)("select",{value:Yn.country,onChange:e=>$n((t=>c(c({},t),{},{country:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",children:[(0,d.jsx)("option",{value:"Nigeria",children:"Nigeria"}),(0,d.jsx)("option",{value:"Ghana",children:"Ghana"}),(0,d.jsx)("option",{value:"Kenya",children:"Kenya"})]})]}),(0,d.jsxs)("div",{className:"md:col-span-2",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Instructions"}),(0,d.jsx)("textarea",{value:Yn.delivery_instructions,onChange:e=>$n((t=>c(c({},t),{},{delivery_instructions:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",rows:"3",placeholder:"Any special delivery instructions..."})]})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("button",{onClick:()=>qn("review"),className:"px-6 py-2 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Back to Review"}),(0,d.jsx)("button",{onClick:()=>{Hs()&&qn("payment")},className:"px-6 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium",children:"Continue to Payment"})]})]}),"payment"===Un&&(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"\ud83d\udcb3 Payment with Paystack"}),(0,d.jsx)("div",{className:"border rounded-lg p-4 ".concat("pyexpress"===Vn?"bg-emerald-50 border-emerald-200":"bg-orange-50 border-orange-200"),children:(0,d.jsxs)("div",{className:"flex items-start",children:[(0,d.jsx)("svg",{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5 ".concat("pyexpress"===Vn?"text-emerald-600":"text-orange-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium ".concat("pyexpress"===Vn?"text-emerald-900":"text-orange-900"),children:"pyexpress"===Vn?"PyExpress Checkout":"Farm Deals Checkout"}),(0,d.jsx)("div",{className:"text-sm mt-1 ".concat("pyexpress"===Vn?"text-emerald-700":"text-orange-700"),children:"pyexpress"===Vn?"Payment will be split: Vendor receives product payment, platform handles service charges":"Payment via Fixed Split Group - Sophie Farms Investment Ltd manages farmer payouts"}),b&&("agent"===b.role||"purchasing_agent"===b.role)&&(0,d.jsx)("div",{className:"mt-2 text-sm font-medium text-blue-700",children:"\u2728 As an agent, you'll earn commission on this purchase!"})]})]})}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("div",{className:"font-medium text-gray-900",children:"Secure Payment via Paystack"}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg bg-white",children:[(0,d.jsx)("svg",{className:"w-8 h-8 text-emerald-600 mr-3",viewBox:"0 0 24 24",fill:"currentColor",children:(0,d.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium",children:"Debit/Credit Card"}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"Visa, Mastercard, Verve supported"})]})]}),(0,d.jsxs)("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg bg-white",children:[(0,d.jsx)("svg",{className:"w-8 h-8 text-blue-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium",children:"Bank Transfer & USSD"}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"Transfer directly from your bank"})]})]}),(0,d.jsxs)("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg bg-white",children:[(0,d.jsx)("svg",{className:"w-8 h-8 text-purple-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium",children:"Mobile Money"}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"MTN, Airtel, and other providers"})]})]})]})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("button",{onClick:()=>qn("address"),className:"px-6 py-2 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Back to Address"}),(0,d.jsx)("button",{onClick:async()=>{if(Hs()){Xn(!0);try{const e=localStorage.getItem("token"),t=zs();if(0===t.length)return void alert("No items in cart for checkout");const r=t.reduce(((e,t)=>e+t.product.price_per_unit*t.quantity),0),n="pyexpress"===Vn?"home":"farmhub",a=t[0].product;let s=null;"home"===n&&(s=a.seller_subaccount_code||null);const l={product_total:r,customer_state:Yn.state,product_weight:t.reduce(((e,t)=>e+1*t.quantity),0),quantity:t.reduce(((e,t)=>e+t.quantity),0),subaccount_code:s,product_id:t.map((e=>e.product.id)).join(","),platform_type:n,buyer_location:"".concat(Yn.address_line_1).concat(Yn.address_line_2?", "+Yn.address_line_2:""),buyer_city:Yn.city,seller_location:a.location||"",seller_city:a.city||"",callback_url:"".concat(window.location.origin,"/payment-callback")},i=await fetch("".concat("https://api.pyramydhyb.com","/api/paystack/transaction/initialize"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(l)});if(!i.ok){const e=await i.json();throw new Error(e.detail||"Failed to initialize payment")}{const e=await i.json();ta(e.reference);const t=e.breakdown;window.confirm("Payment Breakdown:\n\n"+"Product Total: \u20a6".concat(t.product_total.toLocaleString(),"\n")+"Delivery Fee (".concat(t.delivery_state,"): \u20a6").concat(t.delivery_fee.toLocaleString(),"\n")+"Platform Charges: \u20a6".concat(t.platform_cut.toLocaleString(),"\n")+(t.agent_commission>0?"Your Commission (".concat(t.agent_tier||"","): \u20a6").concat(t.agent_commission.toLocaleString(),"\n"):"")+"\nTotal Amount: \u20a6".concat(e.amount.toLocaleString(),"\n\n")+"Proceed to payment gateway?")?window.location.href=e.authorization_url:Xn(!1)}}catch(e){console.error("Payment initialization error:",e),alert("Payment initialization failed: ".concat(e.message)),Xn(!1)}}},disabled:Jn,className:"px-8 py-2 text-white rounded-lg font-medium flex items-center ".concat("pyexpress"===Vn?"bg-emerald-600 hover:bg-emerald-700":"bg-orange-600 hover:bg-orange-700"," ").concat(Jn?"opacity-50 cursor-not-allowed":""),children:Jn?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,d.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,d.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Pay \u20a6".concat((null===(t=Gn.total)||void 0===t?void 0:t.toLocaleString())||0," Securely")})]})]})]}),(0,d.jsx)("div",{className:"lg:col-span-1",children:(0,d.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 sticky top-0",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\ud83d\udccb Order Summary"}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsxs)("span",{className:"text-gray-600",children:["Product Total (",Gn.item_count," items)"]}),(0,d.jsxs)("span",{className:"font-medium",children:["\u20a6",(null===(r=Gn.product_total)||void 0===r?void 0:r.toLocaleString())||0]})]}),Gn.platform_service_charge>0&&(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Service Charge"}),(0,d.jsxs)("span",{className:"font-medium",children:["\u20a6",(null===(a=Gn.platform_service_charge)||void 0===a?void 0:a.toLocaleString())||0]})]}),Gn.platform_commission>0&&(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Platform Commission (2.5%)"}),(0,d.jsxs)("span",{className:"font-medium",children:["\u20a6",(null===(s=Gn.platform_commission)||void 0===s?void 0:s.toLocaleString())||0]})]}),(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Delivery Fees"}),(0,d.jsxs)("span",{className:"font-medium",children:["\u20a6",(null===(l=Gn.delivery_total)||void 0===l?void 0:l.toLocaleString())||0]})]}),Gn.is_agent&&Gn.agent_commission>0&&(0,d.jsxs)("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-3 -mx-1",children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{className:"text-emerald-700 font-medium",children:"\ud83c\udf81 Your Agent Commission (4%)"}),(0,d.jsxs)("span",{className:"font-semibold text-emerald-700",children:["\u20a6",(null===(i=Gn.agent_commission)||void 0===i?void 0:i.toLocaleString())||0]})]}),(0,d.jsx)("p",{className:"text-xs text-emerald-600 mt-1",children:"Paid separately to your account after order completion"})]}),(0,d.jsx)("div",{className:"border-t border-gray-200 pt-3",children:(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:"Total to Pay"}),(0,d.jsxs)("span",{className:"text-lg font-semibold text-emerald-600",children:["\u20a6",(null===(o=Gn.total)||void 0===o?void 0:o.toLocaleString())||0]})]})}),(0,d.jsxs)("div",{className:"text-xs text-gray-500 mt-2 space-y-1",children:[(0,d.jsxs)("div",{children:["\u2022 Vendor receives: \u20a6",(null===(h=Gn.product_total)||void 0===h?void 0:h.toLocaleString())||0]}),(0,d.jsxs)("div",{children:["\u2022 Platform fee: \u20a6",(null===(g=Gn.platform_cut)||void 0===g?void 0:g.toLocaleString())||0]}),Gn.is_agent&&(0,d.jsxs)("div",{className:"text-emerald-600 font-medium",children:["\u2022 Your commission: \u20a6",(null===(y=Gn.agent_commission)||void 0===y?void 0:y.toLocaleString())||0]})]})]}),"review"!==Un&&Yn.full_name&&(0,d.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"\ud83d\udccd Shipping To:"}),(0,d.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,d.jsx)("div",{children:Yn.full_name}),(0,d.jsx)("div",{children:Yn.address_line_1}),Yn.address_line_2&&(0,d.jsx)("div",{children:Yn.address_line_2}),(0,d.jsxs)("div",{children:[Yn.city,", ",Yn.state]}),(0,d.jsx)("div",{children:Yn.country}),(0,d.jsx)("div",{className:"mt-1 font-medium",children:Yn.phone})]})]})]})})]})})]})}),nn&&(0,d.jsx)("div",{className:"modal-backdrop-blur fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,d.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"\ud83d\ude9a Create Delivery Request"}),(0,d.jsx)("button",{onClick:()=>an(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),(0,d.jsx)("div",{className:"p-6",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\ud83d\udccb Order Details"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order ID"}),(0,d.jsx)("input",{type:"text",value:oa.order_id,onChange:e=>ca((t=>c(c({},t),{},{order_id:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"e.g., ORD-12345"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Type"}),(0,d.jsxs)("select",{value:oa.order_type,onChange:e=>ca((t=>c(c({},t),{},{order_type:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",children:[(0,d.jsx)("option",{value:"regular",children:"Regular Order"}),(0,d.jsx)("option",{value:"preorder",children:"Pre-order"})]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Details *"}),(0,d.jsx)("textarea",{value:oa.product_details,onChange:e=>ca((t=>c(c({},t),{},{product_details:e.target.value}))),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Describe the products to be delivered..."})]}),(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Quantity *"}),(0,d.jsx)("input",{type:"number",value:oa.total_quantity,onChange:e=>ca((t=>c(c({},t),{},{total_quantity:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"100"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"}),(0,d.jsxs)("select",{value:oa.quantity_unit,onChange:e=>ca((t=>c(c({},t),{},{quantity_unit:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",children:[(0,d.jsx)("option",{value:"kg",children:"Kilograms"}),(0,d.jsx)("option",{value:"pieces",children:"Pieces"}),(0,d.jsx)("option",{value:"bags",children:"Bags"}),(0,d.jsx)("option",{value:"tins",children:"Tins"}),(0,d.jsx)("option",{value:"crates",children:"Crates"}),(0,d.jsx)("option",{value:"liters",children:"Liters"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight (kg)"}),(0,d.jsx)("input",{type:"number",value:oa.weight_kg,onChange:e=>ca((t=>c(c({},t),{},{weight_kg:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"50"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\ud83d\udccd Pickup Address *"}),(0,d.jsx)("input",{type:"text",value:oa.pickup_address,onChange:e=>ca((t=>c(c({},t),{},{pickup_address:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Enter pickup address..."})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\ud83c\udfaf Delivery Destinations *"}),(0,d.jsx)("button",{type:"button",onClick:()=>{In([...An,""]),ca((e=>c(c({},e),{},{delivery_addresses:[...e.delivery_addresses,""]})))},className:"text-sm text-emerald-600 hover:text-emerald-700 font-medium",children:"+ Add Destination"})]}),(0,d.jsx)("div",{className:"space-y-2",children:An.map(((e,t)=>(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("div",{className:"flex-1",children:(0,d.jsx)("input",{type:"text",value:e,onChange:e=>((e,t)=>{const r=[...An];r[e]=t,In(r);const n=[...oa.delivery_addresses];n[e]=t,ca((e=>c(c({},e),{},{delivery_addresses:n})))})(t,e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Destination ".concat(t+1," address...")})}),An.length>1&&(0,d.jsx)("button",{type:"button",onClick:()=>(e=>{const t=An.filter(((t,r)=>r!==e));In(t),ca((t=>c(c({},t),{},{delivery_addresses:t.delivery_addresses.filter(((t,r)=>r!==e))})))})(t),className:"text-red-600 hover:text-red-700 p-1",children:"\u2715"})]},t)))})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\ud83d\udcb0 Estimated Price (\u20a6) *"}),(0,d.jsx)("input",{type:"number",value:oa.estimated_price,onChange:e=>ca((t=>c(c({},t),{},{estimated_price:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"5000"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\ud83d\udcdd Special Instructions"}),(0,d.jsx)("textarea",{value:oa.special_instructions,onChange:e=>ca((t=>c(c({},t),{},{special_instructions:e.target.value}))),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Any special handling requirements..."})]})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\ud83d\udd0d Find & Select Driver"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Drivers"}),(0,d.jsxs)("div",{className:"flex space-x-2",children:[(0,d.jsx)("input",{type:"text",value:hn,onChange:e=>gn(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Search by driver name or username..."}),(0,d.jsx)("button",{type:"button",onClick:()=>(async e=>{try{const t=localStorage.getItem("token");let r="".concat("https://api.pyramydhyb.com","/api/drivers/search?min_rating=3.0&radius_km=50");e&&e.lat&&e.lng&&(r+="&pickup_lat=".concat(e.lat,"&pickup_lng=").concat(e.lng));const n=await fetch(r,{headers:{Authorization:"Bearer ".concat(t)}});if(n.ok){const e=await n.json();bn(e.drivers||[])}}catch(t){console.error("Error searching drivers:",t)}})(zn),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"\ud83d\udd0d"})]})]}),yn.length>0&&(0,d.jsxs)("div",{className:"max-h-64 overflow-y-auto border border-gray-200 rounded-lg",children:[(0,d.jsxs)("div",{className:"p-2 bg-gray-50 border-b border-gray-200 text-sm font-medium text-gray-700",children:["Available Drivers (",yn.length,")"]}),yn.map((e=>(0,d.jsx)("div",{onClick:()=>{jn(e),ca((t=>c(c({},t),{},{preferred_driver_username:e.driver_username})))},className:"p-3 border-b border-gray-100 cursor-pointer hover:bg-gray-50 ".concat((null===vn||void 0===vn?void 0:vn.driver_id)===e.driver_id?"bg-emerald-50 border-emerald-200":""),children:(0,d.jsxs)("div",{className:"flex justify-between items-start",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium text-gray-900",children:e.driver_name}),(0,d.jsxs)("div",{className:"text-sm text-gray-600",children:["@",e.driver_username]}),(0,d.jsxs)("div",{className:"text-sm text-gray-500",children:["\u2b50 ",e.rating," \u2022 ",e.total_deliveries," deliveries"]}),(0,d.jsxs)("div",{className:"text-sm text-blue-600",children:["\ud83d\ude97 ",e.vehicle_info.make_model," (",e.vehicle_info.plate_number,")"]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("div",{className:"text-sm px-2 py-1 rounded-full ".concat("online"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"),children:e.status}),e.distance_km&&(0,d.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:["\ud83d\udccd ",e.distance_km," km away"]})]})]})},e.driver_id)))]}),vn&&(0,d.jsxs)("div",{className:"p-4 bg-emerald-50 border border-emerald-200 rounded-lg",children:[(0,d.jsx)("div",{className:"text-sm font-medium text-emerald-800 mb-2",children:"\u2705 Selected Driver"}),(0,d.jsx)("div",{className:"font-medium text-gray-900",children:vn.driver_name}),(0,d.jsxs)("div",{className:"text-sm text-gray-600",children:["@",vn.driver_username]}),(0,d.jsxs)("div",{className:"text-sm text-gray-500",children:["\u2b50 ",vn.rating," \u2022 ",vn.total_deliveries," deliveries"]})]}),(0,d.jsx)("div",{className:"h-48 bg-gray-100 border border-gray-200 rounded-lg flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center text-gray-500",children:[(0,d.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\uddfa\ufe0f"}),(0,d.jsx)("div",{className:"text-sm",children:"Interactive Map"}),(0,d.jsx)("div",{className:"text-xs",children:"Pickup & delivery locations will be shown here"})]})}),(0,d.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,d.jsx)("button",{type:"button",onClick:()=>an(!1),className:"flex-1 px-4 py-2 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,d.jsx)("button",{type:"button",onClick:async()=>{try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://api.pyramydhyb.com","/api/delivery/request-enhanced"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(c(c({},oa),{},{total_quantity:parseFloat(oa.total_quantity),weight_kg:oa.weight_kg?parseFloat(oa.weight_kg):null,estimated_price:parseFloat(oa.estimated_price),pickup_coordinates:zn,delivery_coordinates:Dn}))});if(t.ok){const e=await t.json();alert("Delivery request created successfully! \n        Request ID: ".concat(e.request_id,"\n        Total destinations: ").concat(e.total_destinations,"\n        Quantity: ").concat(e.total_quantity," ").concat(e.quantity_unit,"\n        Estimated price: \u20a6").concat(e.estimated_price,"\n        OTP: ").concat(e.delivery_otp)),an(!1),ca({order_id:"",order_type:"regular",pickup_address:"",delivery_addresses:[""],total_quantity:"",quantity_unit:"kg",product_details:"",weight_kg:"",special_instructions:"",estimated_price:"",preferred_driver_username:""}),In([""])}else{const e=await t.json();alert("Error: ".concat(e.detail||"Failed to create delivery request"))}}catch(e){console.error("Error creating delivery request:",e),alert("Error creating delivery request. Please try again.")}},className:"flex-1 px-6 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium",children:"Create Request"})]})]})]})})]})}),Nn&&(0,d.jsx)("div",{className:"modal-backdrop-blur fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex",children:[(0,d.jsxs)("div",{className:"w-1/3 bg-gray-50 border-r border-gray-200 p-4",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"\ud83d\udce6 Delivery Info"}),(0,d.jsx)("button",{onClick:()=>wn(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),On&&(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-700",children:"Status"}),(0,d.jsx)("div",{className:"text-lg font-semibold text-emerald-600",children:On.status})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-700",children:"Product"}),(0,d.jsx)("div",{className:"text-sm text-gray-900",children:On.product_details})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-700",children:"Quantity"}),(0,d.jsxs)("div",{className:"text-sm text-gray-900",children:[On.total_quantity," ",On.quantity_unit]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-700",children:"Pickup"}),(0,d.jsx)("div",{className:"text-sm text-gray-900",children:On.pickup_location.address})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-700",children:"Destinations"}),On.delivery_locations.map(((e,t)=>(0,d.jsxs)("div",{className:"text-sm text-gray-900",children:[t+1,". ",e.address]},t)))]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-700",children:"Price"}),(0,d.jsxs)("div",{className:"text-sm text-gray-900",children:["\u20a6",On.negotiated_price||On.estimated_price]})]})]})]}),(0,d.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,d.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"\ud83d\udcac Delivery Chat"})}),(0,d.jsx)("div",{className:"flex-1 p-4 overflow-y-auto",children:0===_n.length?(0,d.jsxs)("div",{className:"text-center text-gray-500 mt-8",children:[(0,d.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udcac"}),(0,d.jsx)("div",{children:"No messages yet"}),(0,d.jsx)("div",{className:"text-sm",children:"Start a conversation with your driver"})]}):(0,d.jsx)("div",{className:"space-y-3",children:_n.map((e=>(0,d.jsx)("div",{className:"flex ".concat(e.sender_username===b.username?"justify-end":"justify-start"),children:(0,d.jsxs)("div",{className:"max-w-xs px-3 py-2 rounded-lg ".concat(e.sender_username===b.username?"bg-emerald-500 text-white":"bg-gray-200 text-gray-900"),children:[(0,d.jsx)("div",{className:"text-sm",children:"location"===e.message_type?(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium",children:"\ud83d\udccd Location shared"}),(0,d.jsx)("div",{className:"text-xs opacity-75",children:"Tap to view on map"})]}):e.content}),(0,d.jsx)("div",{className:"text-xs mt-1 opacity-75",children:new Date(e.timestamp).toLocaleTimeString()})]})},e.id)))})}),(0,d.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,d.jsxs)("div",{className:"flex space-x-2",children:[(0,d.jsx)("input",{type:"text",value:En,onChange:e=>Pn(e.target.value),onKeyPress:e=>"Enter"===e.key&&En.trim()&&Fs(Cn,En),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Type a message..."}),(0,d.jsx)("button",{onClick:()=>Fs(Cn,"Current location","location"),className:"px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",title:"Share location",children:"\ud83d\udccd"}),(0,d.jsx)("button",{onClick:()=>En.trim()&&Fs(Cn,En),className:"px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600",children:"Send"})]})})]})]})}),we&&ke&&(0,d.jsx)("div",{className:"modal-backdrop-blur fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[(0,d.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Pre-order Details"}),(0,d.jsx)("button",{onClick:()=>{_e(!1),Ce(null)},className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),(0,d.jsxs)("div",{className:"p-6",children:[ke.images&&ke.images.length>0?(0,d.jsx)("img",{src:ke.images[0],alt:ke.product_name,className:"w-full h-48 object-cover rounded-lg mb-4"}):(0,d.jsx)("div",{className:"w-full h-48 bg-gray-200 flex items-center justify-center rounded-lg mb-4",children:(0,d.jsx)("span",{className:"text-gray-500",children:"No Image"})}),(0,d.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:ke.product_name}),(0,d.jsx)("p",{className:"text-gray-600 mb-4",children:ke.description}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,d.jsxs)("div",{className:"bg-emerald-50 p-3 rounded-lg",children:[(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"Price per unit"}),(0,d.jsxs)("div",{className:"text-xl font-bold text-emerald-600",children:["\u20a6",ke.price_per_unit,"/",ke.unit]})]}),(0,d.jsxs)("div",{className:"bg-orange-50 p-3 rounded-lg",children:[(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"Available stock"}),(0,d.jsxs)("div",{className:"text-xl font-bold text-orange-600",children:[ke.available_stock," ",ke.unit]})]})]}),(0,d.jsxs)("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[(0,d.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Seller Information"}),(0,d.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"font-medium",children:"Business:"})," ",ke.business_name]}),ke.farm_name&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"font-medium",children:"Farm:"})," ",ke.farm_name]}),ke.agent_username&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"font-medium",children:"Agent:"})," @",ke.agent_username]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"font-medium",children:"Location:"})," ",ke.location]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"font-medium",children:"Seller Type:"})," ",ke.seller_type]})]})]}),(0,d.jsxs)("div",{className:"mb-4 p-4 bg-orange-50 rounded-lg border border-orange-200",children:[(0,d.jsx)("h4",{className:"font-semibold text-orange-900 mb-2",children:"Pre-order Information"}),(0,d.jsxs)("div",{className:"space-y-1 text-sm text-orange-800",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"font-medium",children:"Partial payment required:"}),Math.round(100*ke.partial_payment_percentage),"% upfront"]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"font-medium",children:"Remaining payment:"}),100-Math.round(100*ke.partial_payment_percentage),"% on delivery"]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"font-medium",children:"Expected delivery:"}),new Date(ke.delivery_date).toLocaleDateString()]}),ke.orders_count>0&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"font-medium",children:"Current orders:"}),ke.orders_count," (",ke.total_ordered_quantity," ",ke.unit,")"]})]})]}),b?(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Quantity (",ke.unit,")"]}),(0,d.jsx)("input",{type:"number",min:"1",max:ke.available_stock,defaultValue:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",id:"preorder-quantity",onChange:e=>{const t=parseInt(e.target.value)||1,r=t*ke.price_per_unit,n=Math.round(r*ke.partial_payment_percentage);document.getElementById("summary-quantity").textContent="".concat(t," ").concat(ke.unit),document.getElementById("summary-total").textContent="\u20a6".concat(r),document.getElementById("summary-partial").textContent="\u20a6".concat(n),document.getElementById("summary-remaining").textContent="\u20a6".concat(r-n)}})]}),(0,d.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,d.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Order Summary"}),(0,d.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{children:"Unit price:"}),(0,d.jsxs)("span",{children:["\u20a6",ke.price_per_unit]})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{children:"Quantity:"}),(0,d.jsxs)("span",{id:"summary-quantity",children:["1 ",ke.unit]})]}),(0,d.jsxs)("div",{className:"flex justify-between font-medium",children:[(0,d.jsx)("span",{children:"Total amount:"}),(0,d.jsxs)("span",{id:"summary-total",children:["\u20a6",ke.price_per_unit]})]}),(0,d.jsxs)("div",{className:"flex justify-between text-orange-600",children:[(0,d.jsx)("span",{children:"Partial payment now:"}),(0,d.jsxs)("span",{id:"summary-partial",children:["\u20a6",Math.round(ke.price_per_unit*ke.partial_payment_percentage)]})]}),(0,d.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,d.jsx)("span",{children:"Remaining on delivery:"}),(0,d.jsxs)("span",{id:"summary-remaining",children:["\u20a6",ke.price_per_unit-Math.round(ke.price_per_unit*ke.partial_payment_percentage)]})]})]})]}),(0,d.jsx)("button",{onClick:async()=>{const e=parseInt(document.getElementById("preorder-quantity").value);if(e<=0||e>ke.available_stock)alert("Please enter a valid quantity");else try{const t=localStorage.getItem("token"),r=await fetch("".concat("https://api.pyramydhyb.com","/api/preorders/").concat(ke.id,"/order"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({quantity:e})});if(r.ok){const e=await r.json();alert("Pre-order placed successfully! Order ID: ".concat(e.order_id,"\nPartial payment: \u20a6").concat(e.partial_amount,"\nRemaining: \u20a6").concat(e.remaining_amount)),_e(!1),Ce(null),Ga()}else{const e=await r.json();alert("Error: ".concat(e.detail||"Failed to place pre-order"))}}catch(t){console.error("Error placing pre-order:",t),alert("Error placing pre-order. Please try again.")}},className:"w-full bg-orange-600 text-white py-3 px-4 rounded-lg hover:bg-orange-700 font-medium transition-colors",children:"Place Pre-order"})]}):(0,d.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,d.jsx)("p",{className:"text-gray-600 mb-3",children:"Please sign in to place pre-orders"}),(0,d.jsx)("button",{onClick:()=>{_e(!1),E("login"),C(!0)},className:"px-6 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700",children:"Sign In"})]})]})]})}),je&&(0,d.jsx)("div",{className:"modal-backdrop-blur fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,d.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Create Pre-order"}),(0,d.jsx)("button",{onClick:()=>Ne(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),(0,d.jsx)("div",{className:"p-6",children:(0,d.jsx)("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://api.pyramydhyb.com","/api/preorders/create"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(c(c({},da),{},{total_stock:parseInt(da.total_stock),price_per_unit:parseFloat(da.price_per_unit),delivery_date:new Date(da.delivery_date).toISOString()}))});if(t.ok){await t.json();alert("Pre-order created successfully! You can publish it from your dashboard."),Ne(!1),ua({product_name:"",product_category:"vegetables",description:"",total_stock:"",unit:"kg",price_per_unit:"",partial_payment_percentage:.3,location:"",delivery_date:"",business_name:"",farm_name:"",images:[]})}else{const e=await t.json();alert("Error: ".concat(e.detail||"Failed to create pre-order"))}}catch(t){console.error("Error creating pre-order:",t),alert("Error creating pre-order. Please try again.")}},children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name *"}),(0,d.jsx)("input",{type:"text",required:!0,value:da.product_name,onChange:e=>ua((t=>c(c({},t),{},{product_name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"e.g., Organic Tomatoes"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),(0,d.jsxs)("select",{required:!0,value:da.product_category,onChange:e=>ua((t=>c(c({},t),{},{product_category:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",children:[(0,d.jsx)("option",{value:"vegetables",children:"Vegetables"}),(0,d.jsx)("option",{value:"fruits",children:"Fruits"}),(0,d.jsx)("option",{value:"grains",children:"Grains"}),(0,d.jsx)("option",{value:"legumes",children:"Legumes"}),(0,d.jsx)("option",{value:"spices",children:"Spices"}),(0,d.jsx)("option",{value:"feeds",children:"Feeds"}),(0,d.jsx)("option",{value:"fertilizer",children:"Fertilizer"}),(0,d.jsx)("option",{value:"seeds",children:"Seeds"})]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),(0,d.jsx)("textarea",{required:!0,value:da.description,onChange:e=>ua((t=>c(c({},t),{},{description:e.target.value}))),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Describe your product, quality, farming methods, etc."})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Stock *"}),(0,d.jsx)("input",{type:"number",required:!0,min:"1",value:da.total_stock,onChange:e=>ua((t=>c(c({},t),{},{total_stock:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"e.g., 1000"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit *"}),(0,d.jsxs)("select",{required:!0,value:da.unit,onChange:e=>ua((t=>c(c({},t),{},{unit:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",children:[(0,d.jsx)("option",{value:"kg",children:"Kilogram (kg)"}),(0,d.jsx)("option",{value:"g",children:"Gram (g)"}),(0,d.jsx)("option",{value:"ton",children:"Ton"}),(0,d.jsx)("option",{value:"pieces",children:"Pieces"}),(0,d.jsx)("option",{value:"liters",children:"Liters"}),(0,d.jsx)("option",{value:"bags",children:"Bags"}),(0,d.jsx)("option",{value:"tins",children:"Tins"}),(0,d.jsx)("option",{value:"crates",children:"Crates"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price per Unit (\u20a6) *"}),(0,d.jsx)("input",{type:"number",required:!0,min:"0",step:"0.01",value:da.price_per_unit,onChange:e=>ua((t=>c(c({},t),{},{price_per_unit:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"e.g., 500"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Partial Payment Required (",Math.round(100*da.partial_payment_percentage),"%)"]}),(0,d.jsx)("input",{type:"range",min:"0.1",max:"0.9",step:"0.05",value:da.partial_payment_percentage,onChange:e=>ua((t=>c(c({},t),{},{partial_payment_percentage:parseFloat(e.target.value)}))),className:"w-full"}),(0,d.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,d.jsx)("span",{children:"10%"}),(0,d.jsx)("span",{children:"90%"})]}),(0,d.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Buyers will pay ",Math.round(100*da.partial_payment_percentage),"% upfront, remaining on delivery"]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location *"}),(0,d.jsx)("input",{type:"text",required:!0,value:da.location,onChange:e=>ua((t=>c(c({},t),{},{location:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"e.g., Lagos, Nigeria"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Date *"}),(0,d.jsx)("input",{type:"datetime-local",required:!0,value:da.delivery_date,onChange:e=>ua((t=>c(c({},t),{},{delivery_date:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500"})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Business Name *"}),(0,d.jsx)("input",{type:"text",required:!0,value:da.business_name,onChange:e=>ua((t=>c(c({},t),{},{business_name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"e.g., Green Valley Farms"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Farm Name (optional)"}),(0,d.jsx)("input",{type:"text",value:da.farm_name,onChange:e=>ua((t=>c(c({},t),{},{farm_name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"e.g., Green Valley Farm"})]})]}),(0,d.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,d.jsx)("button",{type:"button",onClick:()=>Ne(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,d.jsx)("button",{type:"submit",className:"px-6 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium",children:"Create Pre-order"})]})]})})})]})}),R&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",children:(0,d.jsxs)("div",{className:"fixed right-0 top-0 h-full w-96 bg-white shadow-lg flex flex-col",children:[(0,d.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,d.jsxs)("h2",{className:"text-lg font-semibold",children:["\ud83d\uded2 Shopping Cart (",M.length,")"]}),(0,d.jsx)("button",{onClick:()=>A(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),(0,d.jsxs)("div",{className:"flex space-x-2 mt-3",children:[(0,d.jsxs)("button",{onClick:()=>B("pyexpress"),className:"flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ".concat("pyexpress"===I?"bg-emerald-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["PyExpress (",Es().length,")"]}),(0,d.jsxs)("button",{onClick:()=>B("farmdeals"),className:"flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ".concat("farmdeals"===I?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["Farm Deals (",Ps().length,")"]})]})]}),(0,d.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:0===zs().length?(0,d.jsx)("div",{className:"text-center py-8",children:(0,d.jsxs)("div",{className:"text-gray-500 mb-4",children:[(0,d.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.1 5H17M9 19a2 2 0 1 0 4 0 2 2 0 0 0-4 0zM20 19a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"})}),(0,d.jsx)("p",{className:"text-lg",children:"This cart is empty"}),(0,d.jsx)("p",{className:"text-sm",children:"pyexpress"===I?"Add business products from Home to get started!":"Add farm products from Farm Deals to get started!"})]})}):(0,d.jsx)("div",{className:"space-y-4",children:zs().map((e=>(0,d.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,d.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h3",{className:"font-medium text-gray-900 text-sm",children:e.product.product_name||e.product.crop_type}),(0,d.jsxs)("p",{className:"text-xs text-gray-600",children:["\u20a6",e.product.price_per_unit,"/",e.unit,e.unit_specification&&(0,d.jsxs)("span",{className:"text-gray-500",children:[" (",e.unit_specification,")"]})," \u2022 ",e.product.seller_username]})]}),(0,d.jsx)("button",{onClick:()=>Bs(e.id),className:"text-red-500 hover:text-red-700 text-sm",children:"\u2715"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,d.jsx)("button",{onClick:()=>Is(e.id,e.quantity-1),className:"w-6 h-6 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center text-sm",children:"-"}),(0,d.jsx)("span",{className:"text-sm font-medium w-12 text-center",children:e.quantity}),(0,d.jsx)("button",{onClick:()=>Is(e.id,e.quantity+1),className:"w-6 h-6 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center text-sm",children:"+"}),(0,d.jsxs)("span",{className:"text-xs text-gray-600",children:[e.unit,e.unit_specification&&" (".concat(e.unit_specification,")")]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,d.jsx)("span",{className:"text-xs text-gray-600",children:"Delivery:"}),(0,d.jsx)("button",{onClick:()=>{return t=e.id,r="platform"===e.delivery_method?"offline":"platform",O((e=>e.map((e=>e.id===t?c(c({},e),{},{delivery_method:r}):e)))),void As();var t,r},className:"text-xs px-2 py-1 rounded-full ".concat("platform"===e.delivery_method?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"),children:"platform"===e.delivery_method?"\ud83d\ude9b Platform":"\ud83d\ude9a Offline"})]}),(0,d.jsx)("div",{className:"text-right",children:(0,d.jsxs)("span",{className:"font-semibold text-emerald-600",children:["\u20a6",(e.product.price_per_unit*e.quantity).toLocaleString()]})})]},e.id)))})}),zs().length>0&&(0,d.jsxs)("div",{className:"p-4 border-t border-gray-200 bg-white",children:[(0,d.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsxs)("span",{className:"text-gray-600",children:["Items (",zs().reduce(((e,t)=>e+t.quantity),0),")"]}),(0,d.jsxs)("span",{className:"font-medium",children:["\u20a6",zs().reduce(((e,t)=>e+t.product.price_per_unit*t.quantity),0).toLocaleString()]})]}),(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Est. Delivery"}),(0,d.jsxs)("span",{className:"font-medium",children:["\u20a6",Math.round(350*zs().length).toLocaleString()]})]}),(0,d.jsxs)("div",{className:"flex justify-between font-semibold pt-2 border-t border-gray-200 ".concat("pyexpress"===I?"text-emerald-600":"text-orange-600"),children:[(0,d.jsx)("span",{children:"Total"}),(0,d.jsxs)("span",{children:["\u20a6",(zs().reduce(((e,t)=>e+t.product.price_per_unit*t.quantity),0)+Math.round(350*zs().length)).toLocaleString()]})]})]}),(0,d.jsxs)("button",{onClick:()=>{As(),0!==zs().length?(Wn(I),As(),qn("review"),Hn(!0),A(!1)):alert("Your cart is empty!")},className:"w-full text-white py-3 px-4 rounded-lg font-medium transition-colors ".concat("pyexpress"===I?"bg-emerald-600 hover:bg-emerald-700":"bg-orange-600 hover:bg-orange-700"),children:["Checkout ","pyexpress"===I?"PyExpress":"Farm Deals"," (",zs().length," items)"]}),(0,d.jsx)("button",{onClick:()=>A(!1),className:"w-full mt-2 text-gray-600 hover:text-gray-800 py-2 text-sm",children:"Continue Shopping"})]})]})}),W&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",children:(0,d.jsxs)("div",{className:"fixed right-0 top-0 h-full w-96 bg-white shadow-lg flex flex-col",children:[(0,d.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold",children:"Messages"}),(0,d.jsx)("button",{onClick:()=>Y(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),Z?(0,d.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,d.jsx)("div",{className:"p-3 border-b border-gray-200 bg-gray-50",children:(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("button",{onClick:()=>J(null),className:"text-gray-500 hover:text-gray-700",children:"\u2190"}),(0,d.jsx)("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-semibold",children:Z.avatar}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-gray-900",children:Z.name}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Online"})]})]})}),(0,d.jsx)("div",{className:"flex-1 p-4 overflow-y-auto",children:0===$.filter((e=>e.conversation_id===Z.id)).length?(0,d.jsx)("p",{className:"text-gray-500 text-center",children:"No messages yet. Start the conversation!"}):(0,d.jsx)("div",{className:"space-y-3",children:$.filter((e=>e.conversation_id===Z.id)).map((e=>(0,d.jsx)("div",{className:"flex ".concat(e.sender===b.username?"justify-end":"justify-start"),children:(0,d.jsxs)("div",{className:"max-w-xs px-3 py-2 rounded-lg ".concat(e.sender===b.username?"bg-emerald-500 text-white":"bg-gray-200 text-gray-900"),children:["audio"===e.type?(0,d.jsxs)("div",{children:[(0,d.jsxs)("audio",{controls:!0,className:"w-full",children:[(0,d.jsx)("source",{src:e.content,type:"audio/webm"}),"Your browser does not support the audio element."]}),(0,d.jsx)("p",{className:"text-xs mt-1 opacity-75",children:"Voice message"})]}):(0,d.jsx)("p",{children:e.content||e.text}),(0,d.jsx)("p",{className:"text-xs mt-1 opacity-75",children:new Date(e.timestamp).toLocaleTimeString()})]})},e.id)))})}),(0,d.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[ie&&(0,d.jsxs)("div",{className:"mb-3 p-2 bg-green-50 rounded-lg border border-green-200",children:[(0,d.jsx)("p",{className:"text-sm text-green-700 mb-2",children:"Voice message recorded"}),(0,d.jsxs)("div",{className:"flex space-x-2",children:[(0,d.jsx)("button",{onClick:async()=>{if(ie&&Z){const e=new FileReader;e.onload=()=>{const t=e.result,r={id:Date.now(),type:"audio",content:t,sender:b.username,timestamp:(new Date).toISOString(),conversation_id:Z.id};Q((e=>[...e,r])),oe(null)},e.readAsDataURL(ie)}},className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"Send"}),(0,d.jsx)("button",{onClick:()=>oe(null),className:"px-3 py-1 bg-gray-500 text-white text-sm rounded hover:bg-gray-600",children:"Cancel"})]})]}),(0,d.jsxs)("div",{className:"flex space-x-2",children:[(0,d.jsx)("input",{type:"text",value:K,onChange:e=>G(e.target.value),onKeyPress:e=>"Enter"===e.key&&Us(),placeholder:"Type a message...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"}),(0,d.jsx)("button",{onClick:se?()=>{ce&&se&&(ce.stop(),le(!1),de(null))}:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e),r=[];t.ondataavailable=e=>r.push(e.data),t.onstop=()=>{const t=new Blob(r,{type:"audio/webm"});oe(t),e.getTracks().forEach((e=>e.stop()))},t.start(),de(t),le(!0)}catch(e){console.error("Error starting recording:",e),alert("Unable to access microphone. Please check permissions.")}},className:"px-3 py-2 rounded-lg font-medium ".concat(se?"bg-red-500 text-white hover:bg-red-600":"bg-blue-500 text-white hover:bg-blue-600"),children:se?"\u23f9\ufe0f":"\ud83c\udfa4"}),(0,d.jsx)("button",{onClick:Us,className:"px-3 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 font-medium",children:"Send"})]})]})]}):(0,d.jsxs)("div",{className:"flex-1 p-4",children:[(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search users by username"}),(0,d.jsx)("input",{type:"text",value:te,onChange:e=>{re(e.target.value),(async e=>{if(e.length<2)ae([]);else try{const t=await fetch("".concat("https://api.pyramydhyb.com","/api/users/search?username=").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(t.ok){const e=await t.json();ae(e)}}catch(t){console.error("Error searching users:",t)}})(e.target.value)},placeholder:"Enter username...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),ne.length>0&&(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Found Users"}),(0,d.jsx)("div",{className:"space-y-2",children:ne.map((e=>(0,d.jsx)("div",{onClick:()=>(e=>{const t={id:"conv_".concat(b.username,"_").concat(e.username),participants:[b.username,e.username],name:e.first_name+" "+e.last_name,avatar:e.username.charAt(0).toUpperCase()};J(t),ae([]),re("")})(e),className:"p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-emerald-500 text-white rounded-full flex items-center justify-center font-semibold",children:e.username.charAt(0).toUpperCase()}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("p",{className:"font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,d.jsxs)("p",{className:"text-sm text-gray-500",children:["@",e.username]})]})]})},e.username)))})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Recent Conversations"}),0===X.length?(0,d.jsx)("p",{className:"text-gray-500 text-center",children:"No conversations yet. Search for users to start messaging!"}):(0,d.jsx)("div",{className:"space-y-2",children:X.map((e=>(0,d.jsx)("div",{onClick:()=>J(e),className:"p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-semibold",children:e.avatar}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Click to view messages"})]})]})},e.id)))})]})]})]})}),ue&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-96 overflow-hidden",children:[(0,d.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold",children:"Order Tracking"}),(0,d.jsx)("button",{onClick:()=>me(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),(0,d.jsx)("div",{className:"p-4 overflow-y-auto max-h-80",children:0===pe.length?(0,d.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No orders found"}):(0,d.jsx)("div",{className:"space-y-4",children:pe.map((e=>(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("h3",{className:"font-semibold text-gray-900",children:["Order #",e.id.slice(-8)]}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:new Date(e.created_at).toLocaleDateString()})]}),(0,d.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat("delivered"===e.status?"bg-green-100 text-green-800":"in_transit"===e.status?"bg-blue-100 text-blue-800":"confirmed"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.status.replace("_"," ").toUpperCase()})]}),(0,d.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Total:"})," \u20a6",e.total_amount.toLocaleString()]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Items:"})," ",e.items.length," item(s)"]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Delivery:"})," ",e.delivery_address]})]}),(0,d.jsx)("div",{className:"space-y-1",children:e.items.map(((e,t)=>(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsxs)("span",{children:[e.title," \xd7 ",e.quantity]}),(0,d.jsxs)("span",{children:["\u20a6",e.total.toLocaleString()]})]},t)))})]},e.id)))})})]})}),be&&b&&"agent"===b.role&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[(0,d.jsx)("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-pink-50",children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"\ud83d\udccd Add Drop-off Location"}),(0,d.jsx)("p",{className:"text-gray-600 mt-1",children:"Create a convenient pickup location for buyers"})]}),(0,d.jsx)("button",{onClick:()=>ve(!1),className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:"\xd7"})]})}),(0,d.jsx)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:(0,d.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=new FormData(e.target),r={name:t.get("name"),address:t.get("address"),city:t.get("city"),state:t.get("state"),country:t.get("country")||"Nigeria",contact_person:t.get("contact_person"),contact_phone:t.get("contact_phone"),operating_hours:t.get("operating_hours"),description:t.get("description")};try{const t=localStorage.getItem("token"),n=await fetch("".concat("https://api.pyramydhyb.com","/api/dropoff-locations"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(r)});if(n.ok){const t=await n.json();alert('Drop-off location "'.concat(t.location.name,'" created successfully!')),ye((e=>[...e,{id:t.location.id,name:t.location.name,address:t.location.address,city:t.location.city,state:t.location.state}])),ve(!1),e.target.reset()}else{const e=await n.json();alert("Error: ".concat(e.detail))}}catch(n){console.error("Error creating drop-off location:",n),alert("Error creating drop-off location. Please try again.")}},className:"space-y-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location Name *"}),(0,d.jsx)("input",{type:"text",name:"name",required:!0,placeholder:"e.g., Mile 12 Market, Kano Central Market",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),(0,d.jsxs)("select",{name:"state",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[(0,d.jsx)("option",{value:"",children:"Select State"}),(0,d.jsx)("option",{value:"Lagos",children:"Lagos"}),(0,d.jsx)("option",{value:"Kano",children:"Kano"}),(0,d.jsx)("option",{value:"Anambra",children:"Anambra"}),(0,d.jsx)("option",{value:"Rivers",children:"Rivers"}),(0,d.jsx)("option",{value:"Kaduna",children:"Kaduna"}),(0,d.jsx)("option",{value:"Oyo",children:"Oyo"}),(0,d.jsx)("option",{value:"Delta",children:"Delta"}),(0,d.jsx)("option",{value:"Imo",children:"Imo"}),(0,d.jsx)("option",{value:"Ogun",children:"Ogun"}),(0,d.jsx)("option",{value:"FCT",children:"FCT Abuja"}),(0,d.jsx)("option",{value:"Cross River",children:"Cross River"}),(0,d.jsx)("option",{value:"Plateau",children:"Plateau"}),(0,d.jsx)("option",{value:"Abia",children:"Abia"}),(0,d.jsx)("option",{value:"Enugu",children:"Enugu"}),(0,d.jsx)("option",{value:"Benue",children:"Benue"}),(0,d.jsx)("option",{value:"Edo",children:"Edo"}),(0,d.jsx)("option",{value:"Kwara",children:"Kwara"}),(0,d.jsx)("option",{value:"Akwa Ibom",children:"Akwa Ibom"}),(0,d.jsx)("option",{value:"Osun",children:"Osun"}),(0,d.jsx)("option",{value:"Kogi",children:"Kogi"}),(0,d.jsx)("option",{value:"Zamfara",children:"Zamfara"}),(0,d.jsx)("option",{value:"Sokoto",children:"Sokoto"}),(0,d.jsx)("option",{value:"Kebbi",children:"Kebbi"}),(0,d.jsx)("option",{value:"Niger",children:"Niger"}),(0,d.jsx)("option",{value:"Jigawa",children:"Jigawa"}),(0,d.jsx)("option",{value:"Yobe",children:"Yobe"}),(0,d.jsx)("option",{value:"Borno",children:"Borno"}),(0,d.jsx)("option",{value:"Gombe",children:"Gombe"}),(0,d.jsx)("option",{value:"Bauchi",children:"Bauchi"}),(0,d.jsx)("option",{value:"Adamawa",children:"Adamawa"}),(0,d.jsx)("option",{value:"Taraba",children:"Taraba"}),(0,d.jsx)("option",{value:"Nasarawa",children:"Nasarawa"}),(0,d.jsx)("option",{value:"Ebonyi",children:"Ebonyi"}),(0,d.jsx)("option",{value:"Ekiti",children:"Ekiti"}),(0,d.jsx)("option",{value:"Ondo",children:"Ondo"}),(0,d.jsx)("option",{value:"Bayelsa",children:"Bayelsa"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),(0,d.jsx)("input",{type:"text",name:"city",required:!0,placeholder:"e.g., Lagos, Kano, Onitsha",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),(0,d.jsx)("input",{type:"text",name:"country",defaultValue:"Nigeria",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-gray-50",readOnly:!0})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Address *"}),(0,d.jsx)("textarea",{name:"address",required:!0,rows:"3",placeholder:"e.g., Shop 45, Mile 12 International Market, Mile 12, Lagos State",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),(0,d.jsx)("input",{type:"text",name:"contact_person",placeholder:"e.g., Mr. John Doe",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Phone"}),(0,d.jsx)("input",{type:"tel",name:"contact_phone",placeholder:"e.g., +234 801 234 5678",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Operating Hours"}),(0,d.jsx)("input",{type:"text",name:"operating_hours",placeholder:"e.g., 6:00 AM - 6:00 PM (Mon-Sat)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Notes"}),(0,d.jsx)("textarea",{name:"description",rows:"2",placeholder:"e.g., Near Gate 3, look for the blue sign",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,d.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,d.jsx)("button",{type:"button",onClick:()=>ve(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),(0,d.jsx)("button",{type:"submit",className:"flex-1 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium",children:"\ud83d\udccd Add Location"})]})]})})]})}),wr&&kr&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[(0,d.jsx)("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-emerald-50 to-blue-50",children:(0,d.jsxs)("div",{className:"flex justify-between items-start",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:kr.product_name||kr.crop_type}),(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsxs)("div",{className:"text-3xl font-bold text-emerald-600",children:["\u20a6",kr.price_per_unit,"/",kr.unit||kr.unit_of_measure||"kg",kr.unit_specification&&(0,d.jsxs)("span",{className:"text-lg font-medium text-gray-600 ml-2",children:["(",kr.unit_specification,")"]})]}),"preorder"===kr.type&&(0,d.jsx)("div",{className:"bg-orange-500 text-white px-4 py-2 rounded-full text-sm font-bold",children:"\u26a1 PRE-ORDER"})]})]}),(0,d.jsx)("button",{onClick:Ds,className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:"\xd7"})]})}),(0,d.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,d.jsxs)("div",{children:[kr.images&&kr.images.length>0?(0,d.jsx)("img",{src:kr.images[0],alt:kr.product_name||kr.crop_type,className:"w-full h-64 object-cover rounded-lg shadow-lg mb-4"}):(0,d.jsx)("div",{className:"w-full h-64 bg-gradient-to-r from-gray-200 to-gray-300 flex items-center justify-center rounded-lg shadow-lg mb-4",children:(0,d.jsx)("span",{className:"text-gray-500 text-lg",children:"\ud83d\udce6 Product Image"})}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Product Description"}),(0,d.jsx)("p",{className:"text-gray-600 leading-relaxed",children:kr.description||"High quality organic produce from certified farms. Fresh, nutritious, and carefully handled to ensure maximum freshness and quality."})]}),(0,d.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Seller Information"}),kr.farm_name&&(0,d.jsxs)("div",{className:"mb-2",children:[(0,d.jsx)("span",{className:"text-sm text-gray-600",children:"Farm:"}),(0,d.jsx)("div",{className:"font-medium text-gray-800",children:kr.farm_name})]}),kr.agent_username&&(0,d.jsxs)("div",{className:"mb-2",children:[(0,d.jsx)("span",{className:"text-sm text-gray-600",children:"Agent:"}),(0,d.jsxs)("div",{className:"font-medium text-blue-600",children:["@",kr.agent_username]}),(0,d.jsxs)("div",{className:"flex items-center mt-1",children:[(0,d.jsx)("span",{className:"text-yellow-400",children:"\u2605\u2605\u2605\u2605\u2606"}),(0,d.jsx)("span",{className:"text-sm text-gray-600 ml-2",children:"4.2/5 (Agent Rating)"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-sm text-gray-600",children:"Location:"}),(0,d.jsxs)("div",{className:"font-medium text-gray-800",children:["\ud83d\udccd ",kr.location]})]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Stock Information"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-sm text-gray-600",children:"Available:"}),(0,d.jsx)("div",{className:"font-semibold text-emerald-600",children:"preorder"===kr.type?"".concat(kr.available_stock||kr.total_stock||100," ").concat(kr.unit||"kg"):"".concat(kr.quantity||"100"," ").concat(kr.unit||"kg")})]}),"preorder"===kr.type&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-sm text-gray-600",children:"Payment Required:"}),(0,d.jsx)("div",{className:"font-semibold text-blue-600",children:kr.partial_payment_percentage?"".concat(Math.round(100*kr.partial_payment_percentage),"%"):"100%"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-sm text-gray-600",children:"Delivery:"}),(0,d.jsx)("div",{className:"font-semibold text-gray-700",children:new Date(kr.delivery_date).toLocaleDateString()})]})]})]})]}),(0,d.jsxs)("div",{className:"p-4 bg-emerald-50 rounded-lg",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Purchase Options"}),(0,d.jsxs)("div",{className:"mb-4 p-3 bg-emerald-100 rounded-lg border border-emerald-300",children:[(0,d.jsxs)("div",{className:"text-sm font-medium text-emerald-700",children:["Unit: ",kr.unit||kr.unit_of_measure||"kg",kr.unit_specification&&(0,d.jsxs)("span",{className:"ml-2 text-emerald-600",children:["(",kr.unit_specification,")"]})]}),(0,d.jsxs)("div",{className:"text-xs text-emerald-600 mt-1",children:["Select how many ",kr.unit||kr.unit_of_measure||"units"," you want to buy"]})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Quantity (Number of ",kr.unit||kr.unit_of_measure||"units",")"]}),(0,d.jsx)("input",{type:"number",min:"1",max:kr.quantity||kr.available_stock||kr.total_stock||100,defaultValue:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",id:"detail-quantity",placeholder:"1, 2, 3..."}),(0,d.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Max available: ",kr.quantity||kr.available_stock||kr.total_stock||100]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Options"}),(()=>{const e=kr.id||kr._id,t=Pe[e];if(!t)return(0,d.jsx)("div",{className:"p-3 bg-gray-100 rounded-lg",children:(0,d.jsx)("div",{className:"text-gray-600",children:"Loading delivery options..."})});const r=t.supports_dropoff_delivery&&t.supports_shipping_delivery,n=t.supports_dropoff_delivery,a=t.supports_shipping_delivery;return(0,d.jsxs)("div",{className:"space-y-3",children:[r&&(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,d.jsxs)("button",{type:"button",onClick:()=>De("dropoff"),className:"p-3 rounded-lg border-2 transition-colors ".concat("dropoff"===Le?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 bg-gray-50 text-gray-700 hover:bg-gray-100"),children:[(0,d.jsx)("div",{className:"text-sm font-medium",children:"\ud83d\udccd Drop-off Location"}),(0,d.jsx)("div",{className:"text-xs mt-1",children:t.delivery_costs.dropoff.is_free?"Free":"\u20a6".concat(t.delivery_costs.dropoff.cost)})]}),(0,d.jsxs)("button",{type:"button",onClick:()=>De("shipping"),className:"p-3 rounded-lg border-2 transition-colors ".concat("shipping"===Le?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 bg-gray-50 text-gray-700 hover:bg-gray-100"),children:[(0,d.jsx)("div",{className:"text-sm font-medium",children:"\ud83d\ude9a Home Delivery"}),(0,d.jsx)("div",{className:"text-xs mt-1",children:t.delivery_costs.shipping.is_free?"Free":"\u20a6".concat(t.delivery_costs.shipping.cost)})]})]}),("dropoff"===Le||n&&!r)&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",id:"detail-dropoff",children:[(0,d.jsx)("option",{value:"",children:"Select drop-off location"}),ge.map((e=>(0,d.jsxs)("option",{value:e.id,children:[e.name," - ",e.city,", ",e.state]},e.id)))]}),(0,d.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["\ud83d\udccd Pick up your order at a convenient market or location",t.delivery_costs.dropoff.cost>0&&(0,d.jsxs)("span",{className:"text-emerald-600 font-medium ml-2",children:["(\u20a6",t.delivery_costs.dropoff.cost," fee)"]})]})]}),("shipping"===Le||a&&!r)&&(0,d.jsxs)("div",{children:[(0,d.jsx)("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",id:"detail-shipping-address",placeholder:"Enter your full delivery address...",rows:"3"}),(0,d.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["\ud83d\ude9a We'll deliver directly to your address",t.delivery_costs.shipping.cost>0&&(0,d.jsxs)("span",{className:"text-blue-600 font-medium ml-2",children:["(\u20a6",t.delivery_costs.shipping.cost," fee)"]})]})]}),t.delivery_notes&&(0,d.jsxs)("div",{className:"p-2 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,d.jsx)("div",{className:"text-xs font-medium text-yellow-800",children:"Delivery Notes:"}),(0,d.jsx)("div",{className:"text-xs text-yellow-700 mt-1",children:t.delivery_notes})]})]})})()]})]}),(0,d.jsx)("button",{onClick:()=>{var e;const t=parseFloat(null===(e=document.getElementById("detail-quantity"))||void 0===e?void 0:e.value)||1,r=kr.unit||kr.unit_of_measure||"kg",n=kr.unit_specification||"standard",a=kr.id||kr._id,s=Pe[a];if(!s)return void alert("Unable to determine delivery options. Please try again.");let l=Le;if(!s.supports_dropoff_delivery&&!s.supports_shipping_delivery)return void alert("This product has no available delivery methods. Please contact the supplier.");"dropoff"!==l||s.supports_dropoff_delivery?"shipping"!==l||s.supports_shipping_delivery||(l="dropoff"):l="shipping";let i=null;if("dropoff"===l){var o;const e=null===(o=document.getElementById("detail-dropoff"))||void 0===o?void 0:o.value;if(!e)return void alert("Please select a drop-off location");const t=ge.find((t=>t.id.toString()===e));if(!t)return void alert("Invalid drop-off location selected");i={type:"dropoff",dropoffLocation:t,cost:s.delivery_costs.dropoff.cost}}else if("shipping"===l){var d,u;const e=null===(d=document.getElementById("detail-shipping-address"))||void 0===d||null===(u=d.value)||void 0===u?void 0:u.trim();if(!e)return void alert("Please enter your delivery address");i={type:"shipping",shippingAddress:e,cost:s.delivery_costs.shipping.cost}}const m=c(c({},kr),{},{cartQuantity:t,cartUnit:r,cartSpecification:n,deliveryMethod:l,deliveryDetails:i});"dropoff"===l?Os(m,t,r,n,"dropoff",i.dropoffLocation):Os(m,t,r,n,"platform",null,i.shippingAddress),Ds()},className:"w-full py-3 px-6 rounded-lg font-bold text-lg transition-colors ".concat("preorder"===kr.type?"bg-orange-600 hover:bg-orange-700 text-white":"bg-emerald-600 hover:bg-emerald-700 text-white"),children:"preorder"===kr.type?"\ud83d\uded2 Add Pre-order to Cart":"\ud83d\uded2 Add to Cart"}),b&&(0,d.jsx)("button",{onClick:()=>{!function(e,t){Oe({rating_type:e,rated_entity_id:t,rated_entity_username:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,order_id:arguments.length>3&&void 0!==arguments[3]?arguments[3]:null}),Fe(!0)}("product_rating",kr.id||kr._id,null,null)},className:"w-full mt-3 py-2 px-6 border-2 border-yellow-400 text-yellow-600 rounded-lg font-medium text-sm hover:bg-yellow-50 transition-colors",children:"\u2b50 Rate this Product"})]})]})]})]}),(0,d.jsxs)("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[(0,d.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"\ud83d\udd25 More Pre-Orders Available"}),(0,d.jsx)("div",{className:"flex space-x-4 overflow-x-auto pb-4",children:L.filter((e=>"preorder"===e.type&&(e.id||e._id)!==(kr.id||kr._id))).slice(0,3).map(((e,t)=>(0,d.jsxs)("div",{className:"flex-shrink-0 w-48 bg-orange-50 rounded-lg p-3 border border-orange-200 cursor-pointer",onClick:()=>Cr(e),children:[(0,d.jsx)("h4",{className:"font-bold text-sm text-gray-900 mb-1",children:e.product_name||e.crop_type}),(0,d.jsxs)("div",{className:"text-orange-600 font-bold",children:["\u20a6",e.price_per_unit,"/",e.unit||"kg"]})]},t)))})]})]})]})}),Te&&Me&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold",children:"Rate & Review"}),(0,d.jsx)("button",{onClick:ts,className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),(0,d.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=new FormData(e.target),r=parseInt(t.get("rating")),n=t.get("comment");try{await(async e=>{try{const t=localStorage.getItem("token"),r=await fetch("".concat("https://api.pyramydhyb.com","/api/ratings"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)});if(r.ok){const t=await r.json();return"user_rating"===e.rating_type?await Xa(e.rated_entity_id):"product_rating"===e.rating_type&&await es(e.rated_entity_id),t}{const e=await r.json();throw new Error(e.detail||"Failed to submit rating")}}catch(t){throw console.error("Error submitting rating:",t),t}})(c(c({},Me),{},{rating_value:r,comment:n||null})),alert("Rating submitted successfully!"),ts(),Ga()}catch(a){alert("Failed to submit rating: "+a.message)}},children:[(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Rating"}),(0,d.jsx)("div",{className:"flex space-x-1",children:[1,2,3,4,5].map((e=>(0,d.jsxs)("label",{className:"cursor-pointer",children:[(0,d.jsx)("input",{type:"radio",name:"rating",value:e,required:!0,className:"hidden"}),(0,d.jsx)("span",{className:"text-2xl text-gray-300 hover:text-yellow-400 transition-colors",children:"\u2b50"})]},e)))})]}),(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Review (Optional)"}),(0,d.jsx)("textarea",{name:"comment",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Share your experience..."})]}),(0,d.jsxs)("div",{className:"flex space-x-3",children:[(0,d.jsx)("button",{type:"button",onClick:ts,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,d.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700",children:"Submit Rating"})]})]})]})}),He&&b&&"logistics"===b.role&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[(0,d.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("h2",{className:"text-2xl font-semibold",children:"Driver Management"}),(0,d.jsx)("button",{onClick:()=>Ue(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsxs)("div",{className:"mb-8 p-6 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Purchase Driver Slots"}),(0,d.jsx)("p",{className:"text-gray-600 mb-4",children:"Each driver slot costs \u20a6500/month with a 14-day free trial. Purchase slots to add drivers to your fleet."}),(0,d.jsxs)("div",{className:"flex space-x-4",children:[(0,d.jsx)("input",{type:"number",min:"1",max:"10",placeholder:"Number of slots",className:"px-3 py-2 border border-gray-300 rounded-lg",id:"slots-count"}),(0,d.jsx)("button",{onClick:async()=>{const e=parseInt(document.getElementById("slots-count").value);if(e>=1&&e<=10)try{const t=await(async e=>{try{const t=localStorage.getItem("token"),r=await fetch("".concat("https://api.pyramydhyb.com","/api/driver-slots/purchase"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({slots_count:e})});if(r.ok){const e=await r.json();return await rs(),e}{const e=await r.json();throw new Error(e.detail||"Failed to purchase driver slots")}}catch(t){throw console.error("Error purchasing driver slots:",t),t}})(e);alert("Successfully purchased ".concat(t.slots_created," driver slots!\nTotal cost: ").concat(t.total_monthly_cost,"/month\n14-day free trial included"))}catch(t){alert("Error: "+t.message)}else alert("Please enter a valid number of slots (1-10)")},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Purchase Slots"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold",children:"Your Driver Slots"}),(0,d.jsx)("button",{onClick:rs,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Refresh"})]}),0===qe.length?(0,d.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,d.jsx)("p",{children:"No driver slots found. Purchase slots to get started!"})}):(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:qe.map((e=>(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,d.jsxs)("h4",{className:"font-medium",children:["Slot #",e.slot_number]}),(0,d.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat("trial"===e.subscription_status?"bg-green-100 text-green-800":"active"===e.subscription_status?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"),children:e.subscription_status})]}),e.driver_id?(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"text-sm",children:[(0,d.jsx)("strong",{children:"Driver:"})," ",e.driver_name]}),(0,d.jsxs)("div",{className:"text-sm",children:[(0,d.jsx)("strong",{children:"Vehicle:"})," ",e.vehicle_make_model," (",e.plate_number,")"]}),(0,d.jsxs)("div",{className:"text-sm",children:[(0,d.jsx)("strong",{children:"Rating:"})," \u2b50 ",e.average_rating,"/5.0"]}),(0,d.jsxs)("div",{className:"text-sm",children:[(0,d.jsx)("strong",{children:"Trips:"})," ",e.total_trips]})]}):(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("p",{className:"text-gray-500 text-sm",children:"No driver assigned"}),(0,d.jsx)("button",{onClick:()=>{const t=prompt("Driver Name:"),r=prompt("Plate Number:"),n=prompt("Vehicle Make/Model:"),a=prompt("Vehicle Color:"),s=prompt("Date of Birth (YYYY-MM-DD):"),l=prompt("Address:");t&&r&&n&&a&&s&&l&&(async(e,t)=>{try{const r=localStorage.getItem("token"),n=await fetch("".concat("https://api.pyramydhyb.com","/api/driver-slots/").concat(e,"/assign-driver"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(t)});if(n.ok){const e=await n.json();return await rs(),e}{const e=await n.json();throw new Error(e.detail||"Failed to assign driver to slot")}}catch(r){throw console.error("Error assigning driver:",r),r}})(e.id,{driver_name:t,vehicle_type:"motorcycle",plate_number:r,vehicle_make_model:n,vehicle_color:a,date_of_birth:s,address:l}).then((e=>{alert("Driver assigned successfully!\nRegistration link: ".concat(e.registration_link))})).catch((e=>{alert("Error: "+e.message)}))},className:"w-full px-3 py-2 bg-emerald-600 text-white rounded text-sm hover:bg-emerald-700",children:"Assign Driver"})]})]},e.id)))})]})]})]})}),$e&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,d.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("h2",{className:"text-2xl font-semibold",children:"\ud83d\ude97 Find Drivers"}),(0,d.jsx)("button",{onClick:()=>Qe(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,d.jsx)("input",{type:"text",placeholder:"Location...",value:Ke.location,onChange:e=>Ge((t=>c(c({},t),{},{location:e.target.value}))),className:"px-3 py-2 border border-gray-300 rounded-lg"}),(0,d.jsxs)("select",{value:Ke.vehicle_type,onChange:e=>Ge((t=>c(c({},t),{},{vehicle_type:e.target.value}))),className:"px-3 py-2 border border-gray-300 rounded-lg",children:[(0,d.jsx)("option",{value:"",children:"All Vehicle Types"}),(0,d.jsx)("option",{value:"motorcycle",children:"Motorcycle"}),(0,d.jsx)("option",{value:"car",children:"Car"}),(0,d.jsx)("option",{value:"van",children:"Van"}),(0,d.jsx)("option",{value:"truck",children:"Truck"})]}),(0,d.jsxs)("select",{value:Ke.min_rating||"",onChange:e=>Ge((t=>c(c({},t),{},{min_rating:e.target.value?parseFloat(e.target.value):null}))),className:"px-3 py-2 border border-gray-300 rounded-lg",children:[(0,d.jsx)("option",{value:"",children:"Any Rating"}),(0,d.jsx)("option",{value:"4.5",children:"4.5+ Stars"}),(0,d.jsx)("option",{value:"4.0",children:"4.0+ Stars"}),(0,d.jsx)("option",{value:"3.5",children:"3.5+ Stars"})]})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold",children:"Available Drivers"}),(0,d.jsx)("button",{onClick:()=>ns(Ke),className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700",children:"Search Drivers"})]}),0===We.length?(0,d.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,d.jsx)("p",{children:'Click "Search Drivers" to find available drivers'})}):(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:We.map((e=>{var t,r,n,a;return(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-emerald-600 font-semibold",children:(null===(t=e.name)||void 0===t?void 0:t.charAt(0))||"D"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-semibold",children:e.name}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("span",{className:"text-yellow-400",children:"\u2b50"}),(0,d.jsxs)("span",{className:"ml-1 text-sm text-gray-600",children:[e.average_rating.toFixed(1)," (",e.total_trips," trips)"]})]})]})]}),(0,d.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,d.jsxs)("div",{className:"text-sm",children:[(0,d.jsx)("strong",{children:"Vehicle:"})," ",(null===(r=e.vehicle_info)||void 0===r?void 0:r.make_model)||"N/A"]}),(0,d.jsxs)("div",{className:"text-sm",children:[(0,d.jsx)("strong",{children:"Type:"})," ",(null===(n=e.vehicle_info)||void 0===n?void 0:n.type)||"N/A"]}),(0,d.jsxs)("div",{className:"text-sm",children:[(0,d.jsx)("strong",{children:"Plate:"})," ",(null===(a=e.vehicle_info)||void 0===a?void 0:a.plate_number)||"N/A"]}),e.logistics_business&&(0,d.jsxs)("div",{className:"text-sm",children:[(0,d.jsx)("strong",{children:"Company:"})," @",e.logistics_business]})]}),(0,d.jsxs)("div",{className:"flex space-x-2",children:[(0,d.jsx)("button",{onClick:()=>{alert("Driver: ".concat(e.name,"\nContact through platform messaging"))},className:"flex-1 px-3 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"View Profile"}),(0,d.jsx)("button",{onClick:()=>{alert("Request sent to ".concat(e.name,"!"))},className:"flex-1 px-3 py-2 bg-emerald-600 text-white rounded text-sm hover:bg-emerald-700",children:"Request Driver"})]})]},e.id)}))})]})]})}),Ze&&b&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,d.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("h2",{className:"text-2xl font-semibold",children:"\ud83d\udcb0 My Wallet"}),(0,d.jsx)("button",{onClick:()=>Je(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsxs)("div",{className:"mb-8 p-6 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Wallet Balance"}),(0,d.jsxs)("div",{className:"text-3xl font-bold mb-4",children:["\u20a6",Xe?Xe.balance.toLocaleString():"0"]}),(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-purple-200",children:"Total Funded"}),(0,d.jsxs)("div",{className:"font-medium",children:["\u20a6",Xe?Xe.total_funded.toLocaleString():"0"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-purple-200",children:"Total Spent"}),(0,d.jsxs)("div",{className:"font-medium",children:["\u20a6",Xe?Xe.total_spent.toLocaleString():"0"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-purple-200",children:"Withdrawn"}),(0,d.jsxs)("div",{className:"font-medium",children:["\u20a6",Xe?Xe.total_withdrawn.toLocaleString():"0"]})]})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[(0,d.jsxs)("button",{onClick:()=>lt(!0),className:"p-4 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:[(0,d.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udcb3"}),(0,d.jsx)("div",{className:"font-medium",children:"Fund Wallet"})]}),(0,d.jsxs)("button",{onClick:()=>ot(!0),className:"p-4 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:[(0,d.jsx)("div",{className:"text-2xl mb-2",children:"\ud83c\udfe6"}),(0,d.jsx)("div",{className:"font-medium",children:"Withdraw"})]}),(0,d.jsxs)("button",{onClick:()=>ht(!0),className:"p-4 bg-pink-100 text-pink-700 rounded-lg hover:bg-pink-200 transition-colors",children:[(0,d.jsx)("div",{className:"text-2xl mb-2",children:"\ud83c\udf81"}),(0,d.jsx)("div",{className:"font-medium",children:"Buy Gift Card"})]}),(0,d.jsxs)("button",{onClick:()=>dt(!0),className:"p-4 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[(0,d.jsx)("div",{className:"text-2xl mb-2",children:"\ud83c\udfe7"}),(0,d.jsx)("div",{className:"font-medium",children:"Add Bank"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Recent Transactions"}),0===tt.length?(0,d.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,d.jsx)("p",{children:"No transactions yet. Start by funding your wallet!"})}):(0,d.jsx)("div",{className:"space-y-3",children:tt.slice(0,10).map((e=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"text-2xl ".concat(e.transaction_type.includes("funding")||e.transaction_type.includes("redemption")?"text-green-600":"text-red-600"),children:e.transaction_type.includes("funding")?"\u2b07\ufe0f":e.transaction_type.includes("withdrawal")?"\u2b06\ufe0f":e.transaction_type.includes("gift_card")?"\ud83c\udf81":"\ud83d\udcb0"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium",children:e.description}),(0,d.jsxs)("div",{className:"text-sm text-gray-500",children:[new Date(e.created_at).toLocaleDateString()," \u2022 ",e.reference]})]})]}),(0,d.jsxs)("div",{className:"text-right ".concat(e.transaction_type.includes("funding")||e.transaction_type.includes("redemption")?"text-green-600":"text-red-600"),children:[(0,d.jsxs)("div",{className:"font-semibold",children:[e.transaction_type.includes("funding")||e.transaction_type.includes("redemption")?"+":"-","\u20a6",e.amount.toLocaleString()]}),(0,d.jsxs)("div",{className:"text-xs text-gray-500",children:["Status: ",e.status]})]})]},e.id)))})]})]})]})}),st&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-60 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsx)("h3",{className:"text-xl font-semibold",children:"\ud83d\udcb3 Fund Wallet"}),(0,d.jsx)("button",{onClick:()=>lt(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),(0,d.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=new FormData(e.target),r=t.get("amount"),n=t.get("funding_method"),a=t.get("description");try{await(async(e,t,r)=>{try{const n=localStorage.getItem("token"),a=await fetch("".concat("https://api.pyramydhyb.com","/api/wallet/fund"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({transaction_type:"wallet_funding",amount:parseFloat(e),description:r,funding_method:t})});if(a.ok){const e=await a.json();return await as(),await ss(),e}{const e=await a.json();throw new Error(e.detail||"Failed to fund wallet")}}catch(n){throw console.error("Error funding wallet:",n),n}})(r,n,a),alert("Successfully funded wallet with \u20a6".concat(parseFloat(r).toLocaleString())),lt(!1)}catch(s){alert("Failed to fund wallet: "+s.message)}},children:[(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount (\u20a6)"}),(0,d.jsx)("input",{type:"number",name:"amount",min:"100",max:"500000",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Enter amount to fund"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Funding Method"}),(0,d.jsxs)("select",{name:"funding_method",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[(0,d.jsx)("option",{value:"",children:"Select funding method"}),(0,d.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"}),(0,d.jsx)("option",{value:"debit_card",children:"Debit Card"}),(0,d.jsx)("option",{value:"ussd",children:"USSD"}),(0,d.jsx)("option",{value:"bank_deposit",children:"Bank Deposit"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),(0,d.jsx)("input",{type:"text",name:"description",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Wallet funding"})]})]}),(0,d.jsxs)("div",{className:"flex space-x-3 mt-6",children:[(0,d.jsx)("button",{type:"button",onClick:()=>lt(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,d.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Fund Wallet"})]})]})]})}),ut&&b&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,d.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("h2",{className:"text-2xl font-semibold",children:"\ud83c\udf81 Gift Cards"}),(0,d.jsx)("button",{onClick:()=>mt(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[(0,d.jsxs)("button",{onClick:()=>ht(!0),className:"p-6 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-lg hover:from-pink-600 hover:to-purple-700 transition-colors",children:[(0,d.jsx)("div",{className:"text-3xl mb-2",children:"\ud83c\udf81"}),(0,d.jsx)("div",{className:"text-lg font-semibold",children:"Create Gift Card"}),(0,d.jsx)("div",{className:"text-sm text-pink-100",children:"Purchase gift cards for others"})]}),(0,d.jsxs)("button",{onClick:()=>yt(!0),className:"p-6 bg-gradient-to-r from-green-500 to-blue-600 text-white rounded-lg hover:from-green-600 hover:to-blue-700 transition-colors",children:[(0,d.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\udcb0"}),(0,d.jsx)("div",{className:"text-lg font-semibold",children:"Redeem Gift Card"}),(0,d.jsx)("div",{className:"text-sm text-green-100",children:"Add gift card value to wallet"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold",children:"My Gift Cards"}),(0,d.jsx)("button",{onClick:is,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Refresh"})]}),0===pt.length?(0,d.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,d.jsx)("p",{children:"No gift cards purchased yet. Create your first gift card!"})}):(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:pt.map((e=>(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gradient-to-br from-pink-50 to-purple-50",children:[(0,d.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,d.jsx)("div",{className:"text-2xl",children:"\ud83c\udf81"}),(0,d.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat("active"===e.status?"bg-green-100 text-green-800":"redeemed"===e.status?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"),children:e.status})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("div",{className:"font-mono text-sm font-semibold text-purple-600",children:e.card_code}),(0,d.jsxs)("div",{className:"text-lg font-bold",children:["\u20a6",e.amount.toLocaleString()]}),(0,d.jsxs)("div",{className:"text-sm text-gray-600",children:["Balance: \u20a6",e.balance.toLocaleString()]}),e.recipient_name&&(0,d.jsxs)("div",{className:"text-sm text-gray-600",children:["For: ",e.recipient_name]}),(0,d.jsxs)("div",{className:"text-xs text-gray-500",children:["Expires: ",new Date(e.expiry_date).toLocaleDateString()]})]})]},e.id)))})]})]})]})}),xt&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-60 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsx)("h3",{className:"text-xl font-semibold",children:"\ud83c\udf81 Create Gift Card"}),(0,d.jsx)("button",{onClick:()=>ht(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),(0,d.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=new FormData(e.target),r=t.get("amount"),n=t.get("recipient_email"),a=t.get("recipient_name"),s=t.get("message");try{const e=await(async(e,t,r,n)=>{try{const a=localStorage.getItem("token"),s=await fetch("".concat("https://api.pyramydhyb.com","/api/wallet/gift-cards"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({amount:parseFloat(e),recipient_email:t||null,recipient_name:r||null,message:n||null})});if(s.ok){const e=await s.json();return await as(),await is(),e}{const e=await s.json();throw new Error(e.detail||"Failed to create gift card")}}catch(a){throw console.error("Error creating gift card:",a),a}})(r,n,a,s);alert("Gift card created successfully!\nCard Code: ".concat(e.gift_card.card_code,"\nAmount: \u20a6").concat(parseFloat(r).toLocaleString())),ht(!1)}catch(l){alert("Failed to create gift card: "+l.message)}},children:[(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gift Card Amount (\u20a6)"}),(0,d.jsx)("input",{type:"number",name:"amount",min:"100",max:"100000",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500",placeholder:"Enter gift card value"}),(0,d.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Min: \u20a6100, Max: \u20a6100,000"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipient Name (Optional)"}),(0,d.jsx)("input",{type:"text",name:"recipient_name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500",placeholder:"Who is this gift card for?"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipient Email (Optional)"}),(0,d.jsx)("input",{type:"email",name:"recipient_email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500",placeholder:"Recipient's email address"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gift Message (Optional)"}),(0,d.jsx)("textarea",{name:"message",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500",placeholder:"Add a personal message..."})]})]}),(0,d.jsxs)("div",{className:"flex space-x-3 mt-6",children:[(0,d.jsx)("button",{type:"button",onClick:()=>ht(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,d.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700",children:"Create Gift Card"})]})]})]})}),gt&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-60 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsx)("h3",{className:"text-xl font-semibold",children:"\ud83d\udcb0 Redeem Gift Card"}),(0,d.jsx)("button",{onClick:()=>{yt(!1),vt(null)},className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),(0,d.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=new FormData(e.target),r=t.get("card_code"),n=t.get("amount");try{const e=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const r=localStorage.getItem("token"),n=await fetch("".concat("https://api.pyramydhyb.com","/api/wallet/gift-cards/redeem"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({card_code:e.toUpperCase(),amount:t?parseFloat(t):null})});if(n.ok){const e=await n.json();return await as(),e}{const e=await n.json();throw new Error(e.detail||"Failed to redeem gift card")}}catch(r){throw console.error("Error redeeming gift card:",r),r}}(r,n);alert("Gift card redeemed successfully!\nRedeemed: \u20a6".concat(e.redeemed_amount.toLocaleString(),"\nNew wallet balance: \u20a6").concat(e.new_wallet_balance.toLocaleString())),yt(!1),vt(null)}catch(a){alert("Failed to redeem gift card: "+a.message)}},children:[(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gift Card Code"}),(0,d.jsxs)("div",{className:"flex space-x-2",children:[(0,d.jsx)("input",{type:"text",name:"card_code",required:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 uppercase",placeholder:"GIFT-XXXXXXXX",onChange:async e=>{const t=e.target.value.trim();t.length>=8&&await os(t)}}),(0,d.jsx)("button",{type:"button",onClick:async()=>{const e=document.querySelector('input[name="card_code"]').value;e&&await os(e)},className:"px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Check"})]})]}),bt&&(0,d.jsx)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("div",{className:"font-semibold text-green-800",children:"Gift Card Found!"}),(0,d.jsxs)("div",{className:"text-sm text-green-700",children:["Available Balance: \u20a6",bt.balance.toLocaleString()]}),(0,d.jsxs)("div",{className:"text-sm text-green-600",children:["Status: ",bt.status," \u2022 Expires: ",new Date(bt.expiry_date).toLocaleDateString()]}),bt.message&&(0,d.jsxs)("div",{className:"text-sm text-green-600 italic",children:['"',bt.message,'"']})]})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount to Redeem (Optional)"}),(0,d.jsx)("input",{type:"number",name:"amount",min:"1",max:bt?bt.balance:1e5,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Leave empty to redeem full amount"}),(0,d.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to redeem the full gift card balance"})]})]}),(0,d.jsxs)("div",{className:"flex space-x-3 mt-6",children:[(0,d.jsx)("button",{type:"button",onClick:()=>{yt(!1),vt(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,d.jsx)("button",{type:"submit",disabled:!bt,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:"Redeem Gift Card"})]})]})]})}),Tt&&Mt&&Mt.requires_kyc&&"not_started"===Mt.status&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-60 flex items-center justify-center p-4",children:(0,d.jsx)("div",{className:"bg-white rounded-lg max-w-md w-full p-6 border-2 border-yellow-200",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udd10"}),(0,d.jsx)("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Complete Your KYC"}),(0,d.jsx)("p",{className:"text-gray-600 mb-4",children:"Complete your KYC verification to start receiving payments on the platform."}),(0,d.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:(0,d.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,d.jsx)("strong",{children:"Important:"})," KYC completion is required to receive payments from buyers. Without KYC, you can browse and purchase but cannot receive funds."]})}),(0,d.jsxs)("div",{className:"flex space-x-3",children:[(0,d.jsx)("button",{onClick:()=>Ft(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Later"}),(0,d.jsx)("button",{onClick:()=>{Ft(!1),alert("KYC completion form will open here. This includes:\n\nFor Registered Businesses:\n- Business Registration Number\n- TIN Certificate\n- Certificate of Incorporation\n\nFor Others (Farmers/Agents/Unregistered):\n- NIN or BVN\n- Headshot photo (camera)\n- National ID upload\n- Utility bill")},className:"flex-1 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700",children:"Complete KYC"})]})]})})}),nr&&b&&"farmer"===b.role&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[(0,d.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("h2",{className:"text-2xl font-semibold",children:"\ud83c\udf3e Farmer Dashboard"}),(0,d.jsx)("button",{onClick:()=>ar(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),ir?(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsxs)("div",{className:"mb-8 p-6 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg",children:[(0,d.jsxs)("h3",{className:"text-lg font-semibold mb-2",children:["Welcome, ",ir.farmer_profile.name,"!"]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-green-200",children:"KYC Status"}),(0,d.jsx)("div",{className:"font-medium capitalize",children:ir.farmer_profile.kyc_status})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-green-200",children:"Rating"}),(0,d.jsxs)("div",{className:"font-medium",children:["\u2b50 ",ir.farmer_profile.average_rating,"/5"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-green-200",children:"Products"}),(0,d.jsx)("div",{className:"font-medium",children:ir.business_metrics.total_products})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-green-200",children:"Revenue"}),(0,d.jsxs)("div",{className:"font-medium",children:["\u20a6",ir.business_metrics.total_revenue.toLocaleString()]})]})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[(0,d.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,d.jsx)("div",{className:"text-2xl text-blue-600 mb-2",children:"\ud83d\udce6"}),(0,d.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:ir.business_metrics.active_products}),(0,d.jsx)("div",{className:"text-sm text-blue-600",children:"Active Products"})]}),(0,d.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,d.jsx)("div",{className:"text-2xl text-green-600 mb-2",children:"\ud83c\udf3e"}),(0,d.jsx)("div",{className:"text-2xl font-bold text-green-600",children:ir.business_metrics.total_farmlands}),(0,d.jsx)("div",{className:"text-sm text-green-600",children:"Farmlands"})]}),(0,d.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[(0,d.jsx)("div",{className:"text-2xl text-yellow-600 mb-2",children:"\ud83d\udccb"}),(0,d.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:ir.business_metrics.pending_orders}),(0,d.jsx)("div",{className:"text-sm text-yellow-600",children:"Pending Orders"})]}),(0,d.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,d.jsx)("div",{className:"text-2xl text-purple-600 mb-2",children:"\ud83d\udccf"}),(0,d.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:ir.business_metrics.total_hectares}),(0,d.jsx)("div",{className:"text-sm text-purple-600",children:"Total Hectares"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Recent Orders"}),0===ir.recent_orders.length?(0,d.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,d.jsx)("p",{children:"No recent orders. Start listing your products to get orders!"})}):(0,d.jsx)("div",{className:"space-y-3",children:ir.recent_orders.map(((e,t)=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium",children:e.product}),(0,d.jsxs)("div",{className:"text-sm text-gray-500",children:["Buyer: ",e.buyer]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("div",{className:"font-semibold",children:["\u20a6",e.amount.toLocaleString()]}),(0,d.jsx)("div",{className:"text-xs px-2 py-1 rounded ".concat("completed"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.status})]})]},t)))})]})]}):(0,d.jsx)("div",{className:"p-6",children:(0,d.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500 mx-auto mb-4"}),(0,d.jsx)("p",{children:"Loading dashboard data..."})]})})]})}),sr&&b&&"agent"===b.role&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[(0,d.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("h2",{className:"text-2xl font-semibold",children:"\ud83e\udd1d Agent Dashboard"}),(0,d.jsx)("button",{onClick:()=>lr(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),cr?(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsxs)("div",{className:"mb-8 p-6 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg",children:[(0,d.jsxs)("h3",{className:"text-lg font-semibold mb-2",children:["Welcome, ",cr.agent_profile.name,"!"]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-purple-200",children:"KYC Status"}),(0,d.jsx)("div",{className:"font-medium capitalize",children:cr.agent_profile.kyc_status})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-purple-200",children:"Rating"}),(0,d.jsxs)("div",{className:"font-medium",children:["\u2b50 ",cr.agent_profile.average_rating,"/5"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-purple-200",children:"Farmers"}),(0,d.jsx)("div",{className:"font-medium",children:cr.business_metrics.total_farmers})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-purple-200",children:"Commission"}),(0,d.jsxs)("div",{className:"font-medium",children:["\u20a6",cr.business_metrics.agent_commission.toLocaleString()]})]})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[(0,d.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,d.jsx)("div",{className:"text-2xl text-green-600 mb-2",children:"\ud83d\udc68\u200d\ud83c\udf3e"}),(0,d.jsx)("div",{className:"text-2xl font-bold text-green-600",children:cr.business_metrics.active_farmers}),(0,d.jsx)("div",{className:"text-sm text-green-600",children:"Active Farmers"})]}),(0,d.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,d.jsx)("div",{className:"text-2xl text-blue-600 mb-2",children:"\ud83d\udce6"}),(0,d.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:cr.business_metrics.active_products}),(0,d.jsx)("div",{className:"text-sm text-blue-600",children:"Active Products"})]}),(0,d.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[(0,d.jsx)("div",{className:"text-2xl text-yellow-600 mb-2",children:"\ud83d\udcb0"}),(0,d.jsxs)("div",{className:"text-2xl font-bold text-yellow-600",children:["\u20a6",cr.business_metrics.total_revenue.toLocaleString()]}),(0,d.jsx)("div",{className:"text-sm text-yellow-600",children:"Total Revenue"})]}),(0,d.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg",children:[(0,d.jsx)("div",{className:"text-2xl text-red-600 mb-2",children:"\ud83d\udccb"}),(0,d.jsx)("div",{className:"text-2xl font-bold text-red-600",children:cr.business_metrics.pending_orders}),(0,d.jsx)("div",{className:"text-sm text-red-600",children:"Pending Orders"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Top Performing Farmers"}),0===cr.top_farmers.length?(0,d.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,d.jsx)("p",{children:"No farmers in your network yet. Start adding farmers to grow your business!"})}):(0,d.jsx)("div",{className:"space-y-3",children:cr.top_farmers.map(((e,t)=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium",children:e.name}),(0,d.jsxs)("div",{className:"text-sm text-gray-500",children:[e.location," \u2022 Joined: ",new Date(e.linked_date).toLocaleDateString()]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("div",{className:"font-semibold",children:["\u20a6",e.total_sales.toLocaleString()]}),(0,d.jsxs)("div",{className:"text-sm text-gray-500",children:[e.total_listings," listings"]})]})]},t)))})]})]}):(0,d.jsx)("div",{className:"p-6",children:(0,d.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4"}),(0,d.jsx)("p",{children:"Loading dashboard data..."})]})})]})}),ur&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,d.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("h2",{className:"text-2xl font-semibold",children:"\ud83d\udcc8 Market Prices"}),(0,d.jsx)("button",{onClick:()=>mr(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsx)("div",{className:"mb-6",children:(0,d.jsx)("p",{className:"text-gray-600",children:"Current market prices for agricultural products. Prices are updated regularly based on market conditions."})}),0===pr.length?(0,d.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,d.jsx)("p",{children:"Loading market prices..."})]}):(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:pr.map(((e,t)=>(0,d.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:(0,d.jsxs)("div",{className:"flex justify-between items-start",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-semibold text-gray-800",children:e.product}),(0,d.jsx)("div",{className:"text-xs text-gray-500 capitalize",children:e.category.replace("_"," ")})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:["\u20a6",e.price.toLocaleString()]}),(0,d.jsx)("div",{className:"text-sm font-medium ".concat(e.trend.startsWith("+")?"text-green-600":"text-red-600"),children:e.trend})]})]})},t)))}),(0,d.jsx)("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,d.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,d.jsx)("strong",{children:"Note:"})," Prices are indicative and may vary based on quality, location, and market conditions. Use these as reference for your pricing decisions."]})})]})]})}),It&&(0,d.jsx)(Ys,{}),Ht&&(0,d.jsx)($s,{}),Kt&&(0,d.jsx)(Ks,{}),Sr&&(0,d.jsx)(Qs,{}),Lr&&(0,d.jsx)(Gs,{})]})};a.createRoot(document.getElementById("root")).render((0,d.jsx)(n.StrictMode,{children:(0,d.jsx)(h,{})}))})();
//# sourceMappingURL=main.8794114b.js.map