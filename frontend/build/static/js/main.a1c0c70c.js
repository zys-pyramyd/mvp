/*! For license information please see main.a1c0c70c.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,r)=>{var n=r(853),a=r(43),l=r(950);function s(e){var t="https://db16cee4-7596-40bf-9ed9-efba806794f6.preview.emergentagent.com","/api/users/search?username=").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(t.ok){const e=await t.json();J(e)}}catch(t){console.error("Error searching users:",t)}})(e.target.value)},placeholder:"Enter username...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),K.length>0&&(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Found Users"}),(0,u.jsx)("div",{className:"space-y-2",children:K.map((e=>(0,u.jsx)("div",{onClick:()=>(e=>{const t={id:"conv_".concat(g.username,"_").concat(e.username),participants:[g.username,e.username],name:e.first_name+" "+e.last_name,avatar:e.username.charAt(0).toUpperCase()};Q(t),J([]),X("")})(e),className:"p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("div",{className:"w-8 h-8 bg-emerald-500 text-white rounded-full flex items-center justify-center font-semibold",children:e.username.charAt(0).toUpperCase()}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("p",{className:"font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,u.jsxs)("p",{className:"text-sm text-gray-500",children:["@",e.username]})]})]})},e.username)))})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Recent Conversations"}),0===Y.length?(0,u.jsx)("p",{className:"text-gray-500 text-center",children:"No conversations yet. Search for users to start messaging!"}):(0,u.jsx)("div",{className:"space-y-2",children:Y.map((e=>(0,u.jsx)("div",{onClick:()=>Q(e),className:"p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-semibold",children:e.avatar}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Click to view messages"})]})]})},e.id)))})]})]})]})}),se&&(0,u.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,u.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-96 overflow-hidden",children:[(0,u.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsx)("h2",{className:"text-lg font-semibold",children:"Order Tracking"}),(0,u.jsx)("button",{onClick:()=>ie(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),(0,u.jsx)("div",{className:"p-4 overflow-y-auto max-h-80",children:0===oe.length?(0,u.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No orders found"}):(0,u.jsx)("div",{className:"space-y-4",children:oe.map((e=>(0,u.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,u.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("h3",{className:"font-semibold text-gray-900",children:["Order #",e.id.slice(-8)]}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:new Date(e.created_at).toLocaleDateString()})]}),(0,u.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat("delivered"===e.status?"bg-green-100 text-green-800":"in_transit"===e.status?"bg-blue-100 text-blue-800":"confirmed"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.status.replace("_"," ").toUpperCase()})]}),(0,u.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:[(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Total:"})," \u20a6",e.total_amount.toLocaleString()]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Items:"})," ",e.items.length," item(s)"]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Delivery:"})," ",e.delivery_address]})]}),(0,u.jsx)("div",{className:"space-y-1",children:e.items.map(((e,t)=>(0,u.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,u.jsxs)("span",{children:[e.title," \xd7 ",e.quantity]}),(0,u.jsxs)("span",{children:["\u20a6",e.total.toLocaleString()]})]},t)))})]},e.id)))})})]})}),ve&&we&&(0,u.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,u.jsxs)("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-screen overflow-hidden",children:[(0,u.jsx)("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-emerald-50 to-blue-50",children:(0,u.jsxs)("div",{className:"flex justify-between items-start",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:we.product_name||we.crop_type}),(0,u.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,u.jsxs)("div",{className:"text-3xl font-bold text-emerald-600",children:["\u20a6",we.price_per_unit,"/",we.unit||we.unit_of_measure||"kg",(we.unit_specification||we.unit_of_measure!==(we.unit||"kg"))&&(0,u.jsxs)("span",{className:"text-lg font-medium text-gray-600 ml-2",children:["(",we.unit_specification||we.unit_of_measure||"standard",")"]})]}),"preorder"===we.type&&(0,u.jsx)("div",{className:"bg-orange-500 text-white px-4 py-2 rounded-full text-sm font-bold",children:"\u26a1 PRE-ORDER"}),we.seller_type&&(0,u.jsx)("div",{className:"bg-emerald-500 text-white px-3 py-1 rounded-full text-sm font-semibold capitalize",children:we.seller_type})]})]}),(0,u.jsx)("button",{onClick:nr,className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:"\xd7"})]})}),(0,u.jsxs)("div",{className:"p-0 overflow-y-auto max-h-[calc(100vh-200px)]",children:[(0,u.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 p-6",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"mb-6",children:we.images&&we.images.length>0?(0,u.jsx)("img",{src:we.images[0],alt:we.product_name||we.crop_type,className:"w-full h-96 object-cover rounded-lg shadow-lg"}):(0,u.jsx)("div",{className:"w-full h-96 bg-gradient-to-r from-gray-200 to-gray-300 flex items-center justify-center rounded-lg shadow-lg",children:(0,u.jsx)("span",{className:"text-gray-500 text-lg",children:"\ud83d\udce6 Product Image"})})}),(0,u.jsxs)("div",{className:"mb-6",children:[(0,u.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Product Description"}),(0,u.jsx)("p",{className:"text-gray-600 leading-relaxed",children:we.description||"Fresh organic produce from certified farms. High quality guaranteed with proper storage and handling."})]}),(0,u.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,u.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Stock Information"}),(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"text-sm text-gray-600",children:"Available Stock:"}),(0,u.jsx)("div",{className:"font-semibold text-emerald-600",children:"preorder"===we.type?"".concat(we.available_stock||we.total_stock," ").concat(we.unit):"".concat(we.quantity||"100"," ").concat(we.unit||"kg")})]}),"preorder"===we.type&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"text-sm text-gray-600",children:"Pre-orders Placed:"}),(0,u.jsx)("div",{className:"font-semibold text-orange-600",children:we.orders_count||0})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"text-sm text-gray-600",children:"Partial Payment:"}),(0,u.jsxs)("div",{className:"font-semibold text-blue-600",children:[Math.round(100*(we.partial_payment_percentage||.3)),"%"]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"text-sm text-gray-600",children:"Delivery Date:"}),(0,u.jsx)("div",{className:"font-semibold text-gray-700",children:new Date(we.delivery_date).toLocaleDateString()})]})]})]})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[(0,u.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Seller Information"}),(0,u.jsxs)("div",{className:"mb-3",children:[we.business_name&&(0,u.jsxs)("div",{className:"mb-2",children:[(0,u.jsx)("span",{className:"text-sm text-gray-600",children:"Business:"}),(0,u.jsx)("div",{className:"font-medium text-gray-800",children:we.business_name})]}),we.farm_name&&(0,u.jsxs)("div",{className:"mb-2",children:[(0,u.jsx)("span",{className:"text-sm text-gray-600",children:"Farm:"}),(0,u.jsx)("div",{className:"font-medium text-gray-800",children:we.farm_name})]})]}),we.agent_username&&(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsx)("span",{className:"text-sm text-gray-600",children:"Agent:"}),(0,u.jsxs)("div",{className:"font-medium text-blue-600",children:["@",we.agent_username]}),(0,u.jsxs)("div",{className:"flex items-center mt-1",children:[(0,u.jsx)("span",{className:"text-yellow-400",children:"\u2605\u2605\u2605\u2605\u2606"}),(0,u.jsx)("span",{className:"text-sm text-gray-600 ml-2",children:"4.2/5 (Agent Rating)"})]})]}),!we.agent_username&&(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsx)("span",{className:"text-sm text-gray-600",children:"Farm Rating:"}),(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("span",{className:"text-yellow-400",children:"\u2605\u2605\u2605\u2605\u2605"}),(0,u.jsx)("span",{className:"text-sm text-gray-600 ml-2",children:"4.8/5 (Farm Rating)"})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"text-sm text-gray-600",children:"Location:"}),(0,u.jsxs)("div",{className:"font-medium text-gray-800",children:["\ud83d\udccd ",we.location,(0,u.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:["Village: ",we.village||"N/A"," \u2022 City: ",we.city||(null===(s=we.location)||void 0===s?void 0:s.split(",")[0])||"N/A"," \u2022 State: ",we.state||(null===(i=we.location)||void 0===i||null===(o=i.split(",")[1])||void 0===o?void 0:o.trim())||"N/A"," \u2022 Country: Nigeria"]})]})]})]}),(0,u.jsxs)("div",{className:"mb-6 p-4 bg-emerald-50 rounded-lg",children:[(0,u.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Purchase Options"}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),(0,u.jsx)("input",{type:"number",min:"1",defaultValue:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",id:"detail-quantity-".concat(we.id||we._id)})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"}),(0,u.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",id:"detail-unit-".concat(we.id||we._id),children:[(0,u.jsx)("option",{value:"kg",children:"kg"}),(0,u.jsx)("option",{value:"g",children:"g"}),(0,u.jsx)("option",{value:"pieces",children:"pieces"}),(0,u.jsx)("option",{value:"bags",children:"bags"}),(0,u.jsx)("option",{value:"crates",children:"crates"}),(0,u.jsx)("option",{value:"gallons",children:"gallons"}),(0,u.jsx)("option",{value:"liters",children:"liters"})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Specification"}),(0,u.jsx)("input",{type:"text",placeholder:"e.g., 100kg",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",id:"detail-spec-".concat(we.id||we._id)})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Method"}),(0,u.jsxs)("div",{className:"flex space-x-4",children:[(0,u.jsxs)("label",{className:"flex items-center",children:[(0,u.jsx)("input",{type:"radio",name:"detail-delivery-".concat(we.id||we._id),value:"platform",defaultChecked:!0,className:"w-4 h-4 text-emerald-600 border-gray-300 focus:ring-emerald-500"}),(0,u.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"\ud83d\ude9b Platform Driver"})]}),(0,u.jsxs)("label",{className:"flex items-center",children:[(0,u.jsx)("input",{type:"radio",name:"detail-delivery-".concat(we.id||we._id),value:"offline",className:"w-4 h-4 text-emerald-600 border-gray-300 focus:ring-emerald-500"}),(0,u.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"\ud83d\ude9a Offline Delivery"})]})]})]}),(0,u.jsx)("button",{onClick:()=>{const e=we.id||we._id,t=document.getElementById("detail-quantity-".concat(e)),r=document.getElementById("detail-unit-".concat(e)),n=document.getElementById("detail-spec-".concat(e)),a=document.querySelector('input[name="detail-delivery-'.concat(e,'"]:checked')),l=parseFloat(null===t||void 0===t?void 0:t.value)||1,s=(null===r||void 0===r?void 0:r.value)||"kg",i=(null===n||void 0===n?void 0:n.value)||"",o=(null===a||void 0===a?void 0:a.value)||"platform";ir(we,l,s,i,o),nr()},className:"w-full py-3 px-6 rounded-lg font-bold text-lg transition-colors ".concat("preorder"===we.type?"bg-orange-600 hover:bg-orange-700 text-white":"bg-emerald-600 hover:bg-emerald-700 text-white"),children:"preorder"===we.type?"\ud83d\uded2 Add Pre-order to Cart":"\ud83d\uded2 Add to Cart"})]})]})]})]}),(0,u.jsx)("div",{className:"px-6 mb-8",children:(0,u.jsxs)("div",{className:"border-t border-gray-200 pt-8",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"\ud83d\udd25 More Pre-Order Sales"}),(0,u.jsx)("p",{className:"text-gray-600",children:"Discover other products available for pre-order"})]}),(0,u.jsx)("button",{onClick:()=>{_e((e=>c(c({},e),{},{only_preorders:!0}))),Yt(),nr()},className:"px-4 py-2 bg-orange-100 text-orange-700 rounded-lg hover:bg-orange-200 transition-colors font-medium",children:"See All Pre-Orders \u2192"})]}),(0,u.jsx)("div",{className:"flex overflow-x-auto space-x-4 pb-4 scrollbar-hide",children:E.filter((e=>"preorder"===e.type&&(e.id||e._id)!==(we.id||we._id))).slice(0,4).map(((e,t)=>(0,u.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg shadow-md hover:shadow-lg transition-all flex-shrink-0 w-72 border-2 border-orange-200 hover:border-orange-300 cursor-pointer",children:[(0,u.jsxs)("div",{className:"relative",onClick:()=>{var t;Ne(e),null===(t=document.querySelector(".overflow-y-auto"))||void 0===t||t.scrollTo(0,0)},children:[e.images&&e.images.length>0?(0,u.jsx)("img",{src:e.images[0],alt:e.product_name||e.crop_type,className:"w-full h-32 object-cover rounded-t-lg"}):(0,u.jsx)("div",{className:"w-full h-32 bg-gradient-to-r from-orange-200 to-orange-300 flex items-center justify-center rounded-t-lg",children:(0,u.jsx)("span",{className:"text-orange-600 font-medium text-sm",children:"\ud83c\udf3e Pre-Order"})}),(0,u.jsx)("div",{className:"absolute top-2 left-2 bg-orange-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:"\u26a1 PRE-ORDER"})]}),(0,u.jsxs)("div",{className:"p-3",children:[(0,u.jsx)("h4",{className:"font-bold text-gray-900 text-sm mb-2",children:e.product_name||e.crop_type}),(0,u.jsxs)("div",{className:"text-lg font-bold text-orange-600 mb-2",children:["\u20a6",e.price_per_unit,"/",e.unit||"kg",e.unit_specification&&(0,u.jsxs)("span",{className:"text-xs font-medium text-gray-600 ml-1",children:["(",e.unit_specification,")"]})]}),(0,u.jsxs)("div",{className:"text-xs text-gray-600",children:["\ud83d\udccd ",e.location]})]})]},"detail-preorder-".concat(e.id||e._id||t))))})]})}),(0,u.jsx)("div",{className:"px-6 pb-8",children:(0,u.jsxs)("div",{className:"border-t border-gray-200 pt-8",children:[(0,u.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"\ud83d\udca1 Recommended Products"}),(0,u.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:E.filter((e=>"preorder"!==e.type&&(e.id||e._id)!==(we.id||we._id)&&(e.category===we.category||e.product_category===we.product_category))).slice(0,4).map(((e,t)=>(0,u.jsx)("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer border border-gray-200",children:(0,u.jsxs)("div",{onClick:()=>{var t;Ne(e),null===(t=document.querySelector(".overflow-y-auto"))||void 0===t||t.scrollTo(0,0)},children:[e.images&&e.images.length>0?(0,u.jsx)("img",{src:e.images[0],alt:e.product_name||e.crop_type,className:"w-full h-32 object-cover rounded-t-lg"}):(0,u.jsx)("div",{className:"w-full h-32 bg-gray-200 flex items-center justify-center rounded-t-lg",children:(0,u.jsx)("span",{className:"text-gray-500 text-sm",children:"\ud83d\udce6 Product"})}),(0,u.jsxs)("div",{className:"p-3",children:[(0,u.jsx)("h4",{className:"font-semibold text-gray-900 text-sm mb-1",children:e.product_name||e.crop_type}),(0,u.jsxs)("div",{className:"text-lg font-bold text-emerald-600 mb-1",children:["\u20a6",e.price_per_unit,"/",e.unit||"kg",e.unit_specification&&(0,u.jsxs)("span",{className:"text-xs font-medium text-gray-600 ml-1",children:["(",e.unit_specification,")"]})]}),(0,u.jsxs)("div",{className:"text-xs text-gray-600",children:["\ud83d\udccd ",e.location]})]})]})},"recommended-".concat(e.id||e._id||t))))})]})})]})]})})]})};a.createRoot(document.getElementById("root")).render((0,u.jsx)(n.StrictMode,{children:(0,u.jsx)(g,{})}))})();
//# sourceMappingURL=main.a1c0c70c.js.map