/*! For license information please see main.e41525ca.js.LICENSE.txt */
(()=>{"use strict";var e={175:(e,t)=>{const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,n=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function i(e,t,r){do{const r=e.charCodeAt(t);if(32!==r&&9!==r)return t}while(++t<r);return r}function c(e,t,r){for(;t>r;){const r=e.charCodeAt(--t);if(32!==r&&9!==r)return t+1}return r}function d(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},730:(e,t,r)=>{var n=r(43),a=r(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,o={};function i(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function h(e,t,r,n,a,s,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){x[e]=new h(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];x[t]=new h(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){x[e]=new h(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){x[e]=new h(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){x[e]=new h(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){x[e]=new h(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){x[e]=new h(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){x[e]=new h(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){x[e]=new h(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,r,n){var a=x.hasOwnProperty(t)?x[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!u.call(f,e)||!u.call(p,e)&&(m.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);x[t]=new h(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);x[t]=new h(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);x[t]=new h(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){x[e]=new h(e,1,!1,e.toLowerCase(),null,!1,!1)})),x.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){x[e]=new h(e,1,!1,e.toLowerCase(),null,!0,!0)}));var v=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var F,z=Object.assign;function M(e){if(void 0===F)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var I=!1;function B(e,t){if(!e||I)return"";I=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=n.stack.split("\n"),l=a.length-1,o=s.length-1;1<=l&&0<=o&&a[l]!==s[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==s[o]){if(1!==l||1!==o)do{if(l--,0>--o||a[l]!==s[o]){var i="\n"+a[l].replace(" at new "," at ");return e.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",e.displayName)),i}}while(1<=l&&0<=o);break}}}finally{I=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?M(e):""}function U(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case w:return"Portal";case _:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return q(e(t))}catch(r){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=V(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var r=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Q(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=W(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function G(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){G(e,t);var r=W(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&J(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+W(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(s(92));if(te(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:W(r)}}function se(e,t){var r=W(t.value),n=W(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ie(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function me(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function he(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function xe(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=he(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ge=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ne=null,ke=null;function _e(e){if(e=ba(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=ja(t),we(e.stateNode,e.type,t))}}function Se(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function Ce(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ee(e,t){return e(t)}function Pe(){}var Re=!1;function Te(e,t,r){if(Re)return e(t,r);Re=!0;try{return Ee(e,t,r)}finally{Re=!1,(null!==Ne||null!==ke)&&(Pe(),Ce())}}function Le(e,t){var r=e.stateNode;if(null===r)return null;var n=ja(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var Oe=!1;if(d)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(de){Oe=!1}function De(e,t,r,n,a,s,l,o,i){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Fe=!1,ze=null,Me=!1,Ie=null,Be={onError:function(e){Fe=!0,ze=e}};function Ue(e,t,r,n,a,s,l,o,i){Fe=!1,ze=null,De.apply(Be,arguments)}function qe(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(qe(e)!==e)throw Error(s(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var l=a.alternate;if(null===l){if(null!==(n=a.return)){r=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return We(a),e;if(l===n)return We(a),t;l=l.sibling}throw Error(s(188))}if(r.return!==n.return)r=a,n=l;else{for(var o=!1,i=a.child;i;){if(i===r){o=!0,r=a,n=l;break}if(i===n){o=!0,n=a,r=l;break}i=i.sibling}if(!o){for(i=l.child;i;){if(i===r){o=!0,r=l,n=a;break}if(i===n){o=!0,n=l,r=a;break}i=i.sibling}if(!o)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var $e=a.unstable_scheduleCallback,Je=a.unstable_cancelCallback,Ke=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Ge=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,at=null,st=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/it|0)|0},ot=Math.log,it=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,l=268435455&r;if(0!==l){var o=l&~a;0!==o?n=ut(o):0!==(s&=l)&&(n=ut(s))}else 0!==(l=r&~a)?n=ut(l):0!==s&&(n=ut(s));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-lt(t)),n|=e[r],t&=~a;return n}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function xt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=r}function yt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-lt(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var bt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,wt,Nt,kt,_t,St=!1,Ct=[],Et=null,Pt=null,Rt=null,Tt=new Map,Lt=new Map,Ot=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Ft(e,t,r,n,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&wt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function zt(e){var t=ya(e.target);if(null!==t){var r=qe(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=He(r)))return e.blockedOn=t,void _t(e.priority,(function(){Nt(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=ba(r))&&wt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);ve=n,r.target.dispatchEvent(n),ve=null,t.shift()}return!0}function It(e,t,r){Mt(e)&&r.delete(t)}function Bt(){St=!1,null!==Et&&Mt(Et)&&(Et=null),null!==Pt&&Mt(Pt)&&(Pt=null),null!==Rt&&Mt(Rt)&&(Rt=null),Tt.forEach(It),Lt.forEach(It)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bt)))}function qt(e){function t(t){return Ut(t,e)}if(0<Ct.length){Ut(Ct[0],e);for(var r=1;r<Ct.length;r++){var n=Ct[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Et&&Ut(Et,e),null!==Pt&&Ut(Pt,e),null!==Rt&&Ut(Rt,e),Tt.forEach(t),Lt.forEach(t),r=0;r<Ot.length;r++)(n=Ot[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Ot.length&&null===(r=Ot[0]).blockedOn;)zt(r),null===r.blockedOn&&Ot.shift()}var Ht=v.ReactCurrentBatchConfig,Wt=!0;function Vt(e,t,r,n){var a=bt,s=Ht.transition;Ht.transition=null;try{bt=1,$t(e,t,r,n)}finally{bt=a,Ht.transition=s}}function Yt(e,t,r,n){var a=bt,s=Ht.transition;Ht.transition=null;try{bt=4,$t(e,t,r,n)}finally{bt=a,Ht.transition=s}}function $t(e,t,r,n){if(Wt){var a=Kt(e,t,r,n);if(null===a)Wn(e,t,n,Jt,r),Dt(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return Et=Ft(Et,e,t,r,n,a),!0;case"dragenter":return Pt=Ft(Pt,e,t,r,n,a),!0;case"mouseover":return Rt=Ft(Rt,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Tt.set(s,Ft(Tt.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Lt.set(s,Ft(Lt.get(s)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(Dt(e,n),4&t&&-1<At.indexOf(e)){for(;null!==a;){var s=ba(a);if(null!==s&&jt(s),null===(s=Kt(e,t,r,n))&&Wn(e,t,n,Jt,r),s===a)break;a=s}null!==a&&n.stopPropagation()}else Wn(e,t,n,null,r)}}var Jt=null;function Kt(e,t,r,n){if(Jt=null,null!==(e=ya(e=je(n))))if(null===(t=qe(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Gt=null,Xt=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=Xt,n=r.length,a="value"in Gt?Gt.value:Gt.textContent,s=a.length;for(e=0;e<n&&r[e]===a[e];e++);var l=n-e;for(t=1;t<=l&&r[n-t]===a[s-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ar(e){function t(t,r,n,a,s){for(var l in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(a):a[l]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var sr,lr,or,ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=ar(ir),dr=z({},ir,{view:0,detail:0}),ur=ar(dr),mr=z({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==or&&(or&&"mousemove"===e.type?(sr=e.screenX-or.screenX,lr=e.screenY-or.screenY):lr=sr=0,or=e),sr)},movementY:function(e){return"movementY"in e?e.movementY:lr}}),pr=ar(mr),fr=ar(z({},mr,{dataTransfer:0})),hr=ar(z({},dr,{relatedTarget:0})),xr=ar(z({},ir,{animationName:0,elapsedTime:0,pseudoElement:0})),gr=z({},ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yr=ar(gr),br=ar(z({},ir,{data:0})),vr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wr[e])&&!!t[e]}function kr(){return Nr}var _r=z({},dr,{key:function(e){if(e.key){var t=vr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sr=ar(_r),Cr=ar(z({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Er=ar(z({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr})),Pr=ar(z({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rr=z({},mr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tr=ar(Rr),Lr=[9,13,27,32],Or=d&&"CompositionEvent"in window,Ar=null;d&&"documentMode"in document&&(Ar=document.documentMode);var Dr=d&&"TextEvent"in window&&!Ar,Fr=d&&(!Or||Ar&&8<Ar&&11>=Ar),zr=String.fromCharCode(32),Mr=!1;function Ir(e,t){switch(e){case"keyup":return-1!==Lr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Br(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ur=!1;var qr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qr[e.type]:"textarea"===t}function Wr(e,t,r,n){Se(n),0<(t=Yn(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Vr=null,Yr=null;function $r(e){Mn(e,0)}function Jr(e){if($(va(e)))return e}function Kr(e,t){if("change"===e)return t}var Qr=!1;if(d){var Gr;if(d){var Xr="oninput"in document;if(!Xr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Xr="function"===typeof Zr.oninput}Gr=Xr}else Gr=!1;Qr=Gr&&(!document.documentMode||9<document.documentMode)}function en(){Vr&&(Vr.detachEvent("onpropertychange",tn),Yr=Vr=null)}function tn(e){if("value"===e.propertyName&&Jr(Yr)){var t=[];Wr(t,Yr,e,je(e)),Te($r,t)}}function rn(e,t,r){"focusin"===e?(en(),Yr=r,(Vr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jr(Yr)}function an(e,t){if("click"===e)return Jr(t)}function sn(e,t){if("input"===e||"change"===e)return Jr(t)}var ln="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function on(e,t){if(ln(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!u.call(t,a)||!ln(e[a],t[a]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mn(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=J((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fn(e){var t=mn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&un(r.ownerDocument.documentElement,r)){if(null!==n&&pn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=void 0===n.end?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=dn(r,s);var l=dn(r,n);a&&l&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hn=d&&"documentMode"in document&&11>=document.documentMode,xn=null,gn=null,yn=null,bn=!1;function vn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==xn||xn!==J(n)||("selectionStart"in(n=xn)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&on(yn,n)||(yn=n,0<(n=Yn(gn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=xn)))}function jn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wn={animationend:jn("Animation","AnimationEnd"),animationiteration:jn("Animation","AnimationIteration"),animationstart:jn("Animation","AnimationStart"),transitionend:jn("Transition","TransitionEnd")},Nn={},kn={};function _n(e){if(Nn[e])return Nn[e];if(!wn[e])return e;var t,r=wn[e];for(t in r)if(r.hasOwnProperty(t)&&t in kn)return Nn[e]=r[t];return e}d&&(kn=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);var Sn=_n("animationend"),Cn=_n("animationiteration"),En=_n("animationstart"),Pn=_n("transitionend"),Rn=new Map,Tn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(e,t){Rn.set(e,t),i(t,[e])}for(var On=0;On<Tn.length;On++){var An=Tn[On];Ln(An.toLowerCase(),"on"+(An[0].toUpperCase()+An.slice(1)))}Ln(Sn,"onAnimationEnd"),Ln(Cn,"onAnimationIteration"),Ln(En,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(Pn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dn));function zn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,l,o,i,c){if(Ue.apply(this,arguments),Fe){if(!Fe)throw Error(s(198));var d=ze;Fe=!1,ze=null,Me||(Me=!0,Ie=d)}}(n,t,void 0,e),e.currentTarget=null}function Mn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],i=o.instance,c=o.currentTarget;if(o=o.listener,i!==s&&a.isPropagationStopped())break e;zn(a,o,c),s=i}else for(l=0;l<n.length;l++){if(i=(o=n[l]).instance,c=o.currentTarget,o=o.listener,i!==s&&a.isPropagationStopped())break e;zn(a,o,c),s=i}}}if(Me)throw e=Ie,Me=!1,Ie=null,e}function In(e,t){var r=t[ha];void 0===r&&(r=t[ha]=new Set);var n=e+"__bubble";r.has(n)||(Hn(t,e,2,!1),r.add(n))}function Bn(e,t,r){var n=0;t&&(n|=4),Hn(r,e,n,t)}var Un="_reactListening"+Math.random().toString(36).slice(2);function qn(e){if(!e[Un]){e[Un]=!0,l.forEach((function(t){"selectionchange"!==t&&(Fn.has(t)||Bn(t,!1,e),Bn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Un]||(t[Un]=!0,Bn("selectionchange",!1,t))}}function Hn(e,t,r,n){switch(Qt(t)){case 1:var a=Vt;break;case 4:a=Yt;break;default:a=$t}r=a.bind(null,t,r,e),a=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Wn(e,t,r,n,a){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var l=n.tag;if(3===l||4===l){var o=n.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===l)for(l=n.return;null!==l;){var i=l.tag;if((3===i||4===i)&&((i=l.stateNode.containerInfo)===a||8===i.nodeType&&i.parentNode===a))return;l=l.return}for(;null!==o;){if(null===(l=ya(o)))return;if(5===(i=l.tag)||6===i){n=s=l;continue e}o=o.parentNode}}n=n.return}Te((function(){var n=s,a=je(r),l=[];e:{var o=Rn.get(e);if(void 0!==o){var i=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":i=Sr;break;case"focusin":c="focus",i=hr;break;case"focusout":c="blur",i=hr;break;case"beforeblur":case"afterblur":i=hr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":i=pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":i=fr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":i=Er;break;case Sn:case Cn:case En:i=xr;break;case Pn:i=Pr;break;case"scroll":i=ur;break;case"wheel":i=Tr;break;case"copy":case"cut":case"paste":i=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":i=Cr}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==o?o+"Capture":null:o;d=[];for(var p,f=n;null!==f;){var h=(p=f).stateNode;if(5===p.tag&&null!==h&&(p=h,null!==m&&(null!=(h=Le(f,m))&&d.push(Vn(f,h,p)))),u)break;f=f.return}0<d.length&&(o=new i(o,c,null,r,a),l.push({event:o,listeners:d}))}}if(0===(7&t)){if(i="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===ve||!(c=r.relatedTarget||r.fromElement)||!ya(c)&&!c[fa])&&(i||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,i?(i=n,null!==(c=(c=r.relatedTarget||r.toElement)?ya(c):null)&&(c!==(u=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(i=null,c=n),i!==c)){if(d=pr,h="onMouseLeave",m="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=Cr,h="onPointerLeave",m="onPointerEnter",f="pointer"),u=null==i?o:va(i),p=null==c?o:va(c),(o=new d(h,f+"leave",i,r,a)).target=u,o.relatedTarget=p,h=null,ya(a)===n&&((d=new d(m,f+"enter",c,r,a)).target=p,d.relatedTarget=u,h=d),u=h,i&&c)e:{for(m=c,f=0,p=d=i;p;p=$n(p))f++;for(p=0,h=m;h;h=$n(h))p++;for(;0<f-p;)d=$n(d),f--;for(;0<p-f;)m=$n(m),p--;for(;f--;){if(d===m||null!==m&&d===m.alternate)break e;d=$n(d),m=$n(m)}d=null}else d=null;null!==i&&Jn(l,o,i,d,!1),null!==c&&null!==u&&Jn(l,u,c,d,!0)}if("select"===(i=(o=n?va(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===i&&"file"===o.type)var x=Kr;else if(Hr(o))if(Qr)x=sn;else{x=nn;var g=rn}else(i=o.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(x=an);switch(x&&(x=x(e,n))?Wr(l,x,r,a):(g&&g(e,o,n),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&ee(o,"number",o.value)),g=n?va(n):window,e){case"focusin":(Hr(g)||"true"===g.contentEditable)&&(xn=g,gn=n,yn=null);break;case"focusout":yn=gn=xn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,vn(l,r,a);break;case"selectionchange":if(hn)break;case"keydown":case"keyup":vn(l,r,a)}var y;if(Or)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ur?Ir(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Fr&&"ko"!==r.locale&&(Ur||"onCompositionStart"!==b?"onCompositionEnd"===b&&Ur&&(y=er()):(Xt="value"in(Gt=a)?Gt.value:Gt.textContent,Ur=!0)),0<(g=Yn(n,b)).length&&(b=new br(b,e,null,r,a),l.push({event:b,listeners:g}),y?b.data=y:null!==(y=Br(r))&&(b.data=y))),(y=Dr?function(e,t){switch(e){case"compositionend":return Br(t);case"keypress":return 32!==t.which?null:(Mr=!0,zr);case"textInput":return(e=t.data)===zr&&Mr?null:e;default:return null}}(e,r):function(e,t){if(Ur)return"compositionend"===e||!Or&&Ir(e,t)?(e=er(),Zt=Xt=Gt=null,Ur=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Yn(n,"onBeforeInput")).length&&(a=new br("onBeforeInput","beforeinput",null,r,a),l.push({event:a,listeners:n}),a.data=y))}Mn(l,t)}))}function Vn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Yn(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Le(e,r))&&n.unshift(Vn(e,s,a)),null!=(s=Le(e,t))&&n.push(Vn(e,s,a))),e=e.return}return n}function $n(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jn(e,t,r,n,a){for(var s=t._reactName,l=[];null!==r&&r!==n;){var o=r,i=o.alternate,c=o.stateNode;if(null!==i&&i===n)break;5===o.tag&&null!==c&&(o=c,a?null!=(i=Le(r,s))&&l.unshift(Vn(r,i,o)):a||null!=(i=Le(r,s))&&l.push(Vn(r,i,o))),r=r.return}0!==l.length&&e.push({event:t,listeners:l})}var Kn=/\r\n?/g,Qn=/\u0000|\uFFFD/g;function Gn(e){return("string"===typeof e?e:""+e).replace(Kn,"\n").replace(Qn,"")}function Xn(e,t,r){if(t=Gn(t),Gn(e)!==t&&r)throw Error(s(425))}function Zn(){}var ea=null,ta=null;function ra(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,la="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(oa)}:na;function oa(e){setTimeout((function(){throw e}))}function ia(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void qt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);qt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function da(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),ma="__reactFiber$"+ua,pa="__reactProps$"+ua,fa="__reactContainer$"+ua,ha="__reactEvents$"+ua,xa="__reactListeners$"+ua,ga="__reactHandles$"+ua;function ya(e){var t=e[ma];if(t)return t;for(var r=e.parentNode;r;){if(t=r[fa]||r[ma]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=da(e);null!==e;){if(r=e[ma])return r;e=da(e)}return t}r=(e=r).parentNode}return null}function ba(e){return!(e=e[ma]||e[fa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function va(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ja(e){return e[pa]||null}var wa=[],Na=-1;function ka(e){return{current:e}}function _a(e){0>Na||(e.current=wa[Na],wa[Na]=null,Na--)}function Sa(e,t){Na++,wa[Na]=e.current,e.current=t}var Ca={},Ea=ka(Ca),Pa=ka(!1),Ra=Ca;function Ta(e,t){var r=e.type.contextTypes;if(!r)return Ca;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in r)s[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function La(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oa(){_a(Pa),_a(Ea)}function Aa(e,t,r){if(Ea.current!==Ca)throw Error(s(168));Sa(Ea,t),Sa(Pa,r)}function Da(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(s(108,H(e)||"Unknown",a));return z({},r,n)}function Fa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,Ra=Ea.current,Sa(Ea,e),Sa(Pa,Pa.current),!0}function za(e,t,r){var n=e.stateNode;if(!n)throw Error(s(169));r?(e=Da(e,t,Ra),n.__reactInternalMemoizedMergedChildContext=e,_a(Pa),_a(Ea),Sa(Ea,e)):_a(Pa),Sa(Pa,r)}var Ma=null,Ia=!1,Ba=!1;function Ua(e){null===Ma?Ma=[e]:Ma.push(e)}function qa(){if(!Ba&&null!==Ma){Ba=!0;var e=0,t=bt;try{var r=Ma;for(bt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Ma=null,Ia=!1}catch(a){throw null!==Ma&&(Ma=Ma.slice(e+1)),$e(Ze,qa),a}finally{bt=t,Ba=!1}}return null}var Ha=[],Wa=0,Va=null,Ya=0,$a=[],Ja=0,Ka=null,Qa=1,Ga="";function Xa(e,t){Ha[Wa++]=Ya,Ha[Wa++]=Va,Va=e,Ya=t}function Za(e,t,r){$a[Ja++]=Qa,$a[Ja++]=Ga,$a[Ja++]=Ka,Ka=e;var n=Qa;e=Ga;var a=32-lt(n)-1;n&=~(1<<a),r+=1;var s=32-lt(t)+a;if(30<s){var l=a-a%5;s=(n&(1<<l)-1).toString(32),n>>=l,a-=l,Qa=1<<32-lt(t)+a|r<<a|n,Ga=s+e}else Qa=1<<s|r<<a|n,Ga=e}function es(e){null!==e.return&&(Xa(e,1),Za(e,1,0))}function ts(e){for(;e===Va;)Va=Ha[--Wa],Ha[Wa]=null,Ya=Ha[--Wa],Ha[Wa]=null;for(;e===Ka;)Ka=$a[--Ja],$a[Ja]=null,Ga=$a[--Ja],$a[Ja]=null,Qa=$a[--Ja],$a[Ja]=null}var rs=null,ns=null,as=!1,ss=null;function ls(e,t){var r=Tc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function os(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rs=e,ns=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rs=e,ns=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Ka?{id:Qa,overflow:Ga}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Tc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,rs=e,ns=null,!0);default:return!1}}function is(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=ns;if(t){var r=t;if(!os(e,t)){if(is(e))throw Error(s(418));t=ca(r.nextSibling);var n=rs;t&&os(e,t)?ls(n,r):(e.flags=-4097&e.flags|2,as=!1,rs=e)}}else{if(is(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,rs=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rs=e}function us(e){if(e!==rs)return!1;if(!as)return ds(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ra(e.type,e.memoizedProps)),t&&(t=ns)){if(is(e))throw ms(),Error(s(418));for(;t;)ls(e,t),t=ca(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ns=ca(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ns=null}}else ns=rs?ca(e.stateNode.nextSibling):null;return!0}function ms(){for(var e=ns;e;)e=ca(e.nextSibling)}function ps(){ns=rs=null,as=!1}function fs(e){null===ss?ss=[e]:ss.push(e)}var hs=v.ReactCurrentBatchConfig;function xs(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var n=r.stateNode}if(!n)throw Error(s(147,e));var a=n,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=a.refs;null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function l(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function i(e,t,r,n){return null===t||6!==t.tag?((t=zc(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var s=r.type;return s===N?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===L&&ys(s)===t.type)?((n=a(t,r.props)).ref=xs(e,t,r),n.return=e,n):((n=Ac(r.type,r.key,r.props,null,e.mode,n)).ref=xs(e,t,r),n.return=e,n)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Mc(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function u(e,t,r,n,s){return null===t||7!==t.tag?((t=Dc(r,e.mode,n,s)).return=e,t):((t=a(t,r)).return=e,t)}function m(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(r=Ac(t.type,t.key,t.props,null,e.mode,r)).ref=xs(e,null,t),r.return=e,r;case w:return(t=Mc(t,e.mode,r)).return=e,t;case L:return m(e,(0,t._init)(t._payload),r)}if(te(t)||D(t))return(t=Dc(t,e.mode,r,null)).return=e,t;gs(e,t)}return null}function p(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:i(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return r.key===a?c(e,t,r,n):null;case w:return r.key===a?d(e,t,r,n):null;case L:return p(e,t,(a=r._init)(r._payload),n)}if(te(r)||D(r))return null!==a?null:u(e,t,r,n,null);gs(e,r)}return null}function f(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return i(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case w:return d(t,e=e.get(null===n.key?r:n.key)||null,n,a);case L:return f(e,t,r,(0,n._init)(n._payload),a)}if(te(n)||D(n))return u(t,e=e.get(r)||null,n,a,null);gs(t,n)}return null}function h(a,s,o,i){for(var c=null,d=null,u=s,h=s=0,x=null;null!==u&&h<o.length;h++){u.index>h?(x=u,u=null):x=u.sibling;var g=p(a,u,o[h],i);if(null===g){null===u&&(u=x);break}e&&u&&null===g.alternate&&t(a,u),s=l(g,s,h),null===d?c=g:d.sibling=g,d=g,u=x}if(h===o.length)return r(a,u),as&&Xa(a,h),c;if(null===u){for(;h<o.length;h++)null!==(u=m(a,o[h],i))&&(s=l(u,s,h),null===d?c=u:d.sibling=u,d=u);return as&&Xa(a,h),c}for(u=n(a,u);h<o.length;h++)null!==(x=f(u,a,h,o[h],i))&&(e&&null!==x.alternate&&u.delete(null===x.key?h:x.key),s=l(x,s,h),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach((function(e){return t(a,e)})),as&&Xa(a,h),c}function x(a,o,i,c){var d=D(i);if("function"!==typeof d)throw Error(s(150));if(null==(i=d.call(i)))throw Error(s(151));for(var u=d=null,h=o,x=o=0,g=null,y=i.next();null!==h&&!y.done;x++,y=i.next()){h.index>x?(g=h,h=null):g=h.sibling;var b=p(a,h,y.value,c);if(null===b){null===h&&(h=g);break}e&&h&&null===b.alternate&&t(a,h),o=l(b,o,x),null===u?d=b:u.sibling=b,u=b,h=g}if(y.done)return r(a,h),as&&Xa(a,x),d;if(null===h){for(;!y.done;x++,y=i.next())null!==(y=m(a,y.value,c))&&(o=l(y,o,x),null===u?d=y:u.sibling=y,u=y);return as&&Xa(a,x),d}for(h=n(a,h);!y.done;x++,y=i.next())null!==(y=f(h,a,x,y.value,c))&&(e&&null!==y.alternate&&h.delete(null===y.key?x:y.key),o=l(y,o,x),null===u?d=y:u.sibling=y,u=y);return e&&h.forEach((function(e){return t(a,e)})),as&&Xa(a,x),d}return function e(n,s,l,i){if("object"===typeof l&&null!==l&&l.type===N&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case j:e:{for(var c=l.key,d=s;null!==d;){if(d.key===c){if((c=l.type)===N){if(7===d.tag){r(n,d.sibling),(s=a(d,l.props.children)).return=n,n=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===L&&ys(c)===d.type){r(n,d.sibling),(s=a(d,l.props)).ref=xs(n,d,l),s.return=n,n=s;break e}r(n,d);break}t(n,d),d=d.sibling}l.type===N?((s=Dc(l.props.children,n.mode,i,l.key)).return=n,n=s):((i=Ac(l.type,l.key,l.props,null,n.mode,i)).ref=xs(n,s,l),i.return=n,n=i)}return o(n);case w:e:{for(d=l.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===l.containerInfo&&s.stateNode.implementation===l.implementation){r(n,s.sibling),(s=a(s,l.children||[])).return=n,n=s;break e}r(n,s);break}t(n,s),s=s.sibling}(s=Mc(l,n.mode,i)).return=n,n=s}return o(n);case L:return e(n,s,(d=l._init)(l._payload),i)}if(te(l))return h(n,s,l,i);if(D(l))return x(n,s,l,i);gs(n,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==s&&6===s.tag?(r(n,s.sibling),(s=a(s,l)).return=n,n=s):(r(n,s),(s=zc(l,n.mode,i)).return=n,n=s),o(n)):r(n,s)}}var vs=bs(!0),js=bs(!1),ws=ka(null),Ns=null,ks=null,_s=null;function Ss(){_s=ks=Ns=null}function Cs(e){var t=ws.current;_a(ws),e._currentValue=t}function Es(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ps(e,t){Ns=e,_s=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Rs(e){var t=e._currentValue;if(_s!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===Ns)throw Error(s(308));ks=e,Ns.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Ts=null;function Ls(e){null===Ts?Ts=[e]:Ts.push(e)}function Os(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,Ls(t)):(r.next=a.next,a.next=r),t.interleaved=r,As(e,n)}function As(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Ds=!1;function Fs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Is(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Ei)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,As(e,r)}return null===(a=n.interleaved)?(t.next=t,Ls(n)):(t.next=a.next,a.next=t),n.interleaved=t,As(e,r)}function Bs(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}function Us(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===s?a=s=l:s=s.next=l,r=r.next}while(null!==r);null===s?a=s=t:s=s.next=t}else a=s=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function qs(e,t,r,n){var a=e.updateQueue;Ds=!1;var s=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var i=o,c=i.next;i.next=null,null===l?s=c:l.next=c,l=i;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=i))}if(null!==s){var u=a.baseState;for(l=0,d=c=i=null,o=s;;){var m=o.lane,p=o.eventTime;if((n&m)===m){null!==d&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,h=o;switch(m=t,p=r,h.tag){case 1:if("function"===typeof(f=h.payload)){u=f.call(p,u,m);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(m="function"===typeof(f=h.payload)?f.call(p,u,m):f)||void 0===m)break e;u=z({},u,m);break e;case 2:Ds=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(m=a.effects)?a.effects=[o]:m.push(o))}else p={eventTime:p,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,i=u):d=d.next=p,l|=m;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(m=o).next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}if(null===d&&(i=u),a.baseState=i,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{l|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Fi|=l,e.lanes=l,e.memoizedState=u}}function Hs(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(s(191,a));a.call(n)}}}var Ws={},Vs=ka(Ws),Ys=ka(Ws),$s=ka(Ws);function Js(e){if(e===Ws)throw Error(s(174));return e}function Ks(e,t){switch(Sa($s,t),Sa(Ys,e),Sa(Vs,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ie(null,"");break;default:t=ie(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_a(Vs),Sa(Vs,t)}function Qs(){_a(Vs),_a(Ys),_a($s)}function Gs(e){Js($s.current);var t=Js(Vs.current),r=ie(t,e.type);t!==r&&(Sa(Ys,e),Sa(Vs,r))}function Xs(e){Ys.current===e&&(_a(Vs),_a(Ys))}var Zs=ka(0);function el(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tl=[];function rl(){for(var e=0;e<tl.length;e++)tl[e]._workInProgressVersionPrimary=null;tl.length=0}var nl=v.ReactCurrentDispatcher,al=v.ReactCurrentBatchConfig,sl=0,ll=null,ol=null,il=null,cl=!1,dl=!1,ul=0,ml=0;function pl(){throw Error(s(321))}function fl(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ln(e[r],t[r]))return!1;return!0}function hl(e,t,r,n,a,l){if(sl=l,ll=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nl.current=null===e||null===e.memoizedState?Xl:Zl,e=r(n,a),dl){l=0;do{if(dl=!1,ul=0,25<=l)throw Error(s(301));l+=1,il=ol=null,t.updateQueue=null,nl.current=eo,e=r(n,a)}while(dl)}if(nl.current=Gl,t=null!==ol&&null!==ol.next,sl=0,il=ol=ll=null,cl=!1,t)throw Error(s(300));return e}function xl(){var e=0!==ul;return ul=0,e}function gl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===il?ll.memoizedState=il=e:il=il.next=e,il}function yl(){if(null===ol){var e=ll.alternate;e=null!==e?e.memoizedState:null}else e=ol.next;var t=null===il?ll.memoizedState:il.next;if(null!==t)il=t,ol=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ol=e).memoizedState,baseState:ol.baseState,baseQueue:ol.baseQueue,queue:ol.queue,next:null},null===il?ll.memoizedState=il=e:il=il.next=e}return il}function bl(e,t){return"function"===typeof t?t(e):t}function vl(e){var t=yl(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=ol,a=n.baseQueue,l=r.pending;if(null!==l){if(null!==a){var o=a.next;a.next=l.next,l.next=o}n.baseQueue=a=l,r.pending=null}if(null!==a){l=a.next,n=n.baseState;var i=o=null,c=null,d=l;do{var u=d.lane;if((sl&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(i=c=m,o=n):c=c.next=m,ll.lanes|=u,Fi|=u}d=d.next}while(null!==d&&d!==l);null===c?o=n:c.next=i,ln(n,t.memoizedState)||(bo=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{l=a.lane,ll.lanes|=l,Fi|=l,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function jl(e){var t=yl(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,l=t.memoizedState;if(null!==a){r.pending=null;var o=a=a.next;do{l=e(l,o.action),o=o.next}while(o!==a);ln(l,t.memoizedState)||(bo=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),r.lastRenderedState=l}return[l,n]}function wl(){}function Nl(e,t){var r=ll,n=yl(),a=t(),l=!ln(n.memoizedState,a);if(l&&(n.memoizedState=a,bo=!0),n=n.queue,Dl(Sl.bind(null,r,n,e),[e]),n.getSnapshot!==t||l||null!==il&&1&il.memoizedState.tag){if(r.flags|=2048,Rl(9,_l.bind(null,r,n,a,t),void 0,null),null===Pi)throw Error(s(349));0!==(30&sl)||kl(r,t,a)}return a}function kl(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ll.updateQueue)?(t={lastEffect:null,stores:null},ll.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function _l(e,t,r,n){t.value=r,t.getSnapshot=n,Cl(t)&&El(e)}function Sl(e,t,r){return r((function(){Cl(t)&&El(e)}))}function Cl(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ln(e,r)}catch(n){return!0}}function El(e){var t=As(e,1);null!==t&&rc(t,e,1,-1)}function Pl(e){var t=gl();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:e},t.queue=e,e=e.dispatch=$l.bind(null,ll,e),[t.memoizedState,e]}function Rl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=ll.updateQueue)?(t={lastEffect:null,stores:null},ll.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Tl(){return yl().memoizedState}function Ll(e,t,r,n){var a=gl();ll.flags|=e,a.memoizedState=Rl(1|t,r,void 0,void 0===n?null:n)}function Ol(e,t,r,n){var a=yl();n=void 0===n?null:n;var s=void 0;if(null!==ol){var l=ol.memoizedState;if(s=l.destroy,null!==n&&fl(n,l.deps))return void(a.memoizedState=Rl(t,r,s,n))}ll.flags|=e,a.memoizedState=Rl(1|t,r,s,n)}function Al(e,t){return Ll(8390656,8,e,t)}function Dl(e,t){return Ol(2048,8,e,t)}function Fl(e,t){return Ol(4,2,e,t)}function zl(e,t){return Ol(4,4,e,t)}function Ml(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Il(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ol(4,4,Ml.bind(null,t,e),r)}function Bl(){}function Ul(e,t){var r=yl();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&fl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ql(e,t){var r=yl();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&fl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Hl(e,t,r){return 0===(21&sl)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=r):(ln(r,t)||(r=ht(),ll.lanes|=r,Fi|=r,e.baseState=!0),t)}function Wl(e,t){var r=bt;bt=0!==r&&4>r?r:4,e(!0);var n=al.transition;al.transition={};try{e(!1),t()}finally{bt=r,al.transition=n}}function Vl(){return yl().memoizedState}function Yl(e,t,r){var n=tc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Jl(e))Kl(t,r);else if(null!==(r=Os(e,t,r,n))){rc(r,e,n,ec()),Ql(r,t,n)}}function $l(e,t,r){var n=tc(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jl(e))Kl(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var l=t.lastRenderedState,o=s(l,r);if(a.hasEagerState=!0,a.eagerState=o,ln(o,l)){var i=t.interleaved;return null===i?(a.next=a,Ls(t)):(a.next=i.next,i.next=a),void(t.interleaved=a)}}catch(c){}null!==(r=Os(e,t,a,n))&&(rc(r,e,n,a=ec()),Ql(r,t,n))}}function Jl(e){var t=e.alternate;return e===ll||null!==t&&t===ll}function Kl(e,t){dl=cl=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ql(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}var Gl={readContext:Rs,useCallback:pl,useContext:pl,useEffect:pl,useImperativeHandle:pl,useInsertionEffect:pl,useLayoutEffect:pl,useMemo:pl,useReducer:pl,useRef:pl,useState:pl,useDebugValue:pl,useDeferredValue:pl,useTransition:pl,useMutableSource:pl,useSyncExternalStore:pl,useId:pl,unstable_isNewReconciler:!1},Xl={readContext:Rs,useCallback:function(e,t){return gl().memoizedState=[e,void 0===t?null:t],e},useContext:Rs,useEffect:Al,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ll(4194308,4,Ml.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ll(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ll(4,2,e,t)},useMemo:function(e,t){var r=gl();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=gl();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Yl.bind(null,ll,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},gl().memoizedState=e},useState:Pl,useDebugValue:Bl,useDeferredValue:function(e){return gl().memoizedState=e},useTransition:function(){var e=Pl(!1),t=e[0];return e=Wl.bind(null,e[1]),gl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ll,a=gl();if(as){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===Pi)throw Error(s(349));0!==(30&sl)||kl(n,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,Al(Sl.bind(null,n,l,e),[e]),n.flags|=2048,Rl(9,_l.bind(null,n,l,r,t),void 0,null),r},useId:function(){var e=gl(),t=Pi.identifierPrefix;if(as){var r=Ga;t=":"+t+"R"+(r=(Qa&~(1<<32-lt(Qa)-1)).toString(32)+r),0<(r=ul++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=ml++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zl={readContext:Rs,useCallback:Ul,useContext:Rs,useEffect:Dl,useImperativeHandle:Il,useInsertionEffect:Fl,useLayoutEffect:zl,useMemo:ql,useReducer:vl,useRef:Tl,useState:function(){return vl(bl)},useDebugValue:Bl,useDeferredValue:function(e){return Hl(yl(),ol.memoizedState,e)},useTransition:function(){return[vl(bl)[0],yl().memoizedState]},useMutableSource:wl,useSyncExternalStore:Nl,useId:Vl,unstable_isNewReconciler:!1},eo={readContext:Rs,useCallback:Ul,useContext:Rs,useEffect:Dl,useImperativeHandle:Il,useInsertionEffect:Fl,useLayoutEffect:zl,useMemo:ql,useReducer:jl,useRef:Tl,useState:function(){return jl(bl)},useDebugValue:Bl,useDeferredValue:function(e){var t=yl();return null===ol?t.memoizedState=e:Hl(t,ol.memoizedState,e)},useTransition:function(){return[jl(bl)[0],yl().memoizedState]},useMutableSource:wl,useSyncExternalStore:Nl,useId:Vl,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var r in t=z({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ro(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:z({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var no={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ec(),a=tc(e),s=Ms(n,a);s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Is(e,s,a))&&(rc(t,e,a,n),Bs(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ec(),a=tc(e),s=Ms(n,a);s.tag=1,s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Is(e,s,a))&&(rc(t,e,a,n),Bs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),n=tc(e),a=Ms(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Is(e,a,n))&&(rc(t,e,n,r),Bs(t,e,n))}};function ao(e,t,r,n,a,s,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,l):!t.prototype||!t.prototype.isPureReactComponent||(!on(r,n)||!on(a,s))}function so(e,t,r){var n=!1,a=Ca,s=t.contextType;return"object"===typeof s&&null!==s?s=Rs(s):(a=La(t)?Ra:Ea.current,s=(n=null!==(n=t.contextTypes)&&void 0!==n)?Ta(e,a):Ca),t=new t(r,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=no,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function lo(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function oo(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Fs(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Rs(s):(s=La(t)?Ra:Ea.current,a.context=Ta(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ro(e,t,s,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&no.enqueueReplaceState(a,a.state,null),qs(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function io(e,t){try{var r="",n=t;do{r+=U(n),n=n.return}while(n);var a=r}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function co(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var mo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,r){(r=Ms(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Wi||(Wi=!0,Vi=n),uo(0,t)},r}function fo(e,t,r){(r=Ms(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(r.callback=function(){uo(0,t),"function"!==typeof n&&(null===Yi?Yi=new Set([this]):Yi.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function ho(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new mo;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=_c.bind(null,e,t,r),t.then(e,e))}function xo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function go(e,t,r,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Ms(-1,1)).tag=2,Is(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var yo=v.ReactCurrentOwner,bo=!1;function vo(e,t,r,n){t.child=null===e?js(t,null,r,n):vs(t,e.child,r,n)}function jo(e,t,r,n,a){r=r.render;var s=t.ref;return Ps(t,a),n=hl(e,t,r,n,s,a),r=xl(),null===e||bo?(as&&r&&es(t),t.flags|=1,vo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wo(e,t,a))}function wo(e,t,r,n,a){if(null===e){var s=r.type;return"function"!==typeof s||Lc(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Ac(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,No(e,t,s,n,a))}if(s=e.child,0===(e.lanes&a)){var l=s.memoizedProps;if((r=null!==(r=r.compare)?r:on)(l,n)&&e.ref===t.ref)return Wo(e,t,a)}return t.flags|=1,(e=Oc(s,n)).ref=t.ref,e.return=t,t.child=e}function No(e,t,r,n,a){if(null!==e){var s=e.memoizedProps;if(on(s,n)&&e.ref===t.ref){if(bo=!1,t.pendingProps=n=s,0===(e.lanes&a))return t.lanes=e.lanes,Wo(e,t,a);0!==(131072&e.flags)&&(bo=!0)}}return So(e,t,r,n,a)}function ko(e,t,r){var n=t.pendingProps,a=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sa(Oi,Li),Li|=r;else{if(0===(1073741824&r))return e=null!==s?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sa(Oi,Li),Li|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:r,Sa(Oi,Li),Li|=n}else null!==s?(n=s.baseLanes|r,t.memoizedState=null):n=r,Sa(Oi,Li),Li|=n;return vo(e,t,a,r),t.child}function _o(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,r,n,a){var s=La(r)?Ra:Ea.current;return s=Ta(t,s),Ps(t,a),r=hl(e,t,r,n,s,a),n=xl(),null===e||bo?(as&&n&&es(t),t.flags|=1,vo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wo(e,t,a))}function Co(e,t,r,n,a){if(La(r)){var s=!0;Fa(t)}else s=!1;if(Ps(t,a),null===t.stateNode)Ho(e,t),so(t,r,n),oo(t,r,n,a),n=!0;else if(null===e){var l=t.stateNode,o=t.memoizedProps;l.props=o;var i=l.context,c=r.contextType;"object"===typeof c&&null!==c?c=Rs(c):c=Ta(t,c=La(r)?Ra:Ea.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof l.getSnapshotBeforeUpdate;u||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(o!==n||i!==c)&&lo(t,l,n,c),Ds=!1;var m=t.memoizedState;l.state=m,qs(t,n,l,a),i=t.memoizedState,o!==n||m!==i||Pa.current||Ds?("function"===typeof d&&(ro(t,r,d,n),i=t.memoizedState),(o=Ds||ao(t,r,o,n,m,i,c))?(u||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=i),l.props=n,l.state=i,l.context=c,n=o):("function"===typeof l.componentDidMount&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,zs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),l.props=c,u=t.pendingProps,m=l.context,"object"===typeof(i=r.contextType)&&null!==i?i=Rs(i):i=Ta(t,i=La(r)?Ra:Ea.current);var p=r.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(o!==u||m!==i)&&lo(t,l,n,i),Ds=!1,m=t.memoizedState,l.state=m,qs(t,n,l,a);var f=t.memoizedState;o!==u||m!==f||Pa.current||Ds?("function"===typeof p&&(ro(t,r,p,n),f=t.memoizedState),(c=Ds||ao(t,r,c,n,m,f,i)||!1)?(d||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(n,f,i),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(n,f,i)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),l.props=n,l.state=f,l.context=i,n=c):("function"!==typeof l.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Eo(e,t,r,n,s,a)}function Eo(e,t,r,n,a,s){_o(e,t);var l=0!==(128&t.flags);if(!n&&!l)return a&&za(t,r,!1),Wo(e,t,s);n=t.stateNode,yo.current=t;var o=l&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&l?(t.child=vs(t,e.child,null,s),t.child=vs(t,null,o,s)):vo(e,t,o,s),t.memoizedState=n.state,a&&za(t,r,!0),t.child}function Po(e){var t=e.stateNode;t.pendingContext?Aa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Aa(0,t.context,!1),Ks(e,t.containerInfo)}function Ro(e,t,r,n,a){return ps(),fs(a),t.flags|=256,vo(e,t,r,n),t.child}var To,Lo,Oo,Ao,Do={dehydrated:null,treeContext:null,retryLane:0};function Fo(e){return{baseLanes:e,cachePool:null,transitions:null}}function zo(e,t,r){var n,a=t.pendingProps,l=Zs.current,o=!1,i=0!==(128&t.flags);if((n=i)||(n=(null===e||null!==e.memoizedState)&&0!==(2&l)),n?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),Sa(Zs,1&l),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(i=a.children,e=a.fallback,o?(a=t.mode,o=t.child,i={mode:"hidden",children:i},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=i):o=Fc(i,a,0,null),e=Dc(e,a,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Fo(r),t.memoizedState=Do,e):Mo(t,i));if(null!==(l=e.memoizedState)&&null!==(n=l.dehydrated))return function(e,t,r,n,a,l,o){if(r)return 256&t.flags?(t.flags&=-257,Io(e,t,o,n=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=n.fallback,a=t.mode,n=Fc({mode:"visible",children:n.children},a,0,null),(l=Dc(l,a,o,null)).flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,0!==(1&t.mode)&&vs(t,e.child,null,o),t.child.memoizedState=Fo(o),t.memoizedState=Do,l);if(0===(1&t.mode))return Io(e,t,o,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var i=n.dgst;return n=i,Io(e,t,o,n=co(l=Error(s(419)),n,void 0))}if(i=0!==(o&e.childLanes),bo||i){if(null!==(n=Pi)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|o))?0:a)&&a!==l.retryLane&&(l.retryLane=a,As(e,a),rc(n,e,a,-1))}return hc(),Io(e,t,o,n=co(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,ns=ca(a.nextSibling),rs=t,as=!0,ss=null,null!==e&&($a[Ja++]=Qa,$a[Ja++]=Ga,$a[Ja++]=Ka,Qa=e.id,Ga=e.overflow,Ka=t),t=Mo(t,n.children),t.flags|=4096,t)}(e,t,i,a,n,l,r);if(o){o=a.fallback,i=t.mode,n=(l=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&i)&&t.child!==l?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Oc(l,c)).subtreeFlags=14680064&l.subtreeFlags,null!==n?o=Oc(n,o):(o=Dc(o,i,r,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,i=null===(i=e.child.memoizedState)?Fo(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=Do,a}return e=(o=e.child).sibling,a=Oc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Mo(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Io(e,t,r,n){return null!==n&&fs(n),vs(t,e.child,null,r),(e=Mo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Es(e.return,t,r)}function Uo(e,t,r,n,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function qo(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(vo(e,t,n.children,r),0!==(2&(n=Zs.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,r,t);else if(19===e.tag)Bo(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Sa(Zs,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===el(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Uo(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===el(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Uo(t,!0,r,null,s);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Fi|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Oc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Oc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Vo(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Yo(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function $o(e,t,r){var n=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yo(t),null;case 1:case 17:return La(t.type)&&Oa(),Yo(t),null;case 3:return n=t.stateNode,Qs(),_a(Pa),_a(Ea),rl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(lc(ss),ss=null))),Lo(e,t),Yo(t),null;case 5:Xs(t);var a=Js($s.current);if(r=t.type,null!==e&&null!=t.stateNode)Oo(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(s(166));return Yo(t),null}if(e=Js(Vs.current),us(t)){n=t.stateNode,r=t.type;var l=t.memoizedProps;switch(n[ma]=t,n[pa]=l,e=0!==(1&t.mode),r){case"dialog":In("cancel",n),In("close",n);break;case"iframe":case"object":case"embed":In("load",n);break;case"video":case"audio":for(a=0;a<Dn.length;a++)In(Dn[a],n);break;case"source":In("error",n);break;case"img":case"image":case"link":In("error",n),In("load",n);break;case"details":In("toggle",n);break;case"input":Q(n,l),In("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},In("invalid",n);break;case"textarea":ae(n,l),In("invalid",n)}for(var i in ye(r,l),a=null,l)if(l.hasOwnProperty(i)){var c=l[i];"children"===i?"string"===typeof c?n.textContent!==c&&(!0!==l.suppressHydrationWarning&&Xn(n.textContent,c,e),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==l.suppressHydrationWarning&&Xn(n.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(i)&&null!=c&&"onScroll"===i&&In("scroll",n)}switch(r){case"input":Y(n),Z(n,l,!0);break;case"textarea":Y(n),le(n);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(n.onclick=Zn)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{i=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),"select"===r&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[ma]=t,e[pa]=n,To(e,t,!1,!1),t.stateNode=e;e:{switch(i=be(r,n),r){case"dialog":In("cancel",e),In("close",e),a=n;break;case"iframe":case"object":case"embed":In("load",e),a=n;break;case"video":case"audio":for(a=0;a<Dn.length;a++)In(Dn[a],e);a=n;break;case"source":In("error",e),a=n;break;case"img":case"image":case"link":In("error",e),In("load",e),a=n;break;case"details":In("toggle",e),a=n;break;case"input":Q(e,n),a=K(e,n),In("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=z({},n,{value:void 0}),In("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),In("invalid",e)}for(l in ye(r,a),c=a)if(c.hasOwnProperty(l)){var d=c[l];"style"===l?xe(e,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===l?"string"===typeof d?("textarea"!==r||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(o.hasOwnProperty(l)?null!=d&&"onScroll"===l&&In("scroll",e):null!=d&&b(e,l,d,i))}switch(r){case"input":Y(e),Z(e,n,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=n.value&&e.setAttribute("value",""+W(n.value));break;case"select":e.multiple=!!n.multiple,null!=(l=n.value)?re(e,!!n.multiple,l,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Yo(t),null;case 6:if(e&&null!=t.stateNode)Ao(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(r=Js($s.current),Js(Vs.current),us(t)){if(n=t.stateNode,r=t.memoizedProps,n[ma]=t,(l=n.nodeValue!==r)&&null!==(e=rs))switch(e.tag){case 3:Xn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xn(n.nodeValue,r,0!==(1&e.mode))}l&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[ma]=t,t.stateNode=n}return Yo(t),null;case 13:if(_a(Zs),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==ns&&0!==(1&t.mode)&&0===(128&t.flags))ms(),ps(),t.flags|=98560,l=!1;else if(l=us(t),null!==n&&null!==n.dehydrated){if(null===e){if(!l)throw Error(s(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(s(317));l[ma]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yo(t),l=!1}else null!==ss&&(lc(ss),ss=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ai&&(Ai=3):hc())),null!==t.updateQueue&&(t.flags|=4),Yo(t),null);case 4:return Qs(),Lo(e,t),null===e&&qn(t.stateNode.containerInfo),Yo(t),null;case 10:return Cs(t.type._context),Yo(t),null;case 19:if(_a(Zs),null===(l=t.memoizedState))return Yo(t),null;if(n=0!==(128&t.flags),null===(i=l.rendering))if(n)Vo(l,!1);else{if(0!==Ai||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=el(e))){for(t.flags|=128,Vo(l,!1),null!==(n=i.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(l=r).flags&=14680066,null===(i=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Sa(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==l.tail&&Ge()>qi&&(t.flags|=128,n=!0,Vo(l,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=el(i))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Vo(l,!0),null===l.tail&&"hidden"===l.tailMode&&!i.alternate&&!as)return Yo(t),null}else 2*Ge()-l.renderingStartTime>qi&&1073741824!==r&&(t.flags|=128,n=!0,Vo(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(null!==(r=l.last)?r.sibling=i:t.child=i,l.last=i)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ge(),t.sibling=null,r=Zs.current,Sa(Zs,n?1&r|2:1&r),t):(Yo(t),null);case 22:case 23:return uc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Li)&&(Yo(t),6&t.subtreeFlags&&(t.flags|=8192)):Yo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Jo(e,t){switch(ts(t),t.tag){case 1:return La(t.type)&&Oa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qs(),_a(Pa),_a(Ea),rl(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(_a(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _a(Zs),null;case 4:return Qs(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}To=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Lo=function(){},Oo=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Js(Vs.current);var s,l=null;switch(r){case"input":a=K(e,a),n=K(e,n),l=[];break;case"select":a=z({},a,{value:void 0}),n=z({},n,{value:void 0}),l=[];break;case"textarea":a=ne(e,a),n=ne(e,n),l=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=Zn)}for(d in ye(r,n),r=null,a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var i=a[d];for(s in i)i.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in n){var c=n[d];if(i=null!=a?a[d]:void 0,n.hasOwnProperty(d)&&c!==i&&(null!=c||null!=i))if("style"===d)if(i){for(s in i)!i.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&i[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(l||(l=[]),l.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,i=i?i.__html:void 0,null!=c&&i!==c&&(l=l||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&In("scroll",e),l||i===c||(l=[])):(l=l||[]).push(d,c))}r&&(l=l||[]).push("style",r);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},Ao=function(e,t,r,n){r!==n&&(t.flags|=4)};var Ko=!1,Qo=!1,Go="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Zo(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){kc(e,t,n)}else r.current=null}function ei(e,t,r){try{r()}catch(n){kc(e,t,n)}}var ti=!1;function ri(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&ei(t,r,s)}a=a.next}while(a!==n)}}function ni(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ai(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function si(e){var t=e.alternate;null!==t&&(e.alternate=null,si(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ma],delete t[pa],delete t[ha],delete t[xa],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function li(e){return 5===e.tag||3===e.tag||4===e.tag}function oi(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||li(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ii(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(ii(e,t,r),e=e.sibling;null!==e;)ii(e,t,r),e=e.sibling}function ci(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(ci(e,t,r),e=e.sibling;null!==e;)ci(e,t,r),e=e.sibling}var di=null,ui=!1;function mi(e,t,r){for(r=r.child;null!==r;)pi(e,t,r),r=r.sibling}function pi(e,t,r){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,r)}catch(o){}switch(r.tag){case 5:Qo||Zo(r,t);case 6:var n=di,a=ui;di=null,mi(e,t,r),ui=a,null!==(di=n)&&(ui?(e=di,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):di.removeChild(r.stateNode));break;case 18:null!==di&&(ui?(e=di,r=r.stateNode,8===e.nodeType?ia(e.parentNode,r):1===e.nodeType&&ia(e,r),qt(e)):ia(di,r.stateNode));break;case 4:n=di,a=ui,di=r.stateNode.containerInfo,ui=!0,mi(e,t,r),di=n,ui=a;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var s=a,l=s.destroy;s=s.tag,void 0!==l&&(0!==(2&s)||0!==(4&s))&&ei(r,t,l),a=a.next}while(a!==n)}mi(e,t,r);break;case 1:if(!Qo&&(Zo(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){kc(r,t,o)}mi(e,t,r);break;case 21:mi(e,t,r);break;case 22:1&r.mode?(Qo=(n=Qo)||null!==r.memoizedState,mi(e,t,r),Qo=n):mi(e,t,r);break;default:mi(e,t,r)}}function fi(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Go),t.forEach((function(t){var n=Ec.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function hi(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var l=e,o=t,i=o;e:for(;null!==i;){switch(i.tag){case 5:di=i.stateNode,ui=!1;break e;case 3:case 4:di=i.stateNode.containerInfo,ui=!0;break e}i=i.return}if(null===di)throw Error(s(160));pi(l,o,a),di=null,ui=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){kc(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xi(t,e),t=t.sibling}function xi(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hi(t,e),gi(e),4&n){try{ri(3,e,e.return),ni(3,e)}catch(x){kc(e,e.return,x)}try{ri(5,e,e.return)}catch(x){kc(e,e.return,x)}}break;case 1:hi(t,e),gi(e),512&n&&null!==r&&Zo(r,r.return);break;case 5:if(hi(t,e),gi(e),512&n&&null!==r&&Zo(r,r.return),32&e.flags){var a=e.stateNode;try{me(a,"")}catch(x){kc(e,e.return,x)}}if(4&n&&null!=(a=e.stateNode)){var l=e.memoizedProps,o=null!==r?r.memoizedProps:l,i=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===i&&"radio"===l.type&&null!=l.name&&G(a,l),be(i,o);var d=be(i,l);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];"style"===u?xe(a,m):"dangerouslySetInnerHTML"===u?ue(a,m):"children"===u?me(a,m):b(a,u,m,d)}switch(i){case"input":X(a,l);break;case"textarea":se(a,l);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var f=l.value;null!=f?re(a,!!l.multiple,f,!1):p!==!!l.multiple&&(null!=l.defaultValue?re(a,!!l.multiple,l.defaultValue,!0):re(a,!!l.multiple,l.multiple?[]:"",!1))}a[pa]=l}catch(x){kc(e,e.return,x)}}break;case 6:if(hi(t,e),gi(e),4&n){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(x){kc(e,e.return,x)}}break;case 3:if(hi(t,e),gi(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(x){kc(e,e.return,x)}break;case 4:default:hi(t,e),gi(e);break;case 13:hi(t,e),gi(e),8192&(a=e.child).flags&&(l=null!==a.memoizedState,a.stateNode.isHidden=l,!l||null!==a.alternate&&null!==a.alternate.memoizedState||(Ui=Ge())),4&n&&fi(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?(Qo=(d=Qo)||u,hi(t,e),Qo=d):hi(t,e),gi(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Xo=e,u=e.child;null!==u;){for(m=Xo=u;null!==Xo;){switch(f=(p=Xo).child,p.tag){case 0:case 11:case 14:case 15:ri(4,p,p.return);break;case 1:Zo(p,p.return);var h=p.stateNode;if("function"===typeof h.componentWillUnmount){n=p,r=p.return;try{t=n,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(x){kc(n,r,x)}}break;case 5:Zo(p,p.return);break;case 22:if(null!==p.memoizedState){ji(m);continue}}null!==f?(f.return=p,Xo=f):ji(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{a=m.stateNode,d?"function"===typeof(l=a.style).setProperty?l.setProperty("display","none","important"):l.display="none":(i=m.stateNode,o=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,i.style.display=he("display",o))}catch(x){kc(e,e.return,x)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(x){kc(e,e.return,x)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:hi(t,e),gi(e),4&n&&fi(e);case 21:}}function gi(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(li(r)){var n=r;break e}r=r.return}throw Error(s(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(me(a,""),n.flags&=-33),ci(e,oi(e),a);break;case 3:case 4:var l=n.stateNode.containerInfo;ii(e,oi(e),l);break;default:throw Error(s(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yi(e,t,r){Xo=e,bi(e,t,r)}function bi(e,t,r){for(var n=0!==(1&e.mode);null!==Xo;){var a=Xo,s=a.child;if(22===a.tag&&n){var l=null!==a.memoizedState||Ko;if(!l){var o=a.alternate,i=null!==o&&null!==o.memoizedState||Qo;o=Ko;var c=Qo;if(Ko=l,(Qo=i)&&!c)for(Xo=a;null!==Xo;)i=(l=Xo).child,22===l.tag&&null!==l.memoizedState?wi(a):null!==i?(i.return=l,Xo=i):wi(a);for(;null!==s;)Xo=s,bi(s,t,r),s=s.sibling;Xo=a,Ko=o,Qo=c}vi(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Xo=s):vi(e)}}function vi(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||ni(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Qo)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:to(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&Hs(t,l,n);break;case 3:var o=t.updateQueue;if(null!==o){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Hs(t,o,r)}break;case 5:var i=t.stateNode;if(null===r&&4&t.flags){r=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&qt(m)}}}break;default:throw Error(s(163))}Qo||512&t.flags&&ai(t)}catch(p){kc(t,t.return,p)}}if(t===e){Xo=null;break}if(null!==(r=t.sibling)){r.return=t.return,Xo=r;break}Xo=t.return}}function ji(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Xo=r;break}Xo=t.return}}function wi(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ni(4,t)}catch(i){kc(t,r,i)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(i){kc(t,a,i)}}var s=t.return;try{ai(t)}catch(i){kc(t,s,i)}break;case 5:var l=t.return;try{ai(t)}catch(i){kc(t,l,i)}}}catch(i){kc(t,t.return,i)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var Ni,ki=Math.ceil,_i=v.ReactCurrentDispatcher,Si=v.ReactCurrentOwner,Ci=v.ReactCurrentBatchConfig,Ei=0,Pi=null,Ri=null,Ti=0,Li=0,Oi=ka(0),Ai=0,Di=null,Fi=0,zi=0,Mi=0,Ii=null,Bi=null,Ui=0,qi=1/0,Hi=null,Wi=!1,Vi=null,Yi=null,$i=!1,Ji=null,Ki=0,Qi=0,Gi=null,Xi=-1,Zi=0;function ec(){return 0!==(6&Ei)?Ge():-1!==Xi?Xi:Xi=Ge()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ei)&&0!==Ti?Ti&-Ti:null!==hs.transition?(0===Zi&&(Zi=ht()),Zi):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function rc(e,t,r,n){if(50<Qi)throw Qi=0,Gi=null,Error(s(185));gt(e,r,n),0!==(2&Ei)&&e===Pi||(e===Pi&&(0===(2&Ei)&&(zi|=r),4===Ai&&oc(e,Ti)),nc(e,n),1===r&&0===Ei&&0===(1&t.mode)&&(qi=Ge()+500,Ia&&qa()))}function nc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-lt(s),o=1<<l,i=a[l];-1===i?0!==(o&r)&&0===(o&n)||(a[l]=pt(o,t)):i<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var n=mt(e,e===Pi?Ti:0);if(0===n)null!==r&&Je(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Je(r),1===t)0===e.tag?function(e){Ia=!0,Ua(e)}(ic.bind(null,e)):Ua(ic.bind(null,e)),la((function(){0===(6&Ei)&&qa()})),r=null;else{switch(vt(n)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Pc(r,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ac(e,t){if(Xi=-1,Zi=0,0!==(6&Ei))throw Error(s(327));var r=e.callbackNode;if(wc()&&e.callbackNode!==r)return null;var n=mt(e,e===Pi?Ti:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=xc(e,n);else{t=n;var a=Ei;Ei|=2;var l=fc();for(Pi===e&&Ti===t||(Hi=null,qi=Ge()+500,mc(e,t));;)try{yc();break}catch(i){pc(e,i)}Ss(),_i.current=l,Ei=a,null!==Ri?t=0:(Pi=null,Ti=0,t=Ai)}if(0!==t){if(2===t&&(0!==(a=ft(e))&&(n=a,t=sc(e,a))),1===t)throw r=Di,mc(e,0),oc(e,n),nc(e,Ge()),r;if(6===t)oc(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!ln(s(),a))return!1}catch(o){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=xc(e,n))&&(0!==(l=ft(e))&&(n=l,t=sc(e,l))),1===t))throw r=Di,mc(e,0),oc(e,n),nc(e,Ge()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(s(345));case 2:case 5:jc(e,Bi,Hi);break;case 3:if(oc(e,n),(130023424&n)===n&&10<(t=Ui+500-Ge())){if(0!==mt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=na(jc.bind(null,e,Bi,Hi),t);break}jc(e,Bi,Hi);break;case 4:if(oc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-lt(n);l=1<<o,(o=t[o])>a&&(a=o),n&=~l}if(n=a,10<(n=(120>(n=Ge()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ki(n/1960))-n)){e.timeoutHandle=na(jc.bind(null,e,Bi,Hi),n);break}jc(e,Bi,Hi);break;default:throw Error(s(329))}}}return nc(e,Ge()),e.callbackNode===r?ac.bind(null,e):null}function sc(e,t){var r=Ii;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=xc(e,t))&&(t=Bi,Bi=r,null!==t&&lc(t)),e}function lc(e){null===Bi?Bi=e:Bi.push.apply(Bi,e)}function oc(e,t){for(t&=~Mi,t&=~zi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-lt(t),n=1<<r;e[r]=-1,t&=~n}}function ic(e){if(0!==(6&Ei))throw Error(s(327));wc();var t=mt(e,0);if(0===(1&t))return nc(e,Ge()),null;var r=xc(e,t);if(0!==e.tag&&2===r){var n=ft(e);0!==n&&(t=n,r=sc(e,n))}if(1===r)throw r=Di,mc(e,0),oc(e,t),nc(e,Ge()),r;if(6===r)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Bi,Hi),nc(e,Ge()),null}function cc(e,t){var r=Ei;Ei|=1;try{return e(t)}finally{0===(Ei=r)&&(qi=Ge()+500,Ia&&qa())}}function dc(e){null!==Ji&&0===Ji.tag&&0===(6&Ei)&&wc();var t=Ei;Ei|=1;var r=Ci.transition,n=bt;try{if(Ci.transition=null,bt=1,e)return e()}finally{bt=n,Ci.transition=r,0===(6&(Ei=t))&&qa()}}function uc(){Li=Oi.current,_a(Oi)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,aa(r)),null!==Ri)for(r=Ri.return;null!==r;){var n=r;switch(ts(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Oa();break;case 3:Qs(),_a(Pa),_a(Ea),rl();break;case 5:Xs(n);break;case 4:Qs();break;case 13:case 19:_a(Zs);break;case 10:Cs(n.type._context);break;case 22:case 23:uc()}r=r.return}if(Pi=e,Ri=e=Oc(e.current,null),Ti=Li=t,Ai=0,Di=null,Mi=zi=Fi=0,Bi=Ii=null,null!==Ts){for(t=0;t<Ts.length;t++)if(null!==(n=(r=Ts[t]).interleaved)){r.interleaved=null;var a=n.next,s=r.pending;if(null!==s){var l=s.next;s.next=a,n.next=l}r.pending=n}Ts=null}return e}function pc(e,t){for(;;){var r=Ri;try{if(Ss(),nl.current=Gl,cl){for(var n=ll.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}cl=!1}if(sl=0,il=ol=ll=null,dl=!1,ul=0,Si.current=null,null===r||null===r.return){Ai=1,Di=t,Ri=null;break}e:{var l=e,o=r.return,i=r,c=t;if(t=Ti,i.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=i,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=xo(o);if(null!==f){f.flags&=-257,go(f,o,i,0,t),1&f.mode&&ho(l,d,t),c=d;var h=(t=f).updateQueue;if(null===h){var x=new Set;x.add(c),t.updateQueue=x}else h.add(c);break e}if(0===(1&t)){ho(l,d,t),hc();break e}c=Error(s(426))}else if(as&&1&i.mode){var g=xo(o);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),go(g,o,i,0,t),fs(io(c,i));break e}}l=c=io(c,i),4!==Ai&&(Ai=2),null===Ii?Ii=[l]:Ii.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Us(l,po(0,c,t));break e;case 1:i=c;var y=l.type,b=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Yi||!Yi.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,Us(l,fo(l,i,t));break e}}l=l.return}while(null!==l)}vc(r)}catch(v){t=v,Ri===r&&null!==r&&(Ri=r=r.return);continue}break}}function fc(){var e=_i.current;return _i.current=Gl,null===e?Gl:e}function hc(){0!==Ai&&3!==Ai&&2!==Ai||(Ai=4),null===Pi||0===(268435455&Fi)&&0===(268435455&zi)||oc(Pi,Ti)}function xc(e,t){var r=Ei;Ei|=2;var n=fc();for(Pi===e&&Ti===t||(Hi=null,mc(e,t));;)try{gc();break}catch(a){pc(e,a)}if(Ss(),Ei=r,_i.current=n,null!==Ri)throw Error(s(261));return Pi=null,Ti=0,Ai}function gc(){for(;null!==Ri;)bc(Ri)}function yc(){for(;null!==Ri&&!Ke();)bc(Ri)}function bc(e){var t=Ni(e.alternate,e,Li);e.memoizedProps=e.pendingProps,null===t?vc(e):Ri=t,Si.current=null}function vc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=$o(r,t,Li)))return void(Ri=r)}else{if(null!==(r=Jo(r,t)))return r.flags&=32767,void(Ri=r);if(null===e)return Ai=6,void(Ri=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ri=t);Ri=t=e}while(null!==t);0===Ai&&(Ai=5)}function jc(e,t,r){var n=bt,a=Ci.transition;try{Ci.transition=null,bt=1,function(e,t,r,n){do{wc()}while(null!==Ji);if(0!==(6&Ei))throw Error(s(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-lt(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}(e,l),e===Pi&&(Ri=Pi=null,Ti=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||$i||($i=!0,Pc(tt,(function(){return wc(),null}))),l=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||l){l=Ci.transition,Ci.transition=null;var o=bt;bt=1;var i=Ei;Ei|=4,Si.current=null,function(e,t){if(ea=Wt,pn(e=mn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch(j){r=null;break e}var o=0,i=-1,c=-1,d=0,u=0,m=e,p=null;t:for(;;){for(var f;m!==r||0!==a&&3!==m.nodeType||(i=o+a),m!==l||0!==n&&3!==m.nodeType||(c=o+n),3===m.nodeType&&(o+=m.nodeValue.length),null!==(f=m.firstChild);)p=m,m=f;for(;;){if(m===e)break t;if(p===r&&++d===a&&(i=o),p===l&&++u===n&&(c=o),null!==(f=m.nextSibling))break;p=(m=p).parentNode}m=f}r=-1===i||-1===c?null:{start:i,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ta={focusedElem:e,selectionRange:r},Wt=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var h=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==h){var x=h.memoizedProps,g=h.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:to(t.type,x),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(s(163))}}catch(j){kc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}h=ti,ti=!1}(e,r),xi(r,e),fn(ta),Wt=!!ea,ta=ea=null,e.current=r,yi(r,e,a),Qe(),Ei=i,bt=o,Ci.transition=l}else e.current=r;if($i&&($i=!1,Ji=e,Ki=a),l=e.pendingLanes,0===l&&(Yi=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nc(e,Ge()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Wi)throw Wi=!1,e=Vi,Vi=null,e;0!==(1&Ki)&&0!==e.tag&&wc(),l=e.pendingLanes,0!==(1&l)?e===Gi?Qi++:(Qi=0,Gi=e):Qi=0,qa()}(e,t,r,n)}finally{Ci.transition=a,bt=n}return null}function wc(){if(null!==Ji){var e=vt(Ki),t=Ci.transition,r=bt;try{if(Ci.transition=null,bt=16>e?16:e,null===Ji)var n=!1;else{if(e=Ji,Ji=null,Ki=0,0!==(6&Ei))throw Error(s(331));var a=Ei;for(Ei|=4,Xo=e.current;null!==Xo;){var l=Xo,o=l.child;if(0!==(16&Xo.flags)){var i=l.deletions;if(null!==i){for(var c=0;c<i.length;c++){var d=i[c];for(Xo=d;null!==Xo;){var u=Xo;switch(u.tag){case 0:case 11:case 15:ri(8,u,l)}var m=u.child;if(null!==m)m.return=u,Xo=m;else for(;null!==Xo;){var p=(u=Xo).sibling,f=u.return;if(si(u),u===d){Xo=null;break}if(null!==p){p.return=f,Xo=p;break}Xo=f}}}var h=l.alternate;if(null!==h){var x=h.child;if(null!==x){h.child=null;do{var g=x.sibling;x.sibling=null,x=g}while(null!==x)}}Xo=l}}if(0!==(2064&l.subtreeFlags)&&null!==o)o.return=l,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(l=Xo).flags))switch(l.tag){case 0:case 11:case 15:ri(9,l,l.return)}var y=l.sibling;if(null!==y){y.return=l.return,Xo=y;break e}Xo=l.return}}var b=e.current;for(Xo=b;null!==Xo;){var v=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==v)v.return=o,Xo=v;else e:for(o=b;null!==Xo;){if(0!==(2048&(i=Xo).flags))try{switch(i.tag){case 0:case 11:case 15:ni(9,i)}}catch(w){kc(i,i.return,w)}if(i===o){Xo=null;break e}var j=i.sibling;if(null!==j){j.return=i.return,Xo=j;break e}Xo=i.return}}if(Ei=a,qa(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(w){}n=!0}return n}finally{bt=r,Ci.transition=t}}return!1}function Nc(e,t,r){e=Is(e,t=po(0,t=io(r,t),1),1),t=ec(),null!==e&&(gt(e,1,t),nc(e,t))}function kc(e,t,r){if(3===e.tag)Nc(e,e,r);else for(;null!==t;){if(3===t.tag){Nc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Yi||!Yi.has(n))){t=Is(t,e=fo(t,e=io(r,e),1),1),e=ec(),null!==t&&(gt(t,1,e),nc(t,e));break}}t=t.return}}function _c(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,Pi===e&&(Ti&r)===r&&(4===Ai||3===Ai&&(130023424&Ti)===Ti&&500>Ge()-Ui?mc(e,0):Mi|=r),nc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var r=ec();null!==(e=As(e,t))&&(gt(e,t,r),nc(e,r))}function Cc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Sc(e,r)}function Ec(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(t),Sc(e,r)}function Pc(e,t){return $e(e,t)}function Rc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,r,n){return new Rc(e,t,r,n)}function Lc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var r=e.alternate;return null===r?((r=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ac(e,t,r,n,a,l){var o=2;if(n=e,"function"===typeof e)Lc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Dc(r.children,a,l,t);case k:o=8,a|=8;break;case _:return(e=Tc(12,r,t,2|a)).elementType=_,e.lanes=l,e;case P:return(e=Tc(13,r,t,a)).elementType=P,e.lanes=l,e;case R:return(e=Tc(19,r,t,a)).elementType=R,e.lanes=l,e;case O:return Fc(r,a,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case C:o=9;break e;case E:o=11;break e;case T:o=14;break e;case L:o=16,n=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Tc(o,r,t,a)).elementType=e,t.type=n,t.lanes=l,t}function Dc(e,t,r,n){return(e=Tc(7,e,n,t)).lanes=r,e}function Fc(e,t,r,n){return(e=Tc(22,e,n,t)).elementType=O,e.lanes=r,e.stateNode={isHidden:!1},e}function zc(e,t,r){return(e=Tc(6,e,null,t)).lanes=r,e}function Mc(e,t,r){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ic(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xt(0),this.expirationTimes=xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Bc(e,t,r,n,a,s,l,o,i){return e=new Ic(e,t,r,o,i),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Tc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fs(s),e}function Uc(e){if(!e)return Ca;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(La(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var r=e.type;if(La(r))return Da(e,r,t)}return t}function qc(e,t,r,n,a,s,l,o,i){return(e=Bc(r,n,!0,e,0,s,0,o,i)).context=Uc(null),r=e.current,(s=Ms(n=ec(),a=tc(r))).callback=void 0!==t&&null!==t?t:null,Is(r,s,a),e.current.lanes=a,gt(e,a,n),nc(e,n),e}function Hc(e,t,r,n){var a=t.current,s=ec(),l=tc(a);return r=Uc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Ms(s,l)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Is(a,t,l))&&(rc(e,a,l,s),Bs(e,a,l)),l}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Yc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}Ni=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pa.current)bo=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return bo=!1,function(e,t,r){switch(t.tag){case 3:Po(t),ps();break;case 5:Gs(t);break;case 1:La(t.type)&&Fa(t);break;case 4:Ks(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Sa(ws,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Sa(Zs,1&Zs.current),t.flags|=128,null):0!==(r&t.child.childLanes)?zo(e,t,r):(Sa(Zs,1&Zs.current),null!==(e=Wo(e,t,r))?e.sibling:null);Sa(Zs,1&Zs.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return qo(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Sa(Zs,Zs.current),n)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,r)}return Wo(e,t,r)}(e,t,r);bo=0!==(131072&e.flags)}else bo=!1,as&&0!==(1048576&t.flags)&&Za(t,Ya,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ho(e,t),e=t.pendingProps;var a=Ta(t,Ea.current);Ps(t,r),a=hl(null,t,n,e,a,r);var l=xl();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,La(n)?(l=!0,Fa(t)):l=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Fs(t),a.updater=no,t.stateNode=a,a._reactInternals=t,oo(t,n,e,r),t=Eo(null,t,n,!0,l,r)):(t.tag=0,as&&l&&es(t),vo(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return Lc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===T)return 14}return 2}(n),e=to(n,e),a){case 0:t=So(null,t,n,e,r);break e;case 1:t=Co(null,t,n,e,r);break e;case 11:t=jo(null,t,n,e,r);break e;case 14:t=wo(null,t,n,to(n.type,e),r);break e}throw Error(s(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,So(e,t,n,a=t.elementType===n?a:to(n,a),r);case 1:return n=t.type,a=t.pendingProps,Co(e,t,n,a=t.elementType===n?a:to(n,a),r);case 3:e:{if(Po(t),null===e)throw Error(s(387));n=t.pendingProps,a=(l=t.memoizedState).element,zs(e,t),qs(t,n,null,r);var o=t.memoizedState;if(n=o.element,l.isDehydrated){if(l={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Ro(e,t,n,r,a=io(Error(s(423)),t));break e}if(n!==a){t=Ro(e,t,n,r,a=io(Error(s(424)),t));break e}for(ns=ca(t.stateNode.containerInfo.firstChild),rs=t,as=!0,ss=null,r=js(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(ps(),n===a){t=Wo(e,t,r);break e}vo(e,t,n,r)}t=t.child}return t;case 5:return Gs(t),null===e&&cs(t),n=t.type,a=t.pendingProps,l=null!==e?e.memoizedProps:null,o=a.children,ra(n,a)?o=null:null!==l&&ra(n,l)&&(t.flags|=32),_o(e,t),vo(e,t,o,r),t.child;case 6:return null===e&&cs(t),null;case 13:return zo(e,t,r);case 4:return Ks(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=vs(t,null,n,r):vo(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,jo(e,t,n,a=t.elementType===n?a:to(n,a),r);case 7:return vo(e,t,t.pendingProps,r),t.child;case 8:case 12:return vo(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,l=t.memoizedProps,o=a.value,Sa(ws,n._currentValue),n._currentValue=o,null!==l)if(ln(l.value,o)){if(l.children===a.children&&!Pa.current){t=Wo(e,t,r);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var i=l.dependencies;if(null!==i){o=l.child;for(var c=i.firstContext;null!==c;){if(c.context===n){if(1===l.tag){(c=Ms(-1,r&-r)).tag=2;var d=l.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=r,null!==(c=l.alternate)&&(c.lanes|=r),Es(l.return,r,t),i.lanes|=r;break}c=c.next}}else if(10===l.tag)o=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(o=l.return))throw Error(s(341));o.lanes|=r,null!==(i=o.alternate)&&(i.lanes|=r),Es(o,r,t),o=l.sibling}else o=l.child;if(null!==o)o.return=l;else for(o=l;null!==o;){if(o===t){o=null;break}if(null!==(l=o.sibling)){l.return=o.return,o=l;break}o=o.return}l=o}vo(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ps(t,r),n=n(a=Rs(a)),t.flags|=1,vo(e,t,n,r),t.child;case 14:return a=to(n=t.type,t.pendingProps),wo(e,t,n,a=to(n.type,a),r);case 15:return No(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:to(n,a),Ho(e,t),t.tag=1,La(n)?(e=!0,Fa(t)):e=!1,Ps(t,r),so(t,n,a),oo(t,n,a,r),Eo(null,t,n,!0,e,r);case 19:return qo(e,t,r);case 22:return ko(e,t,r)}throw Error(s(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,r,n,a){var s=r._reactRootContainer;if(s){var l=s;if("function"===typeof a){var o=a;a=function(){var e=Wc(l);o.call(e)}}Hc(t,l,e,a)}else l=function(e,t,r,n,a){if(a){if("function"===typeof n){var s=n;n=function(){var e=Wc(l);s.call(e)}}var l=qc(t,n,e,0,null,!1,0,"",Xc);return e._reactRootContainer=l,e[fa]=l.current,qn(8===e.nodeType?e.parentNode:e),dc(),l}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var o=n;n=function(){var e=Wc(i);o.call(e)}}var i=Bc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=i,e[fa]=i.current,qn(8===e.nodeType?e.parentNode:e),dc((function(){Hc(t,i,r,n)})),i}(r,t,e,a,n);return Wc(l)}Kc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Kc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Hc(null,e,null,null)})),t[fa]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ot.length&&0!==t&&t<Ot[r].priority;r++);Ot.splice(r,0,e),0===r&&zt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ut(t.pendingLanes);0!==r&&(yt(t,1|r),nc(t,Ge()),0===(6&Ei)&&(qi=Ge()+500,qa()))}break;case 13:dc((function(){var t=As(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}})),Yc(e,1)}},wt=function(e){if(13===e.tag){var t=As(e,134217728);if(null!==t)rc(t,e,134217728,ec());Yc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),r=As(e,t);if(null!==r)rc(r,e,t,ec());Yc(e,t)}},kt=function(){return bt},_t=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},we=function(e,t,r){switch(t){case"input":if(X(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=ja(n);if(!a)throw Error(s(90));$(n),X(n,a)}}}break;case"textarea":se(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ee=cc,Pe=dc;var ed={usingClientEntryPoint:!1,Events:[ba,va,ja,Se,Ce,cc]},td={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{at=nd.inject(rd),st=nd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(s(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Qc(e))throw Error(s(299));var r=!1,n="",a=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Bc(e,1,!1,null,0,r,0,n,a),e[fa]=t.current,qn(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,r){if(!Gc(t))throw Error(s(200));return Zc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Qc(e))throw Error(s(405));var n=null!=r&&r.hydratedSources||null,a=!1,l="",o=$c;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(l=r.identifierPrefix),void 0!==r.onRecoverableError&&(o=r.onRecoverableError)),t=qc(t,null,e,1,null!=r?r:null,a,0,l,o),e[fa]=t.current,qn(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Kc(t)},t.render=function(e,t,r){if(!Gc(t))throw Error(s(200));return Zc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Gc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fa]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Gc(r))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,r)=>{var n=r(950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},950:(e,t,r)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(730)},153:(e,t,r)=>{var n=r(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,s={},c=null,d=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,n)&&!i.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),i=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,x={};function g(e,t,r){this.props=e,this.context=t,this.refs=x,this.updater=r||f}function y(){}function b(e,t,r){this.props=e,this.context=t,this.refs=x,this.updater=r||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var v=b.prototype=new y;v.constructor=b,h(v,g.prototype),v.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var a,s={},l=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(l=""+t.key),t)w.call(t,a)&&!k.hasOwnProperty(a)&&(s[a]=t[a]);var i=arguments.length-2;if(1===i)s.children=n;else if(1<i){for(var c=Array(i),d=0;d<i;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in i=e.defaultProps)void 0===s[a]&&(s[a]=i[a]);return{$$typeof:r,type:e,key:l,ref:o,props:s,_owner:N.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,a,s,l){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var i=!1;if(null===e)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case r:case n:i=!0}}if(i)return l=l(i=e),e=""===s?"."+E(i,0):s,j(l)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),P(l,t,a,"",(function(e){return e}))):null!=l&&(S(l)&&(l=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,a+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(C,"$&/")+"/")+e)),t.push(l)),1;if(i=0,s=""===s?".":s+":",j(e))for(var c=0;c<e.length;c++){var d=s+E(o=e[c],c);i+=P(o,t,a,d,l)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)i+=P(o=o.value,t,a,d=s+E(o,c++),l);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function R(e,t,r){if(null==e)return e;var n=[],a=0;return P(e,n,"","",(function(e){return t.call(r,e,a++)})),n}function T(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},O={transition:null},A={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:O,ReactCurrentOwner:N};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,r){R(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=l,t.PureComponent=b,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.act=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=h({},e.props),s=e.key,l=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,o=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)w.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==i?i[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){i=Array(c);for(var d=0;d<c;d++)i[d]=arguments[d+2];a.children=i}return{$$typeof:r,type:e.type,key:s,ref:l,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:i,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,r){return L.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,r){return L.current.useReducer(e,t,r)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return L.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},43:(e,t,r)=>{e.exports=r(202)},579:(e,t,r)=>{e.exports=r(153)},234:(e,t)=>{function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<s(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,l=a>>>1;n<l;){var o=2*(n+1)-1,i=e[o],c=o+1,d=e[c];if(0>s(i,r))c<a&&0>s(d,i)?(e[n]=d,e[c]=r,n=c):(e[n]=i,e[o]=r,n=o);else{if(!(c<a&&0>s(d,r)))break e;e[n]=d,e[c]=r,n=c}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var o=Date,i=o.now();t.unstable_now=function(){return o.now()-i}}var c=[],d=[],u=1,m=null,p=3,f=!1,h=!1,x=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=n(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,r(c,t)}t=n(d)}}function j(e){if(x=!1,v(e),!h)if(null!==n(c))h=!0,O(w);else{var t=n(d);null!==t&&A(j,t.startTime-e)}}function w(e,r){h=!1,x&&(x=!1,y(S),S=-1),f=!0;var s=p;try{for(v(r),m=n(c);null!==m&&(!(m.expirationTime>r)||e&&!P());){var l=m.callback;if("function"===typeof l){m.callback=null,p=m.priorityLevel;var o=l(m.expirationTime<=r);r=t.unstable_now(),"function"===typeof o?m.callback=o:m===n(c)&&a(c),v(r)}else a(c);m=n(c)}if(null!==m)var i=!0;else{var u=n(d);null!==u&&A(j,u.startTime-r),i=!1}return i}finally{m=null,p=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,_=null,S=-1,C=5,E=-1;function P(){return!(t.unstable_now()-E<C)}function R(){if(null!==_){var e=t.unstable_now();E=e;var r=!0;try{r=_(!0,e)}finally{r?N():(k=!1,_=null)}}else k=!1}if("function"===typeof b)N=function(){b(R)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,L=T.port2;T.port1.onmessage=R,N=function(){L.postMessage(null)}}else N=function(){g(R,0)};function O(e){_=e,k||(k=!0,N())}function A(e,r){S=g((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){h||f||(h=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var r=p;p=t;try{return e()}finally{p=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=p;p=e;try{return t()}finally{p=r}},t.unstable_scheduleCallback=function(e,a,s){var l=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?l+s:l:s=l,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>l?(e.sortIndex=s,r(d,e),null===n(c)&&e===n(d)&&(x?(y(S),S=-1):x=!0,A(j,s-l))):(e.sortIndex=o,r(c,e),h||f||(h=!0,O(w))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var r=p;p=t;try{return e.apply(this,arguments)}finally{p=r}}}},853:(e,t,r)=>{e.exports=r(234)}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};r.r(n),r.d(n,{hasBrowserEnv:()=>Nr,hasStandardBrowserEnv:()=>_r,hasStandardBrowserWebWorkerEnv:()=>Sr,navigator:()=>kr,origin:()=>Cr});var a=r(43),s=r(391);function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function c(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r(175);const m=["sri"],p=["page"],f=["page","matches"],h=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],x=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var y="popstate";function b(){return S((function(e,t){let{pathname:r,search:n,hash:a}=e.location;return N("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:k(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function v(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function j(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function w(e,t){return{usr:e.state,key:e.key,idx:t}}function N(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return u(u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?_(t):t),{},{state:r,key:t&&t.key||n||Math.random().toString(36).substring(2,10)})}function k(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function _(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function S(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:s=!1}=n,l=a.history,o="POP",i=null,c=d();function d(){return(l.state||{idx:null}).idx}function m(){o="POP";let e=d(),t=null==e?null:e-c;c=e,i&&i({action:o,location:f.location,delta:t})}function p(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,r="string"===typeof e?e:k(e);return r=r.replace(/ $/,"%20"),v(t,"No window.location.(origin|href) available to create URL for href: ".concat(r)),new URL(r,t)}null==c&&(c=0,l.replaceState(u(u({},l.state),{},{idx:c}),""));let f={get action(){return o},get location(){return e(a,l)},listen(e){if(i)throw new Error("A history only accepts one active listener");return a.addEventListener(y,m),i=e,()=>{a.removeEventListener(y,m),i=null}},createHref:e=>t(a,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let n=N(f.location,e,t);r&&r(n,e),c=d()+1;let u=w(n,c),m=f.createHref(n);try{l.pushState(u,"",m)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;a.location.assign(m)}s&&i&&i({action:o,location:f.location,delta:1})},replace:function(e,t){o="REPLACE";let n=N(f.location,e,t);r&&r(n,e),c=d();let a=w(n,c),u=f.createHref(n);l.replaceState(a,"",u),s&&i&&i({action:o,location:f.location,delta:0})},go:e=>l.go(e)};return f}new WeakMap;function C(e,t){return E(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function E(e,t,r,n){let a=H(("string"===typeof t?_(t):t).pathname||"/",r);if(null==a)return null;let s=P(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every(((e,r)=>e===t[r]));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let l=null;for(let o=0;null==l&&o<s.length;++o){let e=q(a);l=I(s[o],e,n)}return l}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=(e,a,s)=>{let l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};l.relativePath.startsWith("/")&&(v(l.relativePath.startsWith(n),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(n,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(n.length));let o=J([n,l.relativePath]),i=r.concat(l);e.children&&e.children.length>0&&(v(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(o,'".')),P(e.children,t,i,o)),(null!=e.path||e.index)&&t.push({path:o,score:M(o,e.index),routesMeta:i})};return e.forEach(((e,t)=>{var r;if(""!==e.path&&null!==(r=e.path)&&void 0!==r&&r.includes("?"))for(let n of R(e.path))a(e,t,n);else a(e,t)})),t}function R(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===n.length)return a?[s,""]:[s];let l=R(n.join("/")),o=[];return o.push(...l.map((e=>""===e?s:[s,e].join("/")))),a&&o.push(...l),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var T=/^:[\w-]+$/,L=3,O=2,A=1,D=10,F=-2,z=e=>"*"===e;function M(e,t){let r=e.split("/"),n=r.length;return r.some(z)&&(n+=F),t&&(n+=O),r.filter((e=>!z(e))).reduce(((e,t)=>e+(T.test(t)?L:""===t?A:D)),n)}function I(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:n}=e,a={},s="/",l=[];for(let o=0;o<n.length;++o){let e=n[o],i=o===n.length-1,c="/"===s?t:t.slice(s.length)||"/",d=B({path:e.relativePath,caseSensitive:e.caseSensitive,end:i},c),u=e.route;if(!d&&i&&r&&!n[n.length-1].route.index&&(d=B({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),l.push({params:a,pathname:J([s,d.pathname]),pathnameBase:K(J([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=J([s,d.pathnameBase]))}return l}function B(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=U(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce(((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=o[r]||"";l=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const i=o[r];return e[n]=a&&!i?void 0:(i||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:l,pattern:e}}function U(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];j("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function q(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return j(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function H(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function W(e,t,r,n){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(n),"].  Please separate it out to the `to.").concat(r,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function V(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function Y(e){let t=V(e);return t.map(((e,r)=>r===t.length-1?e.pathname:e.pathnameBase))}function $(e,t,r){let n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?n=_(e):(n=u({},e),v(!n.pathname||!n.pathname.includes("?"),W("?","pathname","search",n)),v(!n.pathname||!n.pathname.includes("#"),W("#","pathname","hash",n)),v(!n.search||!n.search.includes("#"),W("#","search","hash",n)));let s,l=""===e||""===n.pathname,o=l?"/":n.pathname;if(null==o)s=r;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}s=e>=0?t[e]:"/"}let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:n="",hash:a=""}="string"===typeof e?_(e):e,s=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:s,search:Q(n),hash:G(a)}}(n,s),c=o&&"/"!==o&&o.endsWith("/"),d=(l||"."===o)&&r.endsWith("/");return i.pathname.endsWith("/")||!c&&!d||(i.pathname+="/"),i}var J=e=>e.join("/").replace(/\/\/+/g,"/"),K=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",G=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function X(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Z=["POST","PUT","PATCH","DELETE"],ee=(new Set(Z),["GET",...Z]);new Set(ee),Symbol("ResetLoaderData");var te=a.createContext(null);te.displayName="DataRouter";var re=a.createContext(null);re.displayName="DataRouterState";var ne=a.createContext({isTransitioning:!1});ne.displayName="ViewTransition";var ae=a.createContext(new Map);ae.displayName="Fetchers";var se=a.createContext(null);se.displayName="Await";var le=a.createContext(null);le.displayName="Navigation";var oe=a.createContext(null);oe.displayName="Location";var ie=a.createContext({outlet:null,matches:[],isDataRoute:!1});ie.displayName="Route";var ce=a.createContext(null);ce.displayName="RouteError";function de(){return null!=a.useContext(oe)}function ue(){return v(de(),"useLocation() may be used only in the context of a <Router> component."),a.useContext(oe).location}var me="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pe(e){a.useContext(le).static||a.useLayoutEffect(e)}function fe(){let{isDataRoute:e}=a.useContext(ie);return e?function(){let{router:e}=Ne("useNavigate"),t=_e("useNavigate"),r=a.useRef(!1);pe((()=>{r.current=!0}));let n=a.useCallback((async function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};j(r.current,me),r.current&&("number"===typeof n?e.navigate(n):await e.navigate(n,u({fromRouteId:t},a)))}),[e,t]);return n}():function(){v(de(),"useNavigate() may be used only in the context of a <Router> component.");let e=a.useContext(te),{basename:t,navigator:r}=a.useContext(le),{matches:n}=a.useContext(ie),{pathname:s}=ue(),l=JSON.stringify(Y(n)),o=a.useRef(!1);pe((()=>{o.current=!0}));let i=a.useCallback((function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(j(o.current,me),!o.current)return;if("number"===typeof n)return void r.go(n);let i=$(n,JSON.parse(l),s,"path"===a.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:J([t,i.pathname])),(a.replace?r.replace:r.push)(i,a.state,a)}),[t,r,l,s,e]);return i}()}a.createContext(null);function he(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=a.useContext(ie),{pathname:n}=ue(),s=JSON.stringify(Y(r));return a.useMemo((()=>$(e,JSON.parse(s),n,"path"===t)),[e,s,n,t])}function xe(e,t,r,n){v(de(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:l}=a.useContext(le),{matches:o}=a.useContext(ie),i=o[o.length-1],c=i?i.params:{},d=i?i.pathname:"/",m=i?i.pathnameBase:"/",p=i&&i.route;{let e=p&&p.path||"";Ee(d,!p||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,h=ue();if(t){var x;let e="string"===typeof t?_(t):t;v("/"===m||(null===(x=e.pathname)||void 0===x?void 0:x.startsWith(m)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(m,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=h;let g=f.pathname||"/",y=g;if("/"!==m){let e=m.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=!l&&r&&r.matches&&r.matches.length>0?r.matches:C(e,{pathname:y});j(p||null!=b,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),j(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let w=je(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:J([m,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?m:J([m,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,r,n);return t&&w?a.createElement(oe.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},w):w}function ge(){let e=Se(),t=X(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=a.createElement(a.Fragment,null,a.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),a.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",a.createElement("code",{style:l},"ErrorBoundary")," or"," ",a.createElement("code",{style:l},"errorElement")," prop on your route.")),a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),r?a.createElement("pre",{style:s},r):null,o)}var ye=a.createElement(ge,null),be=class extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(ie.Provider,{value:this.props.routeContext},a.createElement(ce.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ve(e){let{routeContext:t,match:r,children:n}=e,s=a.useContext(te);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),a.createElement(ie.Provider,{value:t},n)}function je(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==t.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let n=e,s=null===r||void 0===r?void 0:r.errors;if(null!=s){let e=n.findIndex((e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id])));v(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),n=n.slice(0,Math.min(n.length,e+1))}let l=!1,o=-1;if(r)for(let a=0;a<n.length;a++){let e=n[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=a),e.route.id){let{loaderData:t,errors:a}=r,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!a||void 0===a[e.route.id]);if(e.route.lazy||s){l=!0,n=o>=0?n.slice(0,o+1):[n[0]];break}}}return n.reduceRight(((e,i,c)=>{let d,u=!1,m=null,p=null;r&&(d=s&&i.route.id?s[i.route.id]:void 0,m=i.route.errorElement||ye,l&&(o<0&&0===c?(Ee("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,p=null):o===c&&(u=!0,p=i.route.hydrateFallbackElement||null)));let f=t.concat(n.slice(0,c+1)),h=()=>{let t;return t=d?m:u?p:i.route.Component?a.createElement(i.route.Component,null):i.route.element?i.route.element:e,a.createElement(ve,{match:i,routeContext:{outlet:e,matches:f,isDataRoute:null!=r},children:t})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===c)?a.createElement(be,{location:r.location,revalidation:r.revalidation,component:m,error:d,children:h(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):h()}),null)}function we(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ne(e){let t=a.useContext(te);return v(t,we(e)),t}function ke(e){let t=a.useContext(re);return v(t,we(e)),t}function _e(e){let t=function(e){let t=a.useContext(ie);return v(t,we(e)),t}(e),r=t.matches[t.matches.length-1];return v(r.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),r.route.id}function Se(){var e;let t=a.useContext(ce),r=ke("useRouteError"),n=_e("useRouteError");return void 0!==t?t:null===(e=r.errors)||void 0===e?void 0:e[n]}var Ce={};function Ee(e,t,r){t||Ce[e]||(Ce[e]=!0,j(!1,r))}a.memo((function(e){let{routes:t,future:r,state:n}=e;return xe(t,void 0,n,r)}));function Pe(e){v(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Re(e){let{basename:t="/",children:r=null,location:n,navigationType:s="POP",navigator:l,static:o=!1}=e;v(!de(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=t.replace(/^\/*/,"/"),c=a.useMemo((()=>({basename:i,navigator:l,static:o,future:{}})),[i,l,o]);"string"===typeof n&&(n=_(n));let{pathname:d="/",search:u="",hash:m="",state:p=null,key:f="default"}=n,h=a.useMemo((()=>{let e=H(d,i);return null==e?null:{location:{pathname:e,search:u,hash:m,state:p,key:f},navigationType:s}}),[i,d,u,m,p,f,s]);return j(null!=h,'<Router basename="'.concat(i,'"> is not able to match the URL "').concat(d).concat(u).concat(m,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==h?null:a.createElement(le.Provider,{value:c},a.createElement(oe.Provider,{children:r,value:h}))}function Te(e){let{children:t,location:r}=e;return xe(Le(t),r)}a.Component;function Le(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return a.Children.forEach(e,((e,n)=>{if(!a.isValidElement(e))return;let s=[...t,n];if(e.type===a.Fragment)return void r.push.apply(r,Le(e.props.children,s));v(e.type===Pe,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),v(!e.props.index||!e.props.children,"An index route cannot have child routes.");let l={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(l.children=Le(e.props.children,s)),r.push(l)})),r}var Oe="get",Ae="application/x-www-form-urlencoded";function De(e){return null!=e&&"string"===typeof e.tagName}var Fe=null;var ze=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Me(e){return null==e||ze.has(e)?e:(j(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ae,'"')),null)}function Ie(e,t){let r,n,a,s,l;if(De(o=e)&&"form"===o.tagName.toLowerCase()){let l=e.getAttribute("action");n=l?H(l,t):null,r=e.getAttribute("method")||Oe,a=Me(e.getAttribute("enctype"))||Ae,s=new FormData(e)}else if(function(e){return De(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return De(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let l=e.form;if(null==l)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||l.getAttribute("action");if(n=o?H(o,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Oe,a=Me(e.getAttribute("formenctype"))||Me(l.getAttribute("enctype"))||Ae,s=new FormData(l,e),!function(){if(null===Fe)try{new FormData(document.createElement("form"),0),Fe=!1}catch(e){Fe=!0}return Fe}()){let{name:t,type:r,value:n}=e;if("image"===r){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,n)}}else{if(De(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Oe,n=null,a=Ae,l=e}var o;return s&&"text/plain"===a&&(l=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:l}}function Be(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Ue(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function qe(e){return null!=e&&"string"===typeof e.page}function He(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function We(e,t,r,n,a,s){let l=(e,t)=>!r[t]||e.route.id!==r[t].route.id,o=(e,t)=>{var n;return r[t].pathname!==e.pathname||(null===(n=r[t].route.path)||void 0===n?void 0:n.endsWith("*"))&&r[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter(((e,t)=>l(e,t)||o(e,t))):"data"===s?t.filter(((t,s)=>{let i=n.routes[t.route.id];if(!i||!i.hasLoader)return!1;if(l(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){var c;let n=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null===(c=r[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof n)return n}return!0})):[]}function Ve(e,t){let{includeHydrateFallback:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=e.map((e=>{let n=t.routes[e.route.id];if(!n)return[];let a=[n.module];return n.clientActionModule&&(a=a.concat(n.clientActionModule)),n.clientLoaderModule&&(a=a.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(a=a.concat(n.hydrateFallbackModule)),n.imports&&(a=a.concat(n.imports)),a})).flat(1),[...new Set(n)];var n}function Ye(e,t){let r=new Set,n=new Set(t);return e.reduce(((e,a)=>{if(t&&!qe(a)&&"script"===a.as&&a.href&&n.has(a.href))return e;let s=JSON.stringify(function(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}(a));return r.has(s)||(r.add(s),e.push({key:s,link:a})),e}),[])}function $e(e){return{__html:e}}Symbol("SingleFetchRedirect");var Je=new Set([100,101,204,205]);function Ke(e,t){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.data":t&&"/"===H(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):r.pathname="".concat(r.pathname.replace(/\/$/,""),".data"),r}a.Component;function Qe(e){let{error:t,isOutsideRemixApp:r}=e;console.error(t);let n,s=a.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(X(t))return a.createElement(Ge,{title:"Unhandled Thrown Response!"},a.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)n=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);n=new Error(e)}return a.createElement(Ge,{title:"Application Error!",isOutsideRemixApp:r},a.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),a.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},n.stack),s)}function Ge(e){var t;let{title:r,renderScripts:n,isOutsideRemixApp:s,children:l}=e,{routeModules:o}=rt();return null!==(t=o.root)&&void 0!==t&&t.Layout&&!s?l:a.createElement("html",{lang:"en"},a.createElement("head",null,a.createElement("meta",{charSet:"utf-8"}),a.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),a.createElement("title",null,r)),a.createElement("body",null,a.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},l,n?a.createElement(ct,null):null)))}function Xe(e){return!0===e}function Ze(){let e=a.useContext(te);return Be(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function et(){let e=a.useContext(re);return Be(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var tt=a.createContext(void 0);function rt(){let e=a.useContext(tt);return Be(e,"You must render this element inside a <HydratedRouter> element"),e}function nt(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function at(e,t,r){if(r&&!it)return[e[0]];if(t){let r=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,r+1)}return e}function st(e){let{page:t}=e,r=l(e,p),{router:n}=Ze(),s=a.useMemo((()=>C(n.routes,t,n.basename)),[n.routes,t,n.basename]);return s?a.createElement(ot,u({page:t,matches:s},r)):null}function lt(e){let{manifest:t,routeModules:r}=rt(),[n,s]=a.useState([]);return a.useEffect((()=>{let n=!1;return async function(e,t,r){return Ye((await Promise.all(e.map((async e=>{let n=t.routes[e.route.id];if(n){let e=await Ue(n,r);return e.links?e.links():[]}return[]})))).flat(1).filter(He).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?u(u({},e),{},{rel:"prefetch",as:"style"}):u(u({},e),{},{rel:"prefetch"}))))}(e,t,r).then((e=>{n||s(e)})),()=>{n=!0}}),[e,t,r]),n}function ot(e){let{page:t,matches:r}=e,n=l(e,f),s=ue(),{manifest:o,routeModules:i}=rt(),{basename:c}=Ze(),{loaderData:d,matches:m}=et(),p=a.useMemo((()=>We(t,r,m,o,s,"data")),[t,r,m,o,s]),h=a.useMemo((()=>We(t,r,m,o,s,"assets")),[t,r,m,o,s]),x=a.useMemo((()=>{if(t===s.pathname+s.search+s.hash)return[];let e=new Set,n=!1;if(r.forEach((t=>{var r;let a=o.routes[t.route.id];a&&a.hasLoader&&(!p.some((e=>e.route.id===t.route.id))&&t.route.id in d&&null!==(r=i[t.route.id])&&void 0!==r&&r.shouldRevalidate||a.hasClientLoader?n=!0:e.add(t.route.id))})),0===e.size)return[];let a=Ke(t,c);return n&&e.size>0&&a.searchParams.set("_routes",r.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[a.pathname+a.search]}),[c,d,s,o,p,r,t,i]),g=a.useMemo((()=>Ve(h,o)),[h,o]),y=lt(h);return a.createElement(a.Fragment,null,x.map((e=>a.createElement("link",u({key:e,rel:"prefetch",as:"fetch",href:e},n)))),g.map((e=>a.createElement("link",u({key:e,rel:"modulepreload",href:e},n)))),y.map((e=>{let{key:t,link:r}=e;return a.createElement("link",u({key:t},r))})))}tt.displayName="FrameworkContext";var it=!1;function ct(e){let{manifest:t,serverHandoffString:r,isSpaMode:n,ssr:s,renderMeta:o}=rt(),{router:i,static:c,staticContext:d}=Ze(),{matches:p}=et(),f=Xe(s);o&&(o.didRenderScripts=!0);let h=at(p,null,n);a.useEffect((()=>{it=!0}),[]);let x=a.useMemo((()=>{var n;let s=d?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",o=c?"".concat(null!==(n=t.hmr)&&void 0!==n&&n.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(f?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(h.map(((e,r)=>{let n="route".concat(r),a=t.routes[e.route.id];Be(a,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:l,clientMiddlewareModule:o,hydrateFallbackModule:i,module:c}=a,d=[...s?[{module:s,varName:"".concat(n,"_clientAction")}]:[],...l?[{module:l,varName:"".concat(n,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(n,"_clientMiddleware")}]:[],...i?[{module:i,varName:"".concat(n,"_HydrateFallback")}]:[],{module:c,varName:"".concat(n,"_main")}];return 1===d.length?"import * as ".concat(n," from ").concat(JSON.stringify(c),";"):[d.map((e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";'))).join("\n"),"const ".concat(n," = {").concat(d.map((e=>"...".concat(e.varName))).join(","),"};")].join("\n")})).join("\n"),"\n  ").concat(f?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:r}=e,n=l(e,m),a=new Set(t.state.matches.map((e=>e.route.id))),s=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(s.pop();s.length>0;)o.push("/".concat(s.join("/"))),s.pop();o.forEach((e=>{let r=C(t.routes,e,t.basename);r&&r.forEach((e=>a.add(e.route.id)))}));let i=[...a].reduce(((e,t)=>Object.assign(e,{[t]:n.routes[t]})),{});return u(u({},n),{},{routes:i,sri:!!r||void 0})}(t,i),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(h.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return a.createElement(a.Fragment,null,a.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:$e(s),type:void 0})),a.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:$e(o),type:"module",async:!0})))}),[]),g=it?[]:(y=t.entry.imports.concat(Ve(h,t,{includeHydrateFallback:!0})),[...new Set(y)]);var y;let b="object"===typeof t.sri?t.sri:{};return it?null:a.createElement(a.Fragment,null,"object"===typeof t.sri?a.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:b})}}):null,f?null:a.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:b[t.url],suppressHydrationWarning:!0}),a.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:b[t.entry.module],suppressHydrationWarning:!0}),g.map((t=>a.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:b[t],suppressHydrationWarning:!0}))),x)}function dt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var ut="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ut&&(window.__reactRouterVersion="7.5.1")}catch(ga){}function mt(e){let{basename:t,children:r,window:n}=e,s=a.useRef();null==s.current&&(s.current=b({window:n,v5Compat:!0}));let l=s.current,[o,i]=a.useState({action:l.action,location:l.location}),c=a.useCallback((e=>{a.startTransition((()=>i(e)))}),[i]);return a.useLayoutEffect((()=>l.listen(c)),[l,c]),a.createElement(Re,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:l})}var pt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=a.forwardRef((function(e,t){let r,{onClick:n,discover:s="render",prefetch:o="none",relative:i,reloadDocument:c,replace:d,state:m,target:p,to:f,preventScrollReset:x,viewTransition:g}=e,y=l(e,h),{basename:b}=a.useContext(le),w="string"===typeof f&&pt.test(f),N=!1;if("string"===typeof f&&w&&(r=f,ut))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),r=H(t.pathname,b);t.origin===e.origin&&null!=r?f=r+t.search+t.hash:N=!0}catch(ga){j(!1,'<Link to="'.concat(f,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let _=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(de(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=a.useContext(le),{hash:s,pathname:l,search:o}=he(e,{relative:t}),i=l;return"/"!==r&&(i="/"===l?r:J([r,l])),n.createHref({pathname:i,search:o,hash:s})}(f,{relative:i}),[S,C,E]=function(e,t){let r=a.useContext(tt),[n,s]=a.useState(!1),[l,o]=a.useState(!1),{onFocus:i,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:m}=t,p=a.useRef(null);a.useEffect((()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}}),[e]),a.useEffect((()=>{if(n){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[n]);let f=()=>{s(!0)},h=()=>{s(!1),o(!1)};return r?"intent"!==e?[l,p,{}]:[l,p,{onFocus:nt(i,f),onBlur:nt(c,h),onMouseEnter:nt(d,f),onMouseLeave:nt(u,h),onTouchStart:nt(m,f)}]:[!1,p,{}]}(o,y),P=function(e){let{target:t,replace:r,state:n,preventScrollReset:s,relative:l,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=fe(),c=ue(),d=he(e,{relative:l});return a.useCallback((a=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(a,t)){a.preventDefault();let t=void 0!==r?r:k(c)===k(d);i(e,{replace:t,state:n,preventScrollReset:s,relative:l,viewTransition:o})}}),[c,i,d,r,n,t,e,s,l,o])}(f,{replace:d,state:m,target:p,preventScrollReset:x,relative:i,viewTransition:g});let R=a.createElement("a",u(u(u({},y),E),{},{href:r||_,onClick:N||c?n:function(e){n&&n(e),e.defaultPrevented||P(e)},ref:dt(t,C),target:p,"data-discover":w||"render"!==s?void 0:"true"}));return S&&!w?a.createElement(a.Fragment,null,R,a.createElement(st,{page:_})):R}));ft.displayName="Link",a.forwardRef((function(e,t){let{"aria-current":r="page",caseSensitive:n=!1,className:s="",end:o=!1,style:i,to:c,viewTransition:d,children:m}=e,p=l(e,x),f=he(c,{relative:p.relative}),h=ue(),g=a.useContext(re),{navigator:y,basename:b}=a.useContext(le),j=null!=g&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.useContext(ne);v(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=gt("useViewTransitionState"),s=he(e,{relative:t.relative});if(!r.isTransitioning)return!1;let l=H(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=H(r.nextLocation.pathname,n)||r.nextLocation.pathname;return null!=B(s.pathname,o)||null!=B(s.pathname,l)}(f)&&!0===d,w=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,N=h.pathname,k=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(N=N.toLowerCase(),k=k?k.toLowerCase():null,w=w.toLowerCase()),k&&b&&(k=H(k,b)||k);const _="/"!==w&&w.endsWith("/")?w.length-1:w.length;let S,C=N===w||!o&&N.startsWith(w)&&"/"===N.charAt(_),E=null!=k&&(k===w||!o&&k.startsWith(w)&&"/"===k.charAt(w.length)),P={isActive:C,isPending:E,isTransitioning:j},R=C?r:void 0;S="function"===typeof s?s(P):[s,C?"active":null,E?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let T="function"===typeof i?i(P):i;return a.createElement(ft,u(u({},p),{},{"aria-current":R,className:S,ref:t,style:T,to:c,viewTransition:d}),"function"===typeof m?m(P):m)})).displayName="NavLink";var ht=a.forwardRef(((e,t)=>{let{discover:r="render",fetcherKey:n,navigate:s,reloadDocument:o,replace:i,state:c,method:d=Oe,action:m,onSubmit:p,relative:f,preventScrollReset:h,viewTransition:x}=e,y=l(e,g),b=vt(),j=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=a.useContext(le),n=a.useContext(ie);v(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),l=u({},he(e||".",{relative:t})),o=ue();if(null==e){l.search=o.search;let e=new URLSearchParams(l.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let r=e.toString();l.search=r?"?".concat(r):""}}e&&"."!==e||!s.route.index||(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(l.pathname="/"===l.pathname?r:J([r,l.pathname]));return k(l)}(m,{relative:f}),w="get"===d.toLowerCase()?"get":"post",N="string"===typeof m&&pt.test(m);return a.createElement("form",u(u({ref:t,method:w,action:j,onSubmit:o?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,r=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;b(t||e.currentTarget,{fetcherKey:n,method:r,navigate:s,replace:i,state:c,relative:f,preventScrollReset:h,viewTransition:x})}},y),{},{"data-discover":N||"render"!==r?void 0:"true"}))}));function xt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function gt(e){let t=a.useContext(te);return v(t,xt(e)),t}ht.displayName="Form";var yt=0,bt=()=>"__".concat(String(++yt),"__");function vt(){let{router:e}=gt("useSubmit"),{basename:t}=a.useContext(le),r=_e("useRouteId");return a.useCallback((async function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:l,encType:o,formData:i,body:c}=Ie(n,t);if(!1===a.navigate){let t=a.fetcherKey||bt();await e.fetch(t,r,a.action||s,{preventScrollReset:a.preventScrollReset,formData:i,body:c,formMethod:a.method||l,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:i,body:c,formMethod:a.method||l,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[e,t,r])}new TextEncoder;function jt(e,t){return function(){return e.apply(t,arguments)}}const{toString:wt}=Object.prototype,{getPrototypeOf:Nt}=Object,kt=(_t=Object.create(null),e=>{const t=wt.call(e);return _t[t]||(_t[t]=t.slice(8,-1).toLowerCase())});var _t;const St=e=>(e=e.toLowerCase(),t=>kt(t)===e),Ct=e=>t=>typeof t===e,{isArray:Et}=Array,Pt=Ct("undefined");const Rt=St("ArrayBuffer");const Tt=Ct("string"),Lt=Ct("function"),Ot=Ct("number"),At=e=>null!==e&&"object"===typeof e,Dt=e=>{if("object"!==kt(e))return!1;const t=Nt(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ft=St("Date"),zt=St("File"),Mt=St("Blob"),It=St("FileList"),Bt=St("URLSearchParams"),[Ut,qt,Ht,Wt]=["ReadableStream","Request","Response","Headers"].map(St);function Vt(e,t){let r,n,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Et(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{const n=a?Object.getOwnPropertyNames(e):Object.keys(e),s=n.length;let l;for(r=0;r<s;r++)l=n[r],t.call(null,e[l],l,e)}}function Yt(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,a=r.length;for(;a-- >0;)if(n=r[a],t===n.toLowerCase())return n;return null}const $t="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Jt=e=>!Pt(e)&&e!==$t;const Kt=(Qt="undefined"!==typeof Uint8Array&&Nt(Uint8Array),e=>Qt&&e instanceof Qt);var Qt;const Gt=St("HTMLFormElement"),Xt=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),Zt=St("RegExp"),er=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Vt(r,((r,a)=>{let s;!1!==(s=t(r,a,e))&&(n[a]=s||r)})),Object.defineProperties(e,n)};const tr=St("AsyncFunction"),rr=((e,t)=>{return e?setImmediate:t?(r="axios@".concat(Math.random()),n=[],$t.addEventListener("message",(e=>{let{source:t,data:a}=e;t===$t&&a===r&&n.length&&n.shift()()}),!1),e=>{n.push(e),$t.postMessage(r,"*")}):e=>setTimeout(e);var r,n})("function"===typeof setImmediate,Lt($t.postMessage)),nr="undefined"!==typeof queueMicrotask?queueMicrotask.bind($t):"undefined"!==typeof process&&process.nextTick||rr,ar={isArray:Et,isArrayBuffer:Rt,isBuffer:function(e){return null!==e&&!Pt(e)&&null!==e.constructor&&!Pt(e.constructor)&&Lt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Lt(e.append)&&("formdata"===(t=kt(e))||"object"===t&&Lt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Rt(e.buffer),t},isString:Tt,isNumber:Ot,isBoolean:e=>!0===e||!1===e,isObject:At,isPlainObject:Dt,isReadableStream:Ut,isRequest:qt,isResponse:Ht,isHeaders:Wt,isUndefined:Pt,isDate:Ft,isFile:zt,isBlob:Mt,isRegExp:Zt,isFunction:Lt,isStream:e=>At(e)&&Lt(e.pipe),isURLSearchParams:Bt,isTypedArray:Kt,isFileList:It,forEach:Vt,merge:function e(){const{caseless:t}=Jt(this)&&this||{},r={},n=(n,a)=>{const s=t&&Yt(r,a)||a;Dt(r[s])&&Dt(n)?r[s]=e(r[s],n):Dt(n)?r[s]=e({},n):Et(n)?r[s]=n.slice():r[s]=n};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&Vt(arguments[a],n);return r},extend:function(e,t,r){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Vt(t,((t,n)=>{r&&Lt(t)?e[n]=jt(t,r):e[n]=t}),{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let a,s,l;const o={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)l=a[s],n&&!n(l,e,t)||o[l]||(t[l]=e[l],o[l]=!0);e=!1!==r&&Nt(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:kt,kindOfTest:St,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(Et(e))return e;let t=e.length;if(!Ot(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:Gt,hasOwnProperty:Xt,hasOwnProp:Xt,reduceDescriptors:er,freezeMethods:e=>{er(e,((t,r)=>{if(Lt(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];Lt(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return Et(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Yt,global:$t,isContextDefined:Jt,isSpecCompliantForm:function(e){return!!(e&&Lt(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(At(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const a=Et(e)?[]:{};return Vt(e,((e,t)=>{const s=r(e,n+1);!Pt(s)&&(a[t]=s)})),t[n]=void 0,a}}return e};return r(e,0)},isAsyncFn:tr,isThenable:e=>e&&(At(e)||Lt(e))&&Lt(e.then)&&Lt(e.catch),setImmediate:rr,asap:nr};function sr(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}ar.inherits(sr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ar.toJSONObject(this.config),code:this.code,status:this.status}}});const lr=sr.prototype,or={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{or[e]={value:e}})),Object.defineProperties(sr,or),Object.defineProperty(lr,"isAxiosError",{value:!0}),sr.from=(e,t,r,n,a,s)=>{const l=Object.create(lr);return ar.toFlatObject(e,l,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),sr.call(l,e.message,t,r,n,a),l.cause=e,l.name=e.name,s&&Object.assign(l,s),l};const ir=sr;function cr(e){return ar.isPlainObject(e)||ar.isArray(e)}function dr(e){return ar.endsWith(e,"[]")?e.slice(0,-2):e}function ur(e,t,r){return e?e.concat(t).map((function(e,t){return e=dr(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const mr=ar.toFlatObject(ar,{},null,(function(e){return/^is[A-Z]/.test(e)}));const pr=function(e,t,r){if(!ar.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=ar.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!ar.isUndefined(t[e])}))).metaTokens,a=r.visitor||c,s=r.dots,l=r.indexes,o=(r.Blob||"undefined"!==typeof Blob&&Blob)&&ar.isSpecCompliantForm(t);if(!ar.isFunction(a))throw new TypeError("visitor must be a function");function i(e){if(null===e)return"";if(ar.isDate(e))return e.toISOString();if(!o&&ar.isBlob(e))throw new ir("Blob is not supported. Use a Buffer instead.");return ar.isArrayBuffer(e)||ar.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,a){let o=e;if(e&&!a&&"object"===typeof e)if(ar.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(ar.isArray(e)&&function(e){return ar.isArray(e)&&!e.some(cr)}(e)||(ar.isFileList(e)||ar.endsWith(r,"[]"))&&(o=ar.toArray(e)))return r=dr(r),o.forEach((function(e,n){!ar.isUndefined(e)&&null!==e&&t.append(!0===l?ur([r],n,s):null===l?r:r+"[]",i(e))})),!1;return!!cr(e)||(t.append(ur(a,r,s),i(e)),!1)}const d=[],u=Object.assign(mr,{defaultVisitor:c,convertValue:i,isVisitable:cr});if(!ar.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!ar.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+n.join("."));d.push(r),ar.forEach(r,(function(r,s){!0===(!(ar.isUndefined(r)||null===r)&&a.call(t,r,ar.isString(s)?s.trim():s,n,u))&&e(r,n?n.concat(s):[s])})),d.pop()}}(e),t};function fr(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function hr(e,t){this._pairs=[],e&&pr(e,this,t)}const xr=hr.prototype;xr.append=function(e,t){this._pairs.push([e,t])},xr.toString=function(e){const t=e?function(t){return e.call(this,t,fr)}:fr;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const gr=hr;function yr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function br(e,t,r){if(!t)return e;const n=r&&r.encode||yr;ar.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(s=a?a(t,r):ar.isURLSearchParams(t)?t.toString():new gr(t,r).toString(n),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const vr=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ar.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},jr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wr={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:gr,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Nr="undefined"!==typeof window&&"undefined"!==typeof document,kr="object"===typeof navigator&&navigator||void 0,_r=Nr&&(!kr||["ReactNative","NativeScript","NS"].indexOf(kr.product)<0),Sr="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Cr=Nr&&window.location.href||"http://localhost",Er=u(u({},n),wr);const Pr=function(e){function t(e,r,n,a){let s=e[a++];if("__proto__"===s)return!0;const l=Number.isFinite(+s),o=a>=e.length;if(s=!s&&ar.isArray(n)?n.length:s,o)return ar.hasOwnProp(n,s)?n[s]=[n[s],r]:n[s]=r,!l;n[s]&&ar.isObject(n[s])||(n[s]=[]);return t(e,r,n[s],a)&&ar.isArray(n[s])&&(n[s]=function(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}(n[s])),!l}if(ar.isFormData(e)&&ar.isFunction(e.entries)){const r={};return ar.forEachEntry(e,((e,n)=>{t(function(e){return ar.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,r,0)})),r}return null};const Rr={transitional:jr,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,a=ar.isObject(e);a&&ar.isHTMLForm(e)&&(e=new FormData(e));if(ar.isFormData(e))return n?JSON.stringify(Pr(e)):e;if(ar.isArrayBuffer(e)||ar.isBuffer(e)||ar.isStream(e)||ar.isFile(e)||ar.isBlob(e)||ar.isReadableStream(e))return e;if(ar.isArrayBufferView(e))return e.buffer;if(ar.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return pr(e,new Er.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return Er.isNode&&ar.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=ar.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return pr(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||n?(t.setContentType("application/json",!1),function(e,t,r){if(ar.isString(e))try{return(t||JSON.parse)(e),ar.trim(e)}catch(ga){if("SyntaxError"!==ga.name)throw ga}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Rr.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(ar.isResponse(e)||ar.isReadableStream(e))return e;if(e&&ar.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(ga){if(r){if("SyntaxError"===ga.name)throw ir.from(ga,ir.ERR_BAD_RESPONSE,this,null,this.response);throw ga}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Er.classes.FormData,Blob:Er.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ar.forEach(["delete","get","head","post","put","patch"],(e=>{Rr.headers[e]={}}));const Tr=Rr,Lr=ar.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Or=Symbol("internals");function Ar(e){return e&&String(e).trim().toLowerCase()}function Dr(e){return!1===e||null==e?e:ar.isArray(e)?e.map(Dr):String(e)}function Fr(e,t,r,n,a){return ar.isFunction(n)?n.call(this,t,r):(a&&(t=r),ar.isString(t)?ar.isString(n)?-1!==t.indexOf(n):ar.isRegExp(n)?n.test(t):void 0:void 0)}class zr{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function a(e,t,r){const a=Ar(t);if(!a)throw new Error("header name must be a non-empty string");const s=ar.findKey(n,a);(!s||void 0===n[s]||!0===r||void 0===r&&!1!==n[s])&&(n[s||t]=Dr(e))}const s=(e,t)=>ar.forEach(e,((e,r)=>a(e,r,t)));if(ar.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(ar.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let r,n,a;return e&&e.split("\n").forEach((function(e){a=e.indexOf(":"),r=e.substring(0,a).trim().toLowerCase(),n=e.substring(a+1).trim(),!r||t[r]&&Lr[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t})(e),t);else if(ar.isHeaders(e))for(const[l,o]of e.entries())a(o,l,r);else null!=e&&a(t,e,r);return this}get(e,t){if(e=Ar(e)){const r=ar.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(ar.isFunction(t))return t.call(this,e,r);if(ar.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ar(e)){const r=ar.findKey(this,e);return!(!r||void 0===this[r]||t&&!Fr(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function a(e){if(e=Ar(e)){const a=ar.findKey(r,e);!a||t&&!Fr(0,r[a],a,t)||(delete r[a],n=!0)}}return ar.isArray(e)?e.forEach(a):a(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const a=t[r];e&&!Fr(0,this[a],a,e,!0)||(delete this[a],n=!0)}return n}normalize(e){const t=this,r={};return ar.forEach(this,((n,a)=>{const s=ar.findKey(r,a);if(s)return t[s]=Dr(n),void delete t[a];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(a):String(a).trim();l!==a&&delete t[a],t[l]=Dr(n),r[l]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return ar.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&ar.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,r]=e;return t+": "+r})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Or]=this[Or]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=Ar(e);t[n]||(!function(e,t){const r=ar.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,a){return this[n].call(this,t,e,r,a)},configurable:!0})}))}(r,e),t[n]=!0)}return ar.isArray(e)?e.forEach(n):n(e),this}}zr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ar.reduceDescriptors(zr.prototype,((e,t)=>{let{value:r}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[n]=e}}})),ar.freezeMethods(zr);const Mr=zr;function Ir(e,t){const r=this||Tr,n=t||r,a=Mr.from(n.headers);let s=n.data;return ar.forEach(e,(function(e){s=e.call(r,s,a.normalize(),t?t.status:void 0)})),a.normalize(),s}function Br(e){return!(!e||!e.__CANCEL__)}function Ur(e,t,r){ir.call(this,null==e?"canceled":e,ir.ERR_CANCELED,t,r),this.name="CanceledError"}ar.inherits(Ur,ir,{__CANCEL__:!0});const qr=Ur;function Hr(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new ir("Request failed with status code "+r.status,[ir.ERR_BAD_REQUEST,ir.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const Wr=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a,s=0,l=0;return t=void 0!==t?t:1e3,function(o){const i=Date.now(),c=n[l];a||(a=i),r[s]=o,n[s]=i;let d=l,u=0;for(;d!==s;)u+=r[d++],d%=e;if(s=(s+1)%e,s===l&&(l=(l+1)%e),i-a<t)return;const m=c&&i-c;return m?Math.round(1e3*u/m):void 0}};const Vr=function(e,t){let r,n,a=0,s=1e3/t;const l=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=s,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-a;for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];t>=s?l(i,e):(r=i,n||(n=setTimeout((()=>{n=null,l(r)}),s-t)))},()=>r&&l(r)]},Yr=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const a=Wr(50,250);return Vr((r=>{const s=r.loaded,l=r.lengthComputable?r.total:void 0,o=s-n,i=a(o);n=s;e({loaded:s,total:l,progress:l?s/l:void 0,bytes:o,rate:i||void 0,estimated:i&&l&&s<=l?(l-s)/i:void 0,event:r,lengthComputable:null!=l,[t?"download":"upload"]:!0})}),r)},$r=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Jr=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ar.asap((()=>e(...r)))},Kr=Er.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Er.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Er.origin),Er.navigator&&/(msie|trident)/i.test(Er.navigator.userAgent)):()=>!0,Qr=Er.hasStandardBrowserEnv?{write(e,t,r,n,a,s){const l=[e+"="+encodeURIComponent(t)];ar.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),ar.isString(n)&&l.push("path="+n),ar.isString(a)&&l.push("domain="+a),!0===s&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Gr(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Xr=e=>e instanceof Mr?u({},e):e;function Zr(e,t){t=t||{};const r={};function n(e,t,r,n){return ar.isPlainObject(e)&&ar.isPlainObject(t)?ar.merge.call({caseless:n},e,t):ar.isPlainObject(t)?ar.merge({},t):ar.isArray(t)?t.slice():t}function a(e,t,r,a){return ar.isUndefined(t)?ar.isUndefined(e)?void 0:n(void 0,e,0,a):n(e,t,0,a)}function s(e,t){if(!ar.isUndefined(t))return n(void 0,t)}function l(e,t){return ar.isUndefined(t)?ar.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function o(r,a,s){return s in t?n(r,a):s in e?n(void 0,r):void 0}const i={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(e,t,r)=>a(Xr(e),Xr(t),0,!0)};return ar.forEach(Object.keys(Object.assign({},e,t)),(function(n){const s=i[n]||a,l=s(e[n],t[n],n);ar.isUndefined(l)&&s!==o||(r[n]=l)})),r}const en=e=>{const t=Zr({},e);let r,{data:n,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:l,headers:o,auth:i}=t;if(t.headers=o=Mr.from(o),t.url=br(Gr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&o.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),ar.isFormData(n))if(Er.hasStandardBrowserEnv||Er.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(r=o.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(Er.hasStandardBrowserEnv&&(a&&ar.isFunction(a)&&(a=a(t)),a||!1!==a&&Kr(t.url))){const e=s&&l&&Qr.read(l);e&&o.set(s,e)}return t},tn="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){const n=en(e);let a=n.data;const s=Mr.from(n.headers).normalize();let l,o,i,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:p}=n;function f(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(l),n.signal&&n.signal.removeEventListener("abort",l)}let h=new XMLHttpRequest;function x(){if(!h)return;const n=Mr.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());Hr((function(e){t(e),f()}),(function(e){r(e),f()}),{data:u&&"text"!==u&&"json"!==u?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:e,request:h}),h=null}h.open(n.method.toUpperCase(),n.url,!0),h.timeout=n.timeout,"onloadend"in h?h.onloadend=x:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(x)},h.onabort=function(){h&&(r(new ir("Request aborted",ir.ECONNABORTED,e,h)),h=null)},h.onerror=function(){r(new ir("Network Error",ir.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const a=n.transitional||jr;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new ir(t,a.clarifyTimeoutError?ir.ETIMEDOUT:ir.ECONNABORTED,e,h)),h=null},void 0===a&&s.setContentType(null),"setRequestHeader"in h&&ar.forEach(s.toJSON(),(function(e,t){h.setRequestHeader(t,e)})),ar.isUndefined(n.withCredentials)||(h.withCredentials=!!n.withCredentials),u&&"json"!==u&&(h.responseType=n.responseType),p&&([i,d]=Yr(p,!0),h.addEventListener("progress",i)),m&&h.upload&&([o,c]=Yr(m),h.upload.addEventListener("progress",o),h.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(l=t=>{h&&(r(!t||t.type?new qr(null,e,h):t),h.abort(),h=null)},n.cancelToken&&n.cancelToken.subscribe(l),n.signal&&(n.signal.aborted?l():n.signal.addEventListener("abort",l)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);g&&-1===Er.protocols.indexOf(g)?r(new ir("Unsupported protocol "+g+":",ir.ERR_BAD_REQUEST,e)):h.send(a||null)}))},rn=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const a=function(e){if(!r){r=!0,l();const t=e instanceof Error?e:this.reason;n.abort(t instanceof ir?t:new qr(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{s=null,a(new ir("timeout ".concat(t," of ms exceeded"),ir.ETIMEDOUT))}),t);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)})),e=null)};e.forEach((e=>e.addEventListener("abort",a)));const{signal:o}=n;return o.unsubscribe=()=>ar.asap(l),o}};function nn(e,t){this.v=e,this.k=t}function an(e){return function(){return new sn(e.apply(this,arguments))}}function sn(e){var t,r;function n(t,r){try{var s=e[t](r),l=s.value,o=l instanceof nn;Promise.resolve(o?l.v:l).then((function(r){if(o){var i="return"===t?"return":"next";if(!l.k||r.done)return n(i,r);r=e[i](r).value}a(s.done?"return":"normal",r)}),(function(e){n("throw",e)}))}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,a){return new Promise((function(s,l){var o={key:e,arg:a,resolve:s,reject:l,next:null};r?r=r.next=o:(t=r=o,n(e,a))}))},"function"!=typeof e.return&&(this.return=void 0)}function ln(e){return new nn(e,0)}function on(e){var t={},r=!1;function n(t,n){return r=!0,n=new Promise((function(r){r(e[t](n))})),{done:!1,value:new nn(n,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):n("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return n("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):n("return",e)}),t}function cn(e){var t,r,n,a=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);a--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new dn(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function dn(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return dn=function(e){this.s=e,this.n=e.next},dn.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new dn(e)}sn.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},sn.prototype.next=function(e){return this._invoke("next",e)},sn.prototype.throw=function(e){return this._invoke("throw",e)},sn.prototype.return=function(e){return this._invoke("return",e)};const un=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,a=0;for(;a<r;)n=a+t,yield e.slice(a,n),a=n},mn=function(){var e=an((function*(e,t){var r,n=!1,a=!1;try{for(var s,l=cn(pn(e));n=!(s=yield ln(l.next())).done;n=!1){const e=s.value;yield*on(cn(un(e,t)))}}catch(o){a=!0,r=o}finally{try{n&&null!=l.return&&(yield ln(l.return()))}finally{if(a)throw r}}}));return function(t,r){return e.apply(this,arguments)}}(),pn=function(){var e=an((function*(e){if(e[Symbol.asyncIterator])return void(yield*on(cn(e)));const t=e.getReader();try{for(;;){const{done:e,value:r}=yield ln(t.read());if(e)break;yield r}}finally{yield ln(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),fn=(e,t,r,n)=>{const a=mn(e,t);let s,l=0,o=e=>{s||(s=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await a.next();if(t)return o(),void e.close();let s=n.byteLength;if(r){let e=l+=s;r(e)}e.enqueue(new Uint8Array(n))}catch(t){throw o(t),t}},cancel:e=>(o(e),a.return())},{highWaterMark:2})},hn="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,xn=hn&&"function"===typeof ReadableStream,gn=hn&&("function"===typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),yn=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!e(...r)}catch(ga){return!1}},bn=xn&&yn((()=>{let e=!1;const t=new Request(Er.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),vn=xn&&yn((()=>ar.isReadableStream(new Response("").body))),jn={stream:vn&&(e=>e.body)};var wn;hn&&(wn=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!jn[e]&&(jn[e]=ar.isFunction(wn[e])?t=>t[e]():(t,r)=>{throw new ir("Response type '".concat(e,"' is not supported"),ir.ERR_NOT_SUPPORT,r)})})));const Nn=async(e,t)=>{const r=ar.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(ar.isBlob(e))return e.size;if(ar.isSpecCompliantForm(e)){const t=new Request(Er.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return ar.isArrayBufferView(e)||ar.isArrayBuffer(e)?e.byteLength:(ar.isURLSearchParams(e)&&(e+=""),ar.isString(e)?(await gn(e)).byteLength:void 0)})(t):r},kn=hn&&(async e=>{let{url:t,method:r,data:n,signal:a,cancelToken:s,timeout:l,onDownloadProgress:o,onUploadProgress:i,responseType:c,headers:d,withCredentials:m="same-origin",fetchOptions:p}=en(e);c=c?(c+"").toLowerCase():"text";let f,h=rn([a,s&&s.toAbortSignal()],l);const x=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let g;try{if(i&&bn&&"get"!==r&&"head"!==r&&0!==(g=await Nn(d,n))){let e,r=new Request(t,{method:"POST",body:n,duplex:"half"});if(ar.isFormData(n)&&(e=r.headers.get("content-type"))&&d.setContentType(e),r.body){const[e,t]=$r(g,Yr(Jr(i)));n=fn(r.body,65536,e,t)}}ar.isString(m)||(m=m?"include":"omit");const a="credentials"in Request.prototype;f=new Request(t,u(u({},p),{},{signal:h,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:a?m:void 0}));let s=await fetch(f);const l=vn&&("stream"===c||"response"===c);if(vn&&(o||l&&x)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=s[t]}));const t=ar.toFiniteNumber(s.headers.get("content-length")),[r,n]=o&&$r(t,Yr(Jr(o),!0))||[];s=new Response(fn(s.body,65536,r,(()=>{n&&n(),x&&x()})),e)}c=c||"text";let y=await jn[ar.findKey(jn,c)||"text"](s,e);return!l&&x&&x(),await new Promise(((t,r)=>{Hr(t,r,{data:y,headers:Mr.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:f})}))}catch(y){if(x&&x(),y&&"TypeError"===y.name&&/fetch/i.test(y.message))throw Object.assign(new ir("Network Error",ir.ERR_NETWORK,e,f),{cause:y.cause||y});throw ir.from(y,y&&y.code,e,f)}}),_n={http:null,xhr:tn,fetch:kn};ar.forEach(_n,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(ga){}Object.defineProperty(e,"adapterName",{value:t})}}));const Sn=e=>"- ".concat(e),Cn=e=>ar.isFunction(e)||null===e||!1===e,En=e=>{e=ar.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let s=0;s<t;s++){let t;if(r=e[s],n=r,!Cn(r)&&(n=_n[(t=String(r)).toLowerCase()],void 0===n))throw new ir("Unknown adapter '".concat(t,"'"));if(n)break;a[t||"#"+s]=n}if(!n){const e=Object.entries(a).map((e=>{let[t,r]=e;return"adapter ".concat(t," ")+(!1===r?"is not supported by the environment":"is not available in the build")}));let r=t?e.length>1?"since :\n"+e.map(Sn).join("\n"):" "+Sn(e[0]):"as no adapter specified";throw new ir("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n};function Pn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new qr(null,e)}function Rn(e){Pn(e),e.headers=Mr.from(e.headers),e.data=Ir.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return En(e.adapter||Tr.adapter)(e).then((function(t){return Pn(e),t.data=Ir.call(e,e.transformResponse,t),t.headers=Mr.from(t.headers),t}),(function(t){return Br(t)||(Pn(e),t&&t.response&&(t.response.data=Ir.call(e,e.transformResponse,t.response),t.response.headers=Mr.from(t.response.headers))),Promise.reject(t)}))}const Tn="1.8.4",Ln={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Ln[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const On={};Ln.transitional=function(e,t,r){function n(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,a,s)=>{if(!1===e)throw new ir(n(a," has been removed"+(t?" in "+t:"")),ir.ERR_DEPRECATED);return t&&!On[a]&&(On[a]=!0,console.warn(n(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,a,s)}},Ln.spelling=function(e){return(t,r)=>(console.warn("".concat(r," is likely a misspelling of ").concat(e)),!0)};const An={assertOptions:function(e,t,r){if("object"!==typeof e)throw new ir("options must be an object",ir.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],l=t[s];if(l){const t=e[s],r=void 0===t||l(t,s,e);if(!0!==r)throw new ir("option "+s+" must be "+r,ir.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new ir("Unknown option "+s,ir.ERR_BAD_OPTION)}},validators:Ln},Dn=An.validators;class Fn{constructor(e){this.defaults=e,this.interceptors={request:new vr,response:new vr}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(ga){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Zr(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:a}=t;void 0!==r&&An.assertOptions(r,{silentJSONParsing:Dn.transitional(Dn.boolean),forcedJSONParsing:Dn.transitional(Dn.boolean),clarifyTimeoutError:Dn.transitional(Dn.boolean)},!1),null!=n&&(ar.isFunction(n)?t.paramsSerializer={serialize:n}:An.assertOptions(n,{encode:Dn.function,serialize:Dn.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),An.assertOptions(t,{baseUrl:Dn.spelling("baseURL"),withXsrfToken:Dn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&ar.merge(a.common,a[t.method]);a&&ar.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete a[e]})),t.headers=Mr.concat(s,a);const l=[];let o=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,l.unshift(e.fulfilled,e.rejected))}));const i=[];let c;this.interceptors.response.forEach((function(e){i.push(e.fulfilled,e.rejected)}));let d,u=0;if(!o){const e=[Rn.bind(this),void 0];for(e.unshift.apply(e,l),e.push.apply(e,i),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=l.length;let m=t;for(u=0;u<d;){const e=l[u++],t=l[u++];try{m=e(m)}catch(p){t.call(this,p);break}}try{c=Rn.call(this,m)}catch(p){return Promise.reject(p)}for(u=0,d=i.length;u<d;)c=c.then(i[u++],i[u++]);return c}getUri(e){return br(Gr((e=Zr(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}ar.forEach(["delete","get","head","options"],(function(e){Fn.prototype[e]=function(t,r){return this.request(Zr(r||{},{method:e,url:t,data:(r||{}).data}))}})),ar.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,a){return this.request(Zr(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}Fn.prototype[e]=t(),Fn.prototype[e+"Form"]=t(!0)}));const zn=Fn;class Mn{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,a){r.reason||(r.reason=new qr(e,n,a),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Mn((function(t){e=t})),cancel:e}}}const In=Mn;const Bn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Bn).forEach((e=>{let[t,r]=e;Bn[r]=t}));const Un=Bn;const qn=function e(t){const r=new zn(t),n=jt(zn.prototype.request,r);return ar.extend(n,zn.prototype,r,{allOwnKeys:!0}),ar.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(Zr(t,r))},n}(Tr);qn.Axios=zn,qn.CanceledError=qr,qn.CancelToken=In,qn.isCancel=Br,qn.VERSION=Tn,qn.toFormData=pr,qn.AxiosError=ir,qn.Cancel=qn.CanceledError,qn.all=function(e){return Promise.all(e)},qn.spread=function(e){return function(t){return e.apply(null,t)}},qn.isAxiosError=function(e){return ar.isObject(e)&&!0===e.isAxiosError},qn.mergeConfig=Zr,qn.AxiosHeaders=Mr,qn.formToJSON=e=>Pr(ar.isHTMLForm(e)?new FormData(e):e),qn.getAdapter=En,qn.HttpStatusCode=Un,qn.default=qn;const Hn=qn,Wn=Hn.create({baseURL:"https://mvp-2-u8e9.onrender.com",headers:{"Content-Type":"application/json"}});Wn.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(e=>Promise.reject(e)));const Vn=Wn;var Yn=r(579);const $n=e=>{let{requests:t,onMakeOffer:r,onRefresh:n}=e;const[s,l]=(0,a.useState)("PyExpress"),[o,i]=(0,a.useState)(null),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(""),[p,f]=(0,a.useState)(""),[h,x]=(0,a.useState)(""),[g,y]=(0,a.useState)(""),b=async()=>{try{const e=await Vn.get("/requests/offers/mine");d(e.data)}catch(e){console.error("Failed to fetch my offers",e)}},v=t.filter((e=>e.platform===s)),j=()=>{i(null),m(""),f(""),x(""),y("")};return(0,Yn.jsxs)("div",{className:"rfq-container",style:{padding:"20px"},children:[(0,Yn.jsxs)("div",{className:"tabs-header",style:{display:"flex",gap:"20px",borderBottom:"2px solid #eee",marginBottom:"20px"},children:[(0,Yn.jsx)("button",{className:"PyExpress"===s?"tab-active":"tab-inactive",onClick:()=>l("PyExpress"),style:{padding:"10px 20px",border:"none",background:"none",borderBottom:"PyExpress"===s?"3px solid #2ecc71":"none",fontWeight:"bold",cursor:"pointer"},children:"PyExpress (Instant)"}),(0,Yn.jsx)("button",{className:"FarmDeals"===s?"tab-active":"tab-inactive",onClick:()=>l("FarmDeals"),style:{padding:"10px 20px",border:"none",background:"none",borderBottom:"FarmDeals"===s?"3px solid #f39c12":"none",fontWeight:"bold",cursor:"pointer"},children:"Farm Deals (Standard)"}),(0,Yn.jsx)("button",{className:"MyJobs"===s?"tab-active":"tab-inactive",onClick:()=>{l("MyJobs"),b()},style:{padding:"10px 20px",border:"none",background:"none",borderBottom:"MyJobs"===s?"3px solid #3498db":"none",fontWeight:"bold",cursor:"pointer"},children:"My Active Jobs"})]}),(0,Yn.jsx)("div",{className:"deals-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:"MyJobs"===s?0===c.length?(0,Yn.jsx)("p",{children:"No active jobs found."}):c.map((e=>(0,Yn.jsxs)("div",{className:"deal-card",style:{padding:"15px",border:"1px solid #eee",borderRadius:"8px",boxShadow:"0 2px 5px rgba(0,0,0,0.05)",position:"relative"},children:[(0,Yn.jsx)("div",{className:"badge",style:{position:"absolute",top:"10px",right:"10px",background:"accepted"===e.status?"#f1c40f":"#eee",padding:"2px 8px",borderRadius:"4px",fontSize:"0.8em",fontWeight:"bold"},children:e.status.toUpperCase()}),(0,Yn.jsx)("h3",{children:e.request_title||"Unknown Request"}),(0,Yn.jsxs)("p",{style:{color:"#666",fontSize:"0.9em"},children:["My Offer: \u20a6",e.price.toLocaleString()," for ",e.quantity_offered," units"]}),"accepted"===e.status&&(0,Yn.jsxs)("div",{style:{marginTop:"15px",padding:"10px",background:"#fff3cd",borderRadius:"4px"},children:[(0,Yn.jsxs)("p",{style:{fontSize:"0.9em",color:"#856404"},children:["\ud83d\ude80 Job Active! Deliver by ",new Date(e.delivery_date).toLocaleDateString(),"."]}),(0,Yn.jsxs)("div",{className:"bg-white p-2 mt-2 rounded border",children:[(0,Yn.jsx)("small",{className:"block text-gray-500",children:"Tracking Code (Give to Buyer):"}),(0,Yn.jsx)("code",{className:"text-lg font-bold",children:e.delivery_otp||"XXXX"})]}),(0,Yn.jsx)("button",{className:"btn-primary-sm",style:{width:"100%",marginTop:"10px",background:"#e67e22"},onClick:()=>(async e=>{if(window.confirm("Confirm you have delivered this order?"))try{await Vn.post("/offers/".concat(e,"/delivered")),alert("Marked as delivered!"),b()}catch(t){console.error(t),alert("Error marking delivered")}})(e.id),children:"\ud83d\ude9a Mark as Delivered"})]}),"delivered"===e.status&&(0,Yn.jsx)("div",{style:{marginTop:"15px",padding:"10px",background:"#d1ecf1",borderRadius:"4px",color:"#0c5460"},children:"\u2705 Delivered. Waiting for Confirmation."})]},e.id))):0===v.length?(0,Yn.jsx)("p",{children:"No active requests in this category."}):v.map((e=>{var t,r;return(0,Yn.jsxs)("div",{className:"deal-card",style:{padding:"15px",border:"1px solid #eee",borderRadius:"8px",boxShadow:"0 2px 5px rgba(0,0,0,0.05)",position:"relative"},children:[(0,Yn.jsx)("div",{className:"badge",style:{position:"absolute",top:"10px",right:"10px",background:"#eee",padding:"2px 8px",borderRadius:"4px",fontSize:"0.8em"},children:"instant"===e.request_type?"\u26a1 INSTANT":"\ud83d\udcdd STANDARD"}),(0,Yn.jsx)("h3",{children:e.title}),(0,Yn.jsxs)("p",{style:{color:"#666",fontSize:"0.9em"},children:[null===(t=e.items)||void 0===t?void 0:t.length," Items \u2022",(0,Yn.jsxs)("span",{className:"font-bold text-green-600",children:[" \u20a6",e.budget?e.budget.toLocaleString():"Open"]})]}),(0,Yn.jsxs)("div",{style:{margin:"10px 0",padding:"10px",background:"#f9f9f9",borderRadius:"4px"},children:[(0,Yn.jsx)("small",{children:"Need:"}),null===(r=e.items)||void 0===r?void 0:r.slice(0,3).map(((e,t)=>(0,Yn.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9em"},children:[(0,Yn.jsx)("span",{children:e.name}),(0,Yn.jsx)("span",{children:e.quantity?"".concat(e.quantity," ").concat(e.unit):""})]},t)))]}),(0,Yn.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"15px"},children:[(0,Yn.jsxs)("span",{style:{fontSize:"0.8em",color:"#888"},children:["To: ",e.location]}),"instant"===e.request_type?(0,Yn.jsx)("button",{className:"btn-primary-sm bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",onClick:()=>(async e=>{if(window.confirm("Confirm you want to take this job instantly? You are agreeing to the fixed price."))try{const t=await Vn.post("/requests/".concat(e,"/take"));alert("Job Taken! Tracking ID: ".concat(t.data.tracking_id)),n&&n(),b()}catch(a){var t,r;console.error(a),alert((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to take job")}})(e.id),children:"\u26a1 Take Job"}):(0,Yn.jsx)("button",{className:"btn-primary-sm bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded",onClick:()=>{return i(t=e),void f(t.quantity_remaining||"");var t},children:"Place Bid"})]})]},e.id)}))}),o&&(0,Yn.jsx)("div",{className:"modal-overlay",children:(0,Yn.jsxs)("div",{className:"modal-content",style:{maxWidth:"400px"},children:[(0,Yn.jsxs)("h3",{children:["Bid on: ",o.title]}),(0,Yn.jsxs)("div",{className:"form-group",children:[(0,Yn.jsx)("label",{children:"Your Bid Price (\u20a6)"}),(0,Yn.jsx)("input",{type:"number",className:"form-input",value:u,onChange:e=>m(e.target.value)})]}),(0,Yn.jsxs)("div",{className:"form-group",children:[(0,Yn.jsx)("label",{children:"Quantity You Can Supply"}),(0,Yn.jsx)("input",{type:"number",className:"form-input",value:p,onChange:e=>f(e.target.value)}),(0,Yn.jsxs)("small",{children:["Required: ",o.quantity_required||"Open"]})]}),(0,Yn.jsxs)("div",{className:"form-group",children:[(0,Yn.jsx)("label",{children:"Earliest Delivery Date"}),(0,Yn.jsx)("input",{type:"date",className:"form-input",value:h,onChange:e=>x(e.target.value)})]}),(0,Yn.jsxs)("div",{className:"form-group",children:[(0,Yn.jsx)("label",{children:"Proof Image URL"}),(0,Yn.jsx)("input",{type:"text",className:"form-input",value:g,onChange:e=>y(e.target.value),placeholder:"http://..."})]}),(0,Yn.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"20px"},children:[(0,Yn.jsx)("button",{className:"btn-secondary",onClick:j,children:"Cancel"}),(0,Yn.jsx)("button",{className:"btn-primary",onClick:async()=>{const e={price:parseFloat(u),quantity_offered:parseFloat(p),delivery_date:h,images:[g]};try{await Vn.post("/requests/".concat(o.id,"/offers"),e),alert("Bid Submitted Successfully!"),j(),n&&n()}catch(a){var t,r;console.error(a),alert((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to submit bid")}},children:"Submit Bid"})]})]})})]})},Jn=e=>{var t,r;let{isOpen:n,onClose:s,onSubmit:l,userProfile:o,initialType:i=null}=e;const[c,d]=(0,a.useState)(i?2:1),[m,p]=(0,a.useState)(i),[f,h]=(0,a.useState)(""),[x,g]=(0,a.useState)([{name:"",quantity:"",unit:"",specifications:""}]),[y,b]=(0,a.useState)(2),[v,j]=(0,a.useState)(4),[w,N]=(0,a.useState)((null===o||void 0===o?void 0:o.state)||""),[k,_]=(0,a.useState)(!1),[S,C]=(0,a.useState)(null),[E,P]=(0,a.useState)({}),[R,T]=(0,a.useState)({});(0,a.useEffect)((()=>{n&&(d(i?2:1),p(i),C(null),g([{name:"",quantity:"",unit:"",specifications:""}]),h(""))}),[n]);const L=(e,t,r)=>{const n=[...x];n[e][t]=r,g(n),"name"===t&&r.length>2&&"instant"===m&&O(e,r)},O=async(e,t)=>{T((t=>u(u({},t),{},{[e]:!0})));try{const r=await Vn.get("/products/recent-prices?name=".concat(encodeURIComponent(t)));"available"===r.data.status?P((t=>u(u({},t),{},{[e]:{average_price:r.data.average_price,price_range:r.data.price_range,sample_count:r.data.sample_count}}))):P((t=>{const r=u({},t);return delete r[e],r}))}catch(r){console.log("Price estimation unavailable:",r),P((t=>{const r=u({},t);return delete r[e],r}))}finally{T((t=>u(u({},t),{},{[e]:!1})))}};return n?(0,Yn.jsx)("div",{className:"modal-overlay",children:(0,Yn.jsxs)("div",{className:"modal-content",style:{maxWidth:"800px",width:"90%"},children:[(0,Yn.jsxs)("div",{className:"modal-header",children:[(0,Yn.jsx)("h3",{children:"Create New Request"}),(0,Yn.jsx)("button",{className:"close-button",onClick:s,children:"\xd7"})]}),(0,Yn.jsxs)("div",{className:"modal-body",children:[(0,Yn.jsxs)("div",{className:"wizard-progress",style:{display:"flex",justifyContent:"space-between",marginBottom:"20px",borderBottom:"1px solid #eee",paddingBottom:"10px"},children:[(0,Yn.jsx)("span",{style:1===c?{color:"#2ecc71",fontWeight:"bold"}:{color:"#ccc"},children:"1. Type"}),(0,Yn.jsx)("span",{style:2===c?{color:"#2ecc71",fontWeight:"bold"}:{color:"#ccc"},children:"2. Details"}),(0,Yn.jsx)("span",{style:3===c?{color:"#2ecc71",fontWeight:"bold"}:{color:"#ccc"},children:"3. Review"}),(0,Yn.jsx)("span",{style:4===c?{color:"#2ecc71",fontWeight:"bold"}:{color:"#ccc"},children:"4. Pay Fee"})]}),1===c&&(0,Yn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Yn.jsxs)("div",{className:"p-6 border rounded-lg cursor-pointer transition-all ".concat("standard"===m?"border-green-500 bg-green-50 shadow-md":"border-gray-200 hover:border-green-300"),onClick:()=>p("standard"),children:[(0,Yn.jsx)("h4",{className:"text-xl font-bold mb-2",children:"Standard Request"}),(0,Yn.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Post a single commodity. Get competitive bids from verified farmers & agents. Best for bulk."}),(0,Yn.jsxs)("ul",{className:"text-xs text-gray-500 list-disc pl-4 space-y-1",children:[(0,Yn.jsx)("li",{children:"Delivery: 2 days - 2 weeks"}),(0,Yn.jsx)("li",{children:"Agents bid with proof"}),(0,Yn.jsx)("li",{children:"Tiered Service Charge"})]})]}),(0,Yn.jsxs)("div",{className:"p-6 border rounded-lg cursor-pointer transition-all ".concat("instant"===m?"border-green-500 bg-green-50 shadow-md":"border-gray-200 hover:border-green-300"),onClick:()=>p("instant"),children:[(0,Yn.jsx)("h4",{className:"text-xl font-bold mb-2",children:"Instant Request \u26a1"}),(0,Yn.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Need it NOW? PyExpress agents will pick up and deliver immediately. Fixed market pricing."}),(0,Yn.jsxs)("ul",{className:"text-xs text-gray-500 list-disc pl-4 space-y-1",children:[(0,Yn.jsx)("li",{children:"Delivery: 2 - 12 Hours"}),(0,Yn.jsx)("li",{children:"System-generated Price"}),(0,Yn.jsx)("li",{children:"Multi-item support"}),(0,Yn.jsx)("li",{children:"5% Service Charge"})]})]}),(0,Yn.jsx)("div",{className:"col-span-1 md:col-span-2 text-right mt-4",children:(0,Yn.jsx)("button",{className:"btn-primary",disabled:!m,onClick:()=>m&&d(2),children:"Next \u2192"})})]}),2===c&&(0,Yn.jsxs)("div",{children:[(0,Yn.jsxs)("div",{className:"mb-4",children:[(0,Yn.jsx)("label",{children:"Request Title"}),(0,Yn.jsx)("input",{type:"text",className:"form-input",value:f,onChange:e=>h(e.target.value),placeholder:"instant"===m?"Quick Grocery Restock":"Bulk Onions Supply"})]}),(0,Yn.jsxs)("div",{className:"mb-4",children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Yn.jsx)("label",{children:"Items Needed"}),"instant"===m&&(0,Yn.jsx)("button",{className:"text-sm text-green-600",onClick:()=>{g([...x,{name:"",quantity:"",unit:"",specifications:""}])},children:"+ Add Item"})]}),x.map(((e,t)=>(0,Yn.jsxs)("div",{className:"mb-3",children:[(0,Yn.jsxs)("div",{className:"flex gap-2",children:[(0,Yn.jsx)("input",{placeholder:"Item Name",className:"form-input flex-2",value:e.name,onChange:e=>L(t,"name",e.target.value)}),(0,Yn.jsx)("input",{type:"number",placeholder:"Qty",className:"form-input w-20",value:e.quantity,onChange:e=>L(t,"quantity",e.target.value)}),(0,Yn.jsx)("input",{placeholder:"Unit",className:"form-input w-24",value:e.unit,onChange:e=>L(t,"unit",e.target.value)}),"instant"===m&&x.length>1&&(0,Yn.jsx)("button",{onClick:()=>(e=>{const t=x.filter(((t,r)=>r!==e));g(t)})(t),className:"text-red-500 px-2",children:"\xd7"})]}),"instant"===m&&e.name&&(0,Yn.jsx)("div",{className:"mt-1 ml-1 text-sm",children:R[t]?(0,Yn.jsx)("span",{className:"text-gray-400",children:"\ud83d\udcad Checking prices..."}):E[t]?(0,Yn.jsxs)("div",{className:"text-green-600",children:["\ud83d\udcb0 Est. Price: \u20a6",E[t].average_price.toLocaleString(),"/",e.unit||"unit",(0,Yn.jsxs)("span",{className:"text-gray-500 ml-2",children:["(\u20a6",E[t].price_range.min.toLocaleString()," - \u20a6",E[t].price_range.max.toLocaleString(),")"]}),(0,Yn.jsxs)("span",{className:"text-xs text-gray-400 ml-2",children:["Based on ",E[t].sample_count," recent orders"]})]}):e.name.length>2?(0,Yn.jsx)("span",{className:"text-gray-400",children:"\u2139\ufe0f No recent price data available"}):null})]},t))),"standard"===m&&(0,Yn.jsx)("p",{className:"text-xs text-gray-500",children:"Standard requests are limited to 1 item type per request."})]}),(0,Yn.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{children:"Location"}),(0,Yn.jsx)("input",{className:"form-input",value:w,onChange:e=>N(e.target.value),placeholder:"Delivery Address"})]}),(0,Yn.jsx)("div",{children:"instant"===m?(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsx)("label",{children:"Needed Within (Hours)"}),(0,Yn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Yn.jsx)("input",{type:"range",min:"2",max:"12",value:v,onChange:e=>j(e.target.value),className:"w-full"}),(0,Yn.jsxs)("span",{className:"font-bold",children:[v,"h"]})]})]}):(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsx)("label",{children:"Needed Within (Days)"}),(0,Yn.jsx)("input",{type:"number",min:"2",className:"form-input",value:y,onChange:e=>b(e.target.value)})]})})]}),(0,Yn.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,Yn.jsx)("button",{className:"btn-secondary",onClick:()=>d(1),children:"\u2190 Back"}),(0,Yn.jsx)("button",{className:"btn-primary",onClick:()=>d(3),children:"Next \u2192"})]})]}),3===c&&(0,Yn.jsxs)("div",{className:"text-center",children:[(0,Yn.jsxs)("h4",{className:"text-lg font-bold mb-4",children:["Review Your ","instant"===m?"Instant":"Standard"," Request"]}),(0,Yn.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-left mb-6",children:[(0,Yn.jsxs)("p",{children:[(0,Yn.jsx)("strong",{children:"Title:"})," ",f]}),(0,Yn.jsxs)("p",{children:[(0,Yn.jsx)("strong",{children:"Items:"})," ",x.length," items"]}),(0,Yn.jsx)("ul",{className:"list-disc pl-5 mb-2",children:x.map(((e,t)=>(0,Yn.jsxs)("li",{className:"text-sm",children:[e.quantity," ",e.unit," ",e.name]},t)))}),(0,Yn.jsxs)("p",{children:[(0,Yn.jsx)("strong",{children:"Delivery:"})," ","instant"===m?"".concat(v," Hours"):"".concat(y," Days")]}),(0,Yn.jsxs)("p",{children:[(0,Yn.jsx)("strong",{children:"Location:"})," ",w]})]}),(0,Yn.jsx)("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg mb-6",children:(0,Yn.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Yn.jsx)("strong",{children:"Note:"})," You will be required to pay a Service Charge to activate this request. The actual cost of goods is paid on delivery.","instant"===m?(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsx)("br",{}),(0,Yn.jsx)("br",{}),(0,Yn.jsx)("strong",{children:"\ud83d\ude9a Delivery Fee:"})," This estimate covers ",(0,Yn.jsx)("strong",{children:"Goods Only"}),". Standard delivery rates apply and will be added to your total on delivery."]}):" Agents will bid competitively."]})}),(0,Yn.jsxs)("div",{className:"flex justify-between",children:[(0,Yn.jsx)("button",{className:"btn-secondary",onClick:()=>d(2),children:"\u2190 Back"}),(0,Yn.jsx)("button",{className:"btn-primary",onClick:async()=>{_(!0);try{const e=u({request_type:m,title:f||"".concat("instant"===m?"Instant":"Standard"," Request for ").concat(x[0].name),items:x.map((e=>u(u({},e),{},{quantity:e.quantity?parseFloat(e.quantity):1}))),location:w,unit_of_measure:x[0].unit||"mixed",persona:"Business",business_category:(null===o||void 0===o?void 0:o.business_category)||"General"},"instant"===m?{delivery_hours:parseInt(v)}:{delivery_days:parseInt(y)}),t=await Vn.post("/requests",e);"pending_payment"===t.data.status?(C(t.data),d(4)):(l(t.data),s())}catch(r){var e,t;console.error("Request creation failed:",r),alert((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to create request")}finally{_(!1)}},disabled:k,children:k?"Creating...":"Create & Proceed to Payment"})]})]}),4===c&&S&&(0,Yn.jsxs)("div",{className:"text-center py-6",children:[(0,Yn.jsx)("div",{className:"text-green-500 text-5xl mb-4",children:"\ud83d\udcb3"}),(0,Yn.jsx)("h4",{className:"text-2xl font-bold mb-2",children:"Service Charge Payment"}),(0,Yn.jsx)("p",{className:"text-gray-600 mb-6",children:"Please complete the payment to activate your request."}),(0,Yn.jsxs)("div",{className:"bg-gray-100 p-6 rounded-lg max-w-sm mx-auto mb-8",children:[(0,Yn.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,Yn.jsx)("span",{children:"Estimated Goods Value:"}),(0,Yn.jsxs)("span",{className:"font-bold",children:["\u20a6",null===(t=S.estimated_total_price)||void 0===t?void 0:t.toLocaleString()]})]}),(0,Yn.jsxs)("div",{className:"flex justify-between mb-2 text-blue-600 font-bold",children:[(0,Yn.jsx)("span",{children:"Service Charge:"}),(0,Yn.jsxs)("span",{children:["\u20a6",null===(r=S.amount_to_pay)||void 0===r?void 0:r.toLocaleString()]})]}),(0,Yn.jsx)("div",{className:"text-xs text-orange-600 mt-2 italic",children:"* Delivery fee not included. Paid on delivery."}),(0,Yn.jsx)("hr",{className:"my-2"}),(0,Yn.jsxs)("div",{className:"text-xs text-gray-500",children:["Payment Reference: ",(0,Yn.jsx)("br",{}),(0,Yn.jsx)("code",{className:"bg-white px-2 py-1 rounded border",children:S.payment_reference})]})]}),(0,Yn.jsx)("button",{className:"bg-green-600 text-white px-8 py-3 rounded-lg font-bold hover:bg-green-700 w-full max-w-sm",onClick:()=>{alert("Starting Paystack Payment for Ref: ".concat(S.payment_reference,"\nAmount: \u20a6").concat(S.amount_to_pay)),alert("Payment Simulated! Reference verified."),s(),l()},children:"Pay Now (Paystack)"})]})]})]})}):null},Kn=e=>{let{type:t,userRole:r}=e;const[n,s]=(0,a.useState)([]),[l,o]=(0,a.useState)(!1);(0,a.useEffect)((()=>{i();const e=setInterval(i,3e4);return()=>clearInterval(e)}),[t]);const i=async()=>{try{o(!0);const e=localStorage.getItem("token"),r=e?{Authorization:"Bearer ".concat(e)}:{},n=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/requests?type=").concat(t),{headers:r});if(n.ok){const e=await n.json();s(e)}}catch(e){console.error("Failed to fetch requests",e)}finally{o(!1)}};return 0!==n.length||l?(0,Yn.jsxs)("div",{className:"mb-8",children:[(0,Yn.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"instant"===t?"\u26a1 Live Instant Requests":"\ud83c\udf3e Active Farm Requests"}),(0,Yn.jsx)("p",{className:"text-sm text-gray-600",children:"instant"===t?"Urgent orders needing delivery in 2-6 hours":"Bulk commodity requests to be filled"})]})}),(0,Yn.jsx)("div",{className:"space-y-4",children:n.slice(0,5).map((e=>{var n,a,s;return(0,Yn.jsxs)("div",{className:"bg-white border border-gray-100 rounded-xl p-4 shadow-sm hover:shadow-md transition-shadow",children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsxs)("h4",{className:"font-bold text-gray-900",children:[null===(n=e.items[0])||void 0===n?void 0:n.name," ",e.items.length>1&&"+ ".concat(e.items.length-1," others")]}),(0,Yn.jsxs)("p",{className:"text-xs text-gray-500",children:[new Date(e.created_at).toLocaleString()," \u2022 ",e.location]})]}),(0,Yn.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-bold ".concat("instant"===t?"bg-emerald-100 text-emerald-800":"bg-green-100 text-green-800"),children:"instant"===t?"".concat(e.delivery_hours,"h Delivery"):"".concat(e.delivery_days," Days")})]}),(0,Yn.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,Yn.jsxs)("div",{className:"text-gray-700",children:[(0,Yn.jsxs)("span",{className:"font-medium",children:[null===(a=e.items[0])||void 0===a?void 0:a.quantity," ",null===(s=e.items[0])||void 0===s?void 0:s.unit]}),e.budget&&(0,Yn.jsxs)("span",{className:"text-gray-400",children:[" \u2022 Budget: \u20a6",e.budget.toLocaleString()]})]}),("agent"===r||"farmer"===r||"business"===r)&&(0,Yn.jsx)("button",{className:"text-emerald-600 font-medium hover:text-emerald-700 text-sm",children:"Make Offer \u2192"})]})]},e.id)}))}),n.length>5&&(0,Yn.jsx)("div",{className:"text-center mt-4",children:(0,Yn.jsxs)("button",{className:"text-emerald-600 font-medium text-sm hover:underline",children:["View All Requests (",n.length,")"]})})]}):null},Qn=e=>{var t,r,n,s;let{userRole:l,onClose:o}=e;const[i,c]=(0,a.useState)([]),[d,m]=(0,a.useState)(!1),[p,f]=(0,a.useState)({type:"all",location:""}),[h,x]=(0,a.useState)([]),[g,y]=(0,a.useState)(!1),[b,v]=(0,a.useState)(null),[j,w]=(0,a.useState)({price_per_unit:"",delivery_days:"",notes:""});(0,a.useEffect)((()=>{N(),k();const e=setInterval(N,3e4);return()=>clearInterval(e)}),[p]);const N=async()=>{try{m(!0);const e=new URLSearchParams;"all"!==p.type&&e.append("type",p.type),p.location&&e.append("location",p.location);const t=await Vn.get("/requests?".concat(e.toString()));c(t.data||[])}catch(e){console.error("Failed to fetch requests",e)}finally{m(!1)}},k=async()=>{try{const e=(await Vn.get("/requests")).data||[],t=[...new Set(e.map((e=>e.location)).filter(Boolean))];x(t)}catch(e){console.error("Failed to fetch locations",e)}},_=i;return(0,Yn.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Yn.jsx)("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:(0,Yn.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"\ud83c\udfaf Buyer Requests"}),(0,Yn.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Browse and respond to buyer requests"})]}),o&&(0,Yn.jsx)("button",{onClick:o,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,Yn.jsxs)("div",{className:"mt-4 flex flex-wrap gap-3",children:[(0,Yn.jsxs)("div",{className:"flex gap-2",children:[(0,Yn.jsx)("button",{onClick:()=>f((e=>u(u({},e),{},{type:"all"}))),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat("all"===p.type?"bg-emerald-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"All Requests"}),(0,Yn.jsx)("button",{onClick:()=>f((e=>u(u({},e),{},{type:"instant"}))),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat("instant"===p.type?"bg-emerald-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"\u26a1 Instant (2-6hrs)"}),(0,Yn.jsx)("button",{onClick:()=>f((e=>u(u({},e),{},{type:"standard"}))),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat("standard"===p.type?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"\ud83c\udf3e Standard (Farm Deals)"})]}),(0,Yn.jsxs)("select",{value:p.location,onChange:e=>f((t=>u(u({},t),{},{location:e.target.value}))),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[(0,Yn.jsx)("option",{value:"",children:"All Locations"}),h.map((e=>(0,Yn.jsx)("option",{value:e,children:e},e)))]}),(0,Yn.jsxs)("div",{className:"flex items-center text-sm text-gray-600 ml-auto",children:[_.length," request",1!==_.length?"s":""," found"]})]})]})}),(0,Yn.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:d?(0,Yn.jsxs)("div",{className:"text-center py-12",children:[(0,Yn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500 mx-auto mb-4"}),(0,Yn.jsx)("p",{className:"text-gray-600",children:"Loading requests..."})]}):0===_.length?(0,Yn.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg border border-gray-200",children:[(0,Yn.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udced"}),(0,Yn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Requests Found"}),(0,Yn.jsx)("p",{className:"text-gray-600",children:"all"!==p.type||p.location?"Try adjusting your filters to see more requests":"There are no active requests at the moment"})]}):(0,Yn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map((e=>{var t,r,n;return(0,Yn.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Yn.jsxs)("div",{className:"flex-1",children:[(0,Yn.jsxs)("h3",{className:"font-bold text-gray-900 text-lg mb-1",children:[null===(t=e.items[0])||void 0===t?void 0:t.name,e.items.length>1&&(0,Yn.jsxs)("span",{className:"text-sm text-gray-500 font-normal",children:[" ","+ ",e.items.length-1," more"]})]}),(0,Yn.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleString()})]}),(0,Yn.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold ".concat("instant"===e.type?"bg-emerald-100 text-emerald-800":"bg-orange-100 text-orange-800"),children:"instant"===e.type?"\u26a1 Instant":"\ud83c\udf3e Standard"})]}),(0,Yn.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,Yn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Yn.jsx)("span",{className:"text-gray-600 w-20",children:"Quantity:"}),(0,Yn.jsxs)("span",{className:"font-medium text-gray-900",children:[null===(r=e.items[0])||void 0===r?void 0:r.quantity," ",null===(n=e.items[0])||void 0===n?void 0:n.unit]})]}),(0,Yn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Yn.jsx)("span",{className:"text-gray-600 w-20",children:"Location:"}),(0,Yn.jsxs)("span",{className:"font-medium text-gray-900",children:["\ud83d\udccd ",e.location]})]}),e.budget&&(0,Yn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Yn.jsx)("span",{className:"text-gray-600 w-20",children:"Budget:"}),(0,Yn.jsxs)("span",{className:"font-medium text-emerald-600",children:["\u20a6",e.budget.toLocaleString()]})]}),(0,Yn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Yn.jsx)("span",{className:"text-gray-600 w-20",children:"Delivery:"}),(0,Yn.jsx)("span",{className:"font-medium text-gray-900",children:"instant"===e.type?"".concat(e.delivery_hours||6,"hrs"):"".concat(e.delivery_days," days")})]})]}),("agent"===l||"farmer"===l||"business"===l)&&(0,Yn.jsx)("button",{onClick:()=>(e=>{v(e),y(!0)})(e),className:"w-full bg-emerald-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-emerald-700 transition-colors",children:"Make Offer"})]},e.id)}))})}),g&&b&&(0,Yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Yn.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,Yn.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Make an Offer"}),(0,Yn.jsxs)("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[(0,Yn.jsx)("p",{className:"text-sm text-gray-600",children:"Request for:"}),(0,Yn.jsx)("p",{className:"font-semibold text-gray-900",children:null===(t=b.items[0])||void 0===t?void 0:t.name}),(0,Yn.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[null===(r=b.items[0])||void 0===r?void 0:r.quantity," ",null===(n=b.items[0])||void 0===n?void 0:n.unit]})]}),(0,Yn.jsxs)("div",{className:"space-y-4",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Price per ",null===(s=b.items[0])||void 0===s?void 0:s.unit," (\u20a6)"]}),(0,Yn.jsx)("input",{type:"number",value:j.price_per_unit,onChange:e=>w((t=>u(u({},t),{},{price_per_unit:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Enter your price",required:!0})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Days"}),(0,Yn.jsx)("input",{type:"number",value:j.delivery_days,onChange:e=>w((t=>u(u({},t),{},{delivery_days:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Number of days",required:!0})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),(0,Yn.jsx)("textarea",{value:j.notes,onChange:e=>w((t=>u(u({},t),{},{notes:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",rows:"3",placeholder:"Add any additional information..."})]})]}),(0,Yn.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,Yn.jsx)("button",{onClick:()=>{y(!1),v(null),w({price_per_unit:"",delivery_days:"",notes:""})},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,Yn.jsx)("button",{onClick:async()=>{if(b)try{await Vn.post("/requests/".concat(b.id,"/offers"),{price_per_unit:parseFloat(j.price_per_unit),delivery_days:parseInt(j.delivery_days),notes:j.notes}),alert("Offer submitted successfully!"),y(!1),v(null),w({price_per_unit:"",delivery_days:"",notes:""}),N()}catch(r){var e,t;console.error("Error making offer:",r),alert((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to submit offer")}},disabled:!j.price_per_unit||!j.delivery_days,className:"flex-1 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Submit Offer"})]})]})})]})},Gn=e=>{var t;let{isOpen:r,onClose:n,userProfile:s}=e;const[l,o]=(0,a.useState)(null),[i,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[m,p]=(0,a.useState)("");(0,a.useEffect)((()=>{r&&f()}),[r]);const f=async()=>{c(!0);try{const e=await Vn.get("/users/wallet/balance");o(e.data)}catch(e){console.error("Failed to fetch wallet balance:",e)}finally{c(!1)}};return r?(0,Yn.jsx)("div",{className:"modal-overlay",children:(0,Yn.jsxs)("div",{className:"modal-content",style:{maxWidth:"600px"},children:[(0,Yn.jsxs)("div",{className:"modal-header",children:[(0,Yn.jsx)("h3",{children:"\ud83d\udcb0 My Wallet"}),(0,Yn.jsx)("button",{className:"close-button",onClick:n,children:"\xd7"})]}),(0,Yn.jsx)("div",{className:"modal-body",children:i?(0,Yn.jsx)("div",{className:"text-center py-8",children:(0,Yn.jsx)("p",{children:"Loading wallet..."})}):l?(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-lg mb-4",children:[(0,Yn.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Available Balance"}),(0,Yn.jsxs)("h2",{className:"text-4xl font-bold text-green-600",children:["\u20a6",(null===(t=l.balance)||void 0===t?void 0:t.toLocaleString())||"0"]})]}),l.has_dva?(0,Yn.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:[(0,Yn.jsxs)("h4",{className:"font-semibold mb-3 flex items-center",children:[(0,Yn.jsx)("span",{className:"text-2xl mr-2",children:"\ud83c\udfe6"}),"Dedicated Virtual Account"]}),(0,Yn.jsxs)("div",{className:"space-y-2",children:[(0,Yn.jsxs)("div",{className:"flex justify-between",children:[(0,Yn.jsx)("span",{className:"text-gray-600",children:"Bank Name:"}),(0,Yn.jsx)("span",{className:"font-semibold",children:l.dva_bank_name})]}),(0,Yn.jsxs)("div",{className:"flex justify-between",children:[(0,Yn.jsx)("span",{className:"text-gray-600",children:"Account Number:"}),(0,Yn.jsx)("span",{className:"font-semibold text-lg",children:l.dva_account_number})]})]}),(0,Yn.jsx)("div",{className:"mt-3 p-3 bg-white rounded border border-blue-200",children:(0,Yn.jsxs)("p",{className:"text-xs text-gray-600",children:["\ud83d\udca1 ",(0,Yn.jsx)("strong",{children:"How to fund:"})," Transfer money to this account from any bank. Your wallet will be credited automatically within minutes."]})})]}):(0,Yn.jsx)("div",{className:"bg-yellow-50 p-4 rounded-lg mb-4",children:(0,Yn.jsx)("p",{className:"text-sm text-gray-700",children:"\u26a0\ufe0f No dedicated virtual account found. Please contact support to activate your wallet."})}),d?(0,Yn.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[(0,Yn.jsx)("h4",{className:"font-semibold text-green-700 mb-2",children:"\u2705 Funding Instructions"}),(0,Yn.jsxs)("p",{className:"text-sm mb-3",children:["Transfer ",(0,Yn.jsxs)("strong",{children:["\u20a6",parseFloat(m).toLocaleString()]})," to:"]}),(0,Yn.jsxs)("div",{className:"bg-white p-3 rounded border border-green-300 mb-3",children:[(0,Yn.jsx)("p",{className:"font-semibold",children:l.dva_bank_name}),(0,Yn.jsx)("p",{className:"text-2xl font-bold text-green-600",children:l.dva_account_number})]}),(0,Yn.jsx)("p",{className:"text-xs text-gray-600",children:"Your wallet will be credited automatically once the transfer is confirmed."}),(0,Yn.jsx)("button",{className:"btn-secondary mt-3 w-full",onClick:()=>{u(!1),p("")},children:"Done"})]}):(0,Yn.jsxs)("div",{className:"border-t pt-4",children:[(0,Yn.jsx)("h4",{className:"font-semibold mb-3",children:"Fund Wallet"}),(0,Yn.jsxs)("div",{className:"flex gap-2",children:[(0,Yn.jsx)("input",{type:"number",className:"form-input flex-1",placeholder:"Enter amount",value:m,onChange:e=>p(e.target.value)}),(0,Yn.jsx)("button",{className:"btn-primary",onClick:async()=>{if(!m||parseFloat(m)<=0)alert("Please enter a valid amount");else try{await Vn.post("/users/wallet/fund",{amount:parseFloat(m)});u(!0)}catch(r){var e,t;alert((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to initiate funding")}},disabled:!l.has_dva,children:"Get Details"})]})]}),(0,Yn.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,Yn.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Quick Actions:"}),(0,Yn.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Yn.jsx)("button",{className:"btn-secondary text-sm py-2",children:"\ud83d\udcca Transaction History"}),(0,Yn.jsx)("button",{className:"btn-secondary text-sm py-2",children:"\ud83d\udcb8 Withdraw Funds"})]})]})]}):(0,Yn.jsxs)("div",{className:"text-center py-8",children:[(0,Yn.jsx)("p",{children:"Failed to load wallet data"}),(0,Yn.jsx)("button",{className:"btn-primary mt-4",onClick:f,children:"Retry"})]})})]})}):null},Xn=e=>{let{onJoin:t}=e;const[r,n]=(0,a.useState)(""),[s,l]=(0,a.useState)([]),[o,i]=(0,a.useState)(!1),c=async e=>{e&&e.preventDefault(),i(!0);try{const e=r.trim()?"?q=".concat(r,"&type=community"):"?type=community",t=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/communities/search").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(t.ok){const e=await t.json();l(e.communities||[])}}catch(t){console.error("Search failed",t)}finally{i(!1)}};return a.useEffect((()=>{c()}),[]),(0,Yn.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:[(0,Yn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Find Communities"}),(0,Yn.jsx)("form",{onSubmit:c,className:"mb-6",children:(0,Yn.jsxs)("div",{className:"flex gap-2",children:[(0,Yn.jsx)("input",{type:"text",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Search by name, location, or crop...",value:r,onChange:e=>n(e.target.value)}),(0,Yn.jsx)("button",{type:"submit",className:"px-6 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50",disabled:o,children:o?"Searching...":"Search"})]})}),(0,Yn.jsxs)("div",{className:"space-y-4",children:[0===s.length&&!o&&r&&(0,Yn.jsx)("p",{className:"text-gray-500 text-center",children:"No communities found. Try a different term."}),s.map((e=>(0,Yn.jsxs)("div",{className:"flex justify-between items-center p-4 border border-gray-100 rounded-lg hover:bg-gray-50",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,Yn.jsx)("p",{className:"text-sm text-gray-500",children:e.description}),(0,Yn.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,Yn.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:e.category}),(0,Yn.jsxs)("span",{className:"text-xs text-gray-400",children:[e.members_count||0," members"]})]})]}),(0,Yn.jsx)("button",{onClick:()=>t(e.id),className:"px-4 py-1.5 bg-emerald-100 text-emerald-700 rounded-md hover:bg-emerald-200 text-sm font-medium",children:"Join"})]},e.id)))]})]})},Zn=e=>{let{onSelect:t,refreshTrigger:r,onCreate:n}=e;const[s,l]=(0,a.useState)([]),[o,i]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{localStorage.getItem("token")&&(async()=>{try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/communities/my-communities"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();l(e)}}catch(e){console.error("Failed to fetch my communities",e)}finally{i(!1)}})()}),[r]),o?(0,Yn.jsx)("div",{className:"p-4 text-center text-gray-500",children:"Loading your communities..."}):(0,Yn.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,Yn.jsxs)("div",{className:"p-4 bg-emerald-50 border-b border-emerald-100 flex justify-between items-center",children:[(0,Yn.jsx)("h3",{className:"font-semibold text-emerald-900",children:"My Communities"}),(0,Yn.jsx)("button",{onClick:n,className:"text-xs bg-emerald-600 text-white px-2 py-1 rounded hover:bg-emerald-700 transition-colors",children:"+ Create"})]}),0===s.length?(0,Yn.jsxs)("div",{className:"p-8 text-center",children:[(0,Yn.jsx)("p",{className:"text-gray-500 mb-2",children:"You haven't joined any communities yet."}),(0,Yn.jsx)("p",{className:"text-xs text-gray-400",children:"Use the search to find groups!"})]}):(0,Yn.jsx)("div",{className:"divide-y divide-gray-100",children:s.map((e=>(0,Yn.jsxs)("button",{onClick:()=>t(e),className:"w-full text-left p-4 hover:bg-gray-50 transition-colors flex items-center justify-between group",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("h4",{className:"font-medium text-gray-900 group-hover:text-emerald-700",children:e.name}),(0,Yn.jsxs)("p",{className:"text-xs text-gray-500",children:[e.members_count||0," members"]})]}),(0,Yn.jsx)("span",{className:"text-gray-300 group-hover:text-emerald-500",children:"\u2192"})]},e.id)))})]})},ea=e=>{let{community:t,onBack:r}=e;const[n,s]=(0,a.useState)("feed"),[l,o]=(0,a.useState)([]),[i,c]=(0,a.useState)(!1),[d,m]=(0,a.useState)(!1),[p,f]=(0,a.useState)(""),[h,x]=(0,a.useState)(!1),g="https://mvp-2-u8e9.onrender.com",y=async()=>{c(!0);try{const e="feed"===n?"".concat(g,"/api/communities/").concat(t.id,"/posts"):"".concat(g,"/api/communities/").concat(t.id,"/products"),r=localStorage.getItem("token"),a=await fetch(e,{headers:{Authorization:"Bearer ".concat(r)}});if(a.ok){const e=await a.json();o(e)}c(!1)}catch(e){console.error(e),c(!1)}};(0,a.useEffect)((()=>{y()}),[n,t]);return(0,Yn.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 h-full flex flex-col relative",children:[(0,Yn.jsxs)("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between bg-emerald-50",children:[(0,Yn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Yn.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:"\u2190 Back"}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:t.name}),(0,Yn.jsxs)("p",{className:"text-sm text-gray-600",children:[t.category," \u2022 ",t.members_count||0," Members"]})]})]}),(0,Yn.jsx)("button",{onClick:()=>m(!0),className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 text-sm font-medium",children:"+ New Post"})]}),(0,Yn.jsxs)("div",{className:"flex border-b border-gray-200",children:[(0,Yn.jsx)("button",{className:"flex-1 py-3 text-sm font-medium ".concat("feed"===n?"border-b-2 border-emerald-500 text-emerald-600":"text-gray-500"),onClick:()=>s("feed"),children:"Community Feed"}),(0,Yn.jsx)("button",{className:"flex-1 py-3 text-sm font-medium ".concat("products"===n?"border-b-2 border-emerald-500 text-emerald-600":"text-gray-500"),onClick:()=>s("products"),children:"Marketplace"})]}),(0,Yn.jsx)("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50",children:i?(0,Yn.jsx)("div",{className:"text-center py-8 text-gray-400",children:"Loading..."}):(0,Yn.jsxs)("div",{className:"space-y-4",children:[0===l.length&&(0,Yn.jsx)("p",{className:"text-center text-gray-400",children:"No content yet. Be the first to post!"}),"feed"===n&&l.map((e=>(0,Yn.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:[(0,Yn.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,Yn.jsx)("span",{className:"font-semibold text-gray-900",children:e.author}),(0,Yn.jsx)("span",{className:"text-xs text-gray-400",children:e.date})]}),(0,Yn.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap mb-3",children:e.content}),(0,Yn.jsxs)("div",{className:"flex items-center gap-4 pt-3 border-t border-gray-100",children:[(0,Yn.jsxs)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),r=await fetch("".concat(g,"/api/communities/posts/").concat(e,"/like"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)}});if(r.ok){const t=await r.json();o(l.map((r=>r.id===e?u(u({},r),{},{user_liked:t.liked,likes_count:t.liked?(r.likes_count||0)+1:Math.max((r.likes_count||0)-1,0)}):r)))}}catch(t){console.error("Like failed:",t)}})(e.id),className:"flex items-center gap-1.5 text-sm text-gray-600 hover:text-red-600 transition-colors",children:[(0,Yn.jsx)("span",{className:e.user_liked?"text-red-600":"",children:e.user_liked?"\u2764\ufe0f":"\ud83e\udd0d"}),(0,Yn.jsx)("span",{children:e.likes_count||0})]}),(0,Yn.jsxs)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),r=await fetch("".concat(g,"/api/communities/posts/").concat(e,"/comments"),{headers:{Authorization:"Bearer ".concat(t)}});if(r.ok){const e=await r.json();if(0===e.length)alert("No comments yet. Be the first to comment!");else{const t=e.map((e=>"".concat(e.username,": ").concat(e.content))).join("\n\n");alert("Comments:\n\n".concat(t))}}}catch(t){console.error("Failed to fetch comments:",t)}})(e.id),className:"flex items-center gap-1.5 text-sm text-gray-600 hover:text-blue-600 transition-colors",children:[(0,Yn.jsx)("span",{children:"\ud83d\udcac"}),(0,Yn.jsx)("span",{children:e.comments_count||0})]}),(0,Yn.jsxs)("button",{onClick:()=>(async()=>{const e="Check out this post in ".concat(t.name,"!");if(navigator.share)try{await navigator.share({title:t.name,text:e,url:window.location.href})}catch(r){console.log("Share cancelled")}else alert("Share feature: Post link copied!")})(e.id),className:"flex items-center gap-1.5 text-sm text-gray-600 hover:text-green-600 transition-colors",children:[(0,Yn.jsx)("span",{children:"\ud83d\udd17"}),(0,Yn.jsx)("span",{children:"Share"})]})]})]},e.id))),"products"===n&&l.map((e=>(0,Yn.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 flex justify-between items-center",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("h4",{className:"font-medium",children:e.name}),(0,Yn.jsxs)("p",{className:"text-sm text-emerald-600 font-bold",children:["\u20a6",e.price," / ",e.unit]})]}),(0,Yn.jsx)("button",{className:"px-3 py-1 bg-emerald-100 text-emerald-700 rounded text-sm hover:bg-emerald-200",children:"View"})]},e.id)))]})}),d&&(0,Yn.jsx)("div",{className:"absolute inset-0 bg-black/50 z-50 flex items-center justify-center p-4 rounded-lg",children:(0,Yn.jsxs)("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-lg overflow-hidden",children:[(0,Yn.jsxs)("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:[(0,Yn.jsx)("h3",{className:"font-bold text-gray-900",children:"Create Post"}),(0,Yn.jsx)("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600 text-xl",children:"\xd7"})]}),(0,Yn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),p.trim()){x(!0);try{const e=localStorage.getItem("token"),r=await fetch("".concat(g,"/api/communities/").concat(t.id,"/posts"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({content:p})});if(r.ok)f(""),m(!1),y();else{const e=await r.json();alert(e.detail||"Failed to post")}}catch(r){alert("Error creating post")}finally{x(!1)}}},className:"p-4",children:[(0,Yn.jsx)("textarea",{value:p,onChange:e=>f(e.target.value),placeholder:"Share something with the community...",className:"w-full h-32 p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent resize-none text-sm",autoFocus:!0}),(0,Yn.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,Yn.jsx)("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 text-sm font-medium",children:"Cancel"}),(0,Yn.jsx)("button",{type:"submit",disabled:!p.trim()||h,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg text-sm font-medium transition-colors ".concat(!p.trim()||h?"opacity-50 cursor-not-allowed":"hover:bg-emerald-700"),children:h?"Posting...":"Post"})]})]})]})})]})},ta=(0,a.createContext)(null),ra=e=>{let{children:t}=e;const[r,n]=(0,a.useState)(null),[s,l]=(0,a.useState)(!0),[o,i]=(0,a.useState)(!1),[c,d]=(0,a.useState)("login");(0,a.useEffect)((()=>{(async()=>{if(localStorage.getItem("token"))try{const e=localStorage.getItem("user");e&&n(JSON.parse(e))}catch(e){console.error("Auth verification failed",e),localStorage.removeItem("token"),localStorage.removeItem("user")}l(!1)})()}),[]);return(0,Yn.jsx)(ta.Provider,{value:{user:r,updateUser:e=>{n(e),localStorage.setItem("user",JSON.stringify(e))},loading:s,login:async e=>{try{const t=await Vn.post("/api/auth/login",e),{user:r,token:a}=t.data;return localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(r)),n(r),i(!1),{success:!0}}catch(a){var t,r;return console.error("Login failed",a),{success:!1,message:(null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Login failed"}}},register:async(e,t)=>{try{const r=await Vn.post(e,t),{user:a,token:s}=r.data;return localStorage.setItem("token",s),localStorage.setItem("user",JSON.stringify(a)),n(a),i(!1),{success:!0}}catch(s){var r,a;return console.error("Registration failed",s),{success:!1,message:(null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Registration failed"}}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n(null),i(!1)},showAuthModal:o,setShowAuthModal:i,authMode:c,setAuthMode:d},children:t})},na=()=>{var e,t;const{user:r,token:n}=(0,a.useContext)(ta),[s,l]=(0,a.useState)("overview"),[o,i]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)([]),[p,f]=(0,a.useState)([]),[h,x]=(0,a.useState)([]);(0,a.useEffect)((()=>{g()}),[]),(0,a.useEffect)((()=>{"users"===s&&y(),"kyc"===s&&b(),"orders"===s&&v()}),[s]);const g=async()=>{try{const e=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/admin/analytics"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});e.ok&&d(await e.json())}catch(e){console.error(e)}},y=async()=>{i(!0);try{const e=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/admin/users"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(e.ok){const t=await e.json();m(t.users)}}catch(e){console.error(e)}i(!1)},b=async()=>{i(!0);try{const e=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/kyc/admin/pending"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});e.ok&&f(await e.json())}catch(e){console.error(e)}i(!1)},v=async()=>{i(!0);try{const e=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/admin/orders"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(e.ok){const t=await e.json();x(t.orders)}}catch(e){console.error(e)}i(!1)},j=async(e,t)=>{const r="reject"===t?prompt("Enter rejection reason:"):null;if("reject"!==t||r)try{const n="".concat("https://mvp-2-u8e9.onrender.com","/api/kyc/admin/").concat(t,"/").concat(e),a="reject"===t?JSON.stringify({reason:r}):null;(await fetch(n,{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:a})).ok&&(alert("KYC ".concat(t,"ed!")),b())}catch(n){alert("Action failed")}};return r&&"admin"===r.role?(0,Yn.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,Yn.jsxs)("div",{className:"bg-white shadow-sm border-b px-6 py-4 flex justify-between items-center",children:[(0,Yn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Yn.jsx)("span",{className:"text-2xl",children:"\u26a1"}),(0,Yn.jsx)("h1",{className:"text-xl font-bold text-gray-800",children:"Pyramyd Admin"})]}),(0,Yn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Yn.jsxs)("span",{className:"text-sm font-medium",children:["Logged in as ",r.username]}),(0,Yn.jsx)("img",{src:r.profile_picture||"https://via.placeholder.com/40",className:"w-8 h-8 rounded-full border border-gray-300",alt:"Admin"})]})]}),(0,Yn.jsxs)("div",{className:"flex",children:[(0,Yn.jsx)("div",{className:"w-64 bg-white min-h-screen shadow-r border-r border-gray-200",children:(0,Yn.jsxs)("div",{className:"p-4 space-y-2",children:[(0,Yn.jsxs)("button",{onClick:()=>l("overview"),className:"w-full text-left px-4 py-3 rounded-lg flex items-center gap-3 font-medium transition-colors ".concat("overview"===s?"bg-purple-50 text-purple-700":"text-gray-600 hover:bg-gray-50"),children:[(0,Yn.jsx)("span",{children:"\ud83d\udcca"})," Overview"]}),(0,Yn.jsxs)("button",{onClick:()=>l("users"),className:"w-full text-left px-4 py-3 rounded-lg flex items-center gap-3 font-medium transition-colors ".concat("users"===s?"bg-purple-50 text-purple-700":"text-gray-600 hover:bg-gray-50"),children:[(0,Yn.jsx)("span",{children:"\ud83d\udc65"})," User Management"]}),(0,Yn.jsxs)("button",{onClick:()=>l("kyc"),className:"w-full text-left px-4 py-3 rounded-lg flex items-center gap-3 font-medium transition-colors ".concat("kyc"===s?"bg-purple-50 text-purple-700":"text-gray-600 hover:bg-gray-50"),children:[(0,Yn.jsx)("span",{children:"\ud83d\udd10"})," KYC Verification",p.length>0&&(0,Yn.jsx)("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-0.5 rounded-full",children:p.length})]}),(0,Yn.jsxs)("button",{onClick:()=>l("orders"),className:"w-full text-left px-4 py-3 rounded-lg flex items-center gap-3 font-medium transition-colors ".concat("orders"===s?"bg-purple-50 text-purple-700":"text-gray-600 hover:bg-gray-50"),children:[(0,Yn.jsx)("span",{children:"\ud83d\udce6"})," Global Orders"]})]})}),(0,Yn.jsxs)("div",{className:"flex-1 p-8",children:["overview"===s&&c&&(0,Yn.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,Yn.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Platform Overview"}),(0,Yn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Yn.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[(0,Yn.jsx)("h3",{className:"text-gray-500 text-sm font-medium",children:"Total Orders"}),(0,Yn.jsx)("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:c.financials.total_orders})]}),(0,Yn.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[(0,Yn.jsx)("h3",{className:"text-gray-500 text-sm font-medium",children:"GMV"}),(0,Yn.jsxs)("p",{className:"text-3xl font-bold text-emerald-600 mt-2",children:["\u20a6",null===(e=c.financials.gmv)||void 0===e?void 0:e.toLocaleString()]})]}),(0,Yn.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[(0,Yn.jsx)("h3",{className:"text-gray-500 text-sm font-medium",children:"Revenue (Est.)"}),(0,Yn.jsxs)("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:["\u20a6",null===(t=c.financials.total_revenue)||void 0===t?void 0:t.toLocaleString()]})]})]})]}),"users"===s&&(0,Yn.jsxs)("div",{className:"space-y-6",children:[(0,Yn.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"User Management"}),(0,Yn.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,Yn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Yn.jsx)("thead",{className:"bg-gray-50",children:(0,Yn.jsxs)("tr",{children:[(0,Yn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,Yn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,Yn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Yn.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Yn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map((e=>(0,Yn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Yn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Yn.jsxs)("div",{className:"flex items-center",children:[(0,Yn.jsx)("div",{className:"h-10 w-10 flex-shrink-0",children:(0,Yn.jsx)("img",{className:"h-10 w-10 rounded-full",src:e.profile_picture||"https://ui-avatars.com/api/?name=".concat(e.username,"&background=random"),alt:""})}),(0,Yn.jsxs)("div",{className:"ml-4",children:[(0,Yn.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,Yn.jsxs)("div",{className:"text-sm text-gray-500",children:["@",e.username]}),(0,Yn.jsx)("div",{className:"text-xs text-gray-400",children:e.email})]})]})}),(0,Yn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Yn.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800 capitalize",children:e.role?e.role.replace("_"," "):"User"})}),(0,Yn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.is_blocked?(0,Yn.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Blocked"}):(0,Yn.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Active"})}),(0,Yn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Yn.jsx)("button",{onClick:()=>(async(e,t)=>{const r=t?"unblock":"block";if(window.confirm("Are you sure you want to ".concat(r," this user?")))try{(await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/admin/users/").concat(e,"/").concat(r),{method:"PUT",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).ok&&(alert("User ".concat(r,"ed successfully")),y())}catch(n){alert("Action failed")}})(e.id,e.is_blocked),className:"text-".concat(e.is_blocked?"green":"red","-600 hover:text-").concat(e.is_blocked?"green":"red","-900"),children:e.is_blocked?"Unblock":"Block"})})]},e.id)))})]})})]}),"kyc"===s&&(0,Yn.jsxs)("div",{className:"space-y-6",children:[(0,Yn.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Pending Verifications"}),0===p.length?(0,Yn.jsxs)("div",{className:"bg-white p-12 rounded-lg border border-gray-200 text-center text-gray-500",children:[(0,Yn.jsx)("span",{className:"text-4xl block mb-2",children:"\ud83c\udf89"}),"All caught up! No pending KYC requests."]}):(0,Yn.jsx)("div",{className:"grid gap-6",children:p.map((e=>{var t;return(0,Yn.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Yn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Yn.jsx)("img",{src:e.user.profile_picture||"https://via.placeholder.com/50",className:"w-12 h-12 rounded-full",alt:""}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsxs)("h3",{className:"font-bold text-lg",children:[e.user.first_name," ",e.user.last_name]}),(0,Yn.jsxs)("p",{className:"text-gray-500",children:["@",e.user.username," \u2022 ",(0,Yn.jsx)("span",{className:"capitalize",children:null===(t=e.user.role)||void 0===t?void 0:t.replace("_"," ")})]})]})]}),(0,Yn.jsxs)("div",{className:"flex gap-2",children:[(0,Yn.jsx)("button",{onClick:()=>j(e.user.id,"approve"),className:"px-4 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700 font-medium",children:"Approve"}),(0,Yn.jsx)("button",{onClick:()=>j(e.user.id,"reject"),className:"px-4 py-2 bg-red-100 text-red-700 rounded hover:bg-red-200 font-medium",children:"Reject"})]})]}),(0,Yn.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mt-4 bg-gray-50 p-4 rounded-lg",children:e.documents.map((e=>(0,Yn.jsxs)("div",{className:"border border-gray-200 bg-white p-3 rounded text-center",children:[(0,Yn.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcc4"}),(0,Yn.jsx)("div",{className:"text-sm font-medium truncate mb-2",children:e.file_name}),(0,Yn.jsx)("div",{className:"text-xs text-gray-500 mb-3",children:e.document_type.replace("_"," ")}),(0,Yn.jsx)("button",{onClick:()=>(async e=>{try{const t=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/kyc/admin/document/").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(t.ok){const e=await t.json(),r=atob(e.file_data),n=new Array(r.length);for(let t=0;t<r.length;t++)n[t]=r.charCodeAt(t);const a=new Uint8Array(n),s=new Blob([a],{type:e.mime_type}),l=URL.createObjectURL(s);window.open(l,"_blank")}}catch(t){alert("Failed to load document")}})(e.id),className:"text-blue-600 hover:underline text-xs",children:"View Document"})]},e.id)))}),(0,Yn.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:[(0,Yn.jsx)("strong",{children:"Submission details:"}),(0,Yn.jsx)("pre",{className:"mt-2 bg-gray-100 p-2 rounded text-xs overflow-x-auto",children:JSON.stringify(e.kyc_data,null,2)})]})]},e.user.id)}))})]}),"orders"===s&&(0,Yn.jsxs)("div",{className:"space-y-6",children:[(0,Yn.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Global Order Tracking"}),(0,Yn.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,Yn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Yn.jsx)("thead",{className:"bg-gray-50",children:(0,Yn.jsxs)("tr",{children:[(0,Yn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),(0,Yn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Buyer"}),(0,Yn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller"}),(0,Yn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,Yn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Yn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Status"}),(0,Yn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Yn.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Yn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map((e=>{var t;return(0,Yn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Yn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-mono text-sm text-blue-600",children:e.order_id}),(0,Yn.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["@",e.buyer_username]}),(0,Yn.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["@",e.seller_username]}),(0,Yn.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900",children:["\u20a6",null===(t=e.total_amount)||void 0===t?void 0:t.toLocaleString()]}),(0,Yn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Yn.jsxs)("select",{value:e.status,onChange:t=>(async(e,t)=>{if("delivered"!==t||window.confirm("\u26a0\ufe0f WARNING: Marking as DELIVERED will release funds to the seller. Use this only when delivery is confirmed. Proceed?"))try{const r=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/admin/orders/").concat(e,"/status"),{method:"PUT",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify({status:t})});if(r.ok){const e=await r.json();alert(e.message),v()}else{const e=await r.json();alert("Failed: ".concat(e.detail))}}catch(r){alert("Update failed")}})(e.order_id,t.target.value),className:"text-xs font-semibold rounded-full px-2 py-1 border-0 cursor-pointer\n                                                            ".concat("completed"===e.status||"delivered"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:[(0,Yn.jsx)("option",{value:"pending",children:"Pending"}),(0,Yn.jsx)("option",{value:"processing",children:"Processing"}),(0,Yn.jsx)("option",{value:"shipped",children:"Shipped"}),(0,Yn.jsx)("option",{value:"delivered",children:"Delivered"}),(0,Yn.jsx)("option",{value:"completed",children:"Completed"}),(0,Yn.jsx)("option",{value:"cancelled",children:"Cancelled"})]})}),(0,Yn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.payout_halted?(0,Yn.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"HELD"}):"completed"===e.status?(0,Yn.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Released"}):(0,Yn.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Pending"})}),(0,Yn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()}),(0,Yn.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[!e.payout_halted&&"completed"!==e.status&&"cancelled"!==e.status&&(0,Yn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\u26a0\ufe0f Are you sure you want to HOLD payment for this order? This will prevent auto-release."))try{(await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/admin/orders/").concat(e,"/halt-payout"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).ok?(alert("Payment placed on HOLD."),v()):alert("Failed to hold payment.")}catch(t){console.error(t),alert("Error holding payment.")}})(e.order_id),className:"text-red-600 hover:text-red-900 mr-4",children:"Hold Payment"}),(e.payout_halted||"completed"!==e.status&&"cancelled"!==e.status)&&(0,Yn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\u2705 Are you sure you want to RELEASE payment manually? This will transfer funds immediately."))try{(await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/admin/orders/").concat(e,"/manual-release"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).ok?(alert("Payment released successfully."),v()):alert("Failed to release payment.")}catch(t){console.error(t),alert("Error releasing payment.")}})(e.order_id),className:"text-green-600 hover:text-green-900",children:"Release Payment"})]})]},e.order_id)}))})]})})]})]})]})]}):(0,Yn.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:(0,Yn.jsxs)("div",{className:"text-center",children:[(0,Yn.jsx)("h1",{className:"text-4xl",children:"\ud83d\udeab"}),(0,Yn.jsx)("h2",{className:"text-xl font-bold mt-4",children:"Access Denied"}),(0,Yn.jsx)("p",{children:"You must be an administrator to view this page."}),(0,Yn.jsx)("a",{href:"/",className:"text-emerald-600 mt-4 block hover:underline",children:"Go Home"})]})})},aa=e=>({pending:"Pending",held_in_escrow:"In Transit",in_transit:"In Transit",delivered:"Delivered",completed:"Completed",cancelled:"Cancelled",confirmed:"Confirmed"}[e]||e.replace("_"," ").toUpperCase()),sa=()=>(0,Yn.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yn.jsx)("path",{d:"M9.25 8V5.25H6.5V3.75H9.25V1H10.75V3.75H13.5V5.25H10.75V8H9.25ZM5.49563 18C5.08188 18 4.72917 17.8527 4.4375 17.5581C4.14583 17.2635 4 16.9094 4 16.4956C4 16.0819 4.14729 15.7292 4.44188 15.4375C4.73646 15.1458 5.09062 15 5.50437 15C5.91813 15 6.27083 15.1473 6.5625 15.4419C6.85417 15.7365 7 16.0906 7 16.5044C7 16.9181 6.85271 17.2708 6.55813 17.5625C6.26354 17.8542 5.90938 18 5.49563 18ZM14.4956 18C14.0819 18 13.7292 17.8527 13.4375 17.5581C13.1458 17.2635 13 16.9094 13 16.4956C13 16.0819 13.1473 15.7292 13.4419 15.4375C13.7365 15.1458 14.0906 15 14.5044 15C14.9181 15 15.2708 15.1473 15.5625 15.4419C15.8542 15.7365 16 16.0906 16 16.5044C16 16.9181 15.8527 17.2708 15.5581 17.5625C15.2635 17.8542 14.9094 18 14.4956 18ZM1 3.5V2H3.77083L7 9.5H13.2708L15.625 4H17.25L14.6458 10.0833C14.5208 10.3611 14.3368 10.5833 14.0938 10.75C13.8507 10.9167 13.5764 11 13.2708 11H6.60417L5.72917 12.5H16V14H5.75C5.16667 14 4.72917 13.7465 4.4375 13.2396C4.14583 12.7326 4.14583 12.2361 4.4375 11.75L5.52083 9.875L2.79167 3.5H1Z",fill:"currentColor"})}),la=()=>(0,Yn.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yn.jsx)("path",{d:"M5.75 16.5C5.0556 16.5 4.4653 16.2569 3.9792 15.7708C3.4931 15.2847 3.25 14.6944 3.25 14H1.5L2 12.5H3.75C3.9861 12.1944 4.2794 11.9514 4.63 11.7708C4.9804 11.5903 5.3538 11.5 5.75 11.5C6.1462 11.5 6.5196 11.5903 6.87 11.7708C7.2206 11.9514 7.5139 12.1944 7.75 12.5H11.8333L13.5833 5.5H4.5L4.6667 5C4.7778 4.69444 4.9618 4.45139 5.2188 4.27083C5.4757 4.09028 5.7639 4 6.0833 4H15.5L14.75 7H16.5L19 10.5L18 14H17C17 14.6944 16.7569 15.2847 16.2708 15.7708C15.7847 16.2569 15.1944 16.5 14.5 16.5C13.8056 16.5 13.2153 16.2569 12.7292 15.7708C12.2431 15.2847 12 14.6944 12 14H8.25C8.25 14.6944 8.0069 15.2847 7.5208 15.7708C7.0347 16.2569 6.4444 16.5 5.75 16.5ZM13.75 11H17.2917L17.3542 10.7708L15.7292 8.5H14.375L13.75 11ZM0.5 11.1667L0.875 9.66667H5L4.625 11.1667H0.5ZM2 8.33333L2.375 6.83333H7.25L6.875 8.33333H2ZM5.75 15C6.0333 15 6.2708 14.9042 6.4625 14.7125C6.6542 14.5208 6.75 14.2833 6.75 14C6.75 13.7167 6.6542 13.4792 6.4625 13.2875C6.2708 13.0958 6.0333 13 5.75 13C5.4667 13 5.2292 13.0958 5.0375 13.2875C4.8458 13.4792 4.75 13.7167 4.75 14C4.75 14.2833 4.8458 14.5208 4.0375 14.7125C5.2292 14.9042 5.4667 15 5.75 15ZM14.5 15C14.7833 15 15.0208 14.9042 15.2125 14.7125C15.4042 14.5208 15.5 14.2833 15.5 14C15.5 13.7167 15.4042 13.4792 15.2125 13.2875C15.0208 13.0958 14.7833 13 14.5 13C14.2167 13 13.9792 13.0958 13.7875 13.2875C13.5958 13.4792 13.5 13.7167 13.5 14C13.5 14.2833 13.5958 14.5208 13.7875 14.7125C13.9792 14.9042 14.2167 15 14.5 15Z",fill:"currentColor"})}),oa=()=>(0,Yn.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yn.jsx)("path",{d:"M18 18L15 15H7.5C7.0875 15 6.7344 14.8531 6.4406 14.5594C6.1469 14.2656 6 13.9125 6 13.5V12.5H14C14.4125 12.5 14.7656 12.3531 15.0594 12.0594C15.3531 11.7656 15.5 11.4125 15.5 11V6H16.5C16.9125 6 17.2656 6.14688 17.5594 6.44063C17.8531 6.73438 18 7.0875 18 7.5V18ZM3.5 10.375L4.375 9.5H12.5V3.5H3.5V10.375ZM2 14V3.5C2 3.0875 2.1469 2.73438 2.4406 2.44063C2.7344 2.14688 3.0875 2 3.5 2H12.5C12.9125 2 13.2656 2.14688 13.5594 2.44063C13.8531 2.73438 14 3.0875 14 3.5V9.5C14 9.9125 13.8531 10.2656 13.5594 10.5594C13.2656 10.8531 12.9125 11 12.5 11H5L2 14Z",fill:"currentColor"})}),ia=()=>(0,Yn.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yn.jsx)("path",{d:"M4.938 14.0625C5.688 13.5347 6.49 13.1424 7.344 12.8854C8.198 12.6285 9.083 12.5 10 12.5C10.917 12.5 11.802 12.6285 12.656 12.8854C13.51 13.1424 14.312 13.5347 15.062 14.0625C15.549 13.4931 15.91 12.8611 16.146 12.1667C16.382 11.4722 16.5 10.75 16.5 10C16.5 8.19903 15.866 6.66542 14.599 5.39917C13.332 4.13305 11.798 3.5 9.995 3.5C8.193 3.5 6.66 4.13305 5.396 5.39917C4.132 6.66542 3.5 8.19903 3.5 10C3.5 10.75 3.618 11.4722 3.854 12.1667C4.09 12.8611 4.451 13.4931 4.938 14.0625ZM10 11.5C9.167 11.5 8.458 11.2083 7.875 10.625C7.292 10.0417 7 9.33333 7 8.5C7 7.66667 7.292 6.95833 7.875 6.375C8.458 5.79167 9.167 5.5 10 5.5C10.833 5.5 11.542 5.79167 12.125 6.375C12.708 6.95833 13 7.66667 13 8.5C13 9.33333 12.708 10.0417 12.125 10.625C11.542 11.2083 10.833 11.5 10 11.5ZM10.006 18C8.905 18 7.868 17.7917 6.896 17.375C5.924 16.9583 5.073 16.3854 4.344 15.6562C3.615 14.9271 3.042 14.0767 2.625 13.105C2.208 12.1333 2 11.0951 2 9.99042C2 8.88569 2.208 7.85069 2.625 6.88542C3.042 5.92014 3.615 5.07292 4.344 4.34375C5.073 3.61458 5.923 3.04167 6.895 2.625C7.867 2.20833 8.905 2 10.01 2C11.114 2 12.149 2.20833 13.115 2.625C14.08 3.04167 14.927 3.61458 15.656 4.34375C16.385 5.07292 16.958 5.92167 17.375 6.89C17.792 7.85847 18 8.89319 18 9.99417C18 11.0953 17.792 12.1319 17.375 13.1042C16.958 14.0764 16.385 14.9271 15.656 15.6562C14.927 16.3854 14.078 16.9583 13.11 17.375C12.142 17.7917 11.107 18 10.006 18ZM10 16.5C10.722 16.5 11.417 16.3854 12.083 16.1562C12.75 15.9271 13.375 15.5903 13.958 15.1458C13.361 14.7708 12.729 14.4861 12.062 14.2917C11.396 14.0972 10.708 14 10 14C9.292 14 8.601 14.0938 7.927 14.2812C7.253 14.4688 6.625 14.7569 6.042 15.1458C6.625 15.5903 7.25 15.9271 7.917 16.1562C8.583 16.3854 9.278 16.5 10 16.5ZM10 10C10.417 10 10.771 9.85417 11.062 9.5625C11.354 9.27083 11.5 8.91667 11.5 8.5C11.5 8.08333 11.354 7.72917 11.062 7.4375C10.771 7.14583 10.417 7 10 7C9.583 7 9.229 7.14583 8.938 7.4375C8.646 7.72917 8.5 8.08333 8.5 8.5C8.5 8.91667 8.646 9.27083 8.938 9.5625C9.229 9.85417 9.583 10 10 10Z",fill:"currentColor"})}),ca=()=>(0,Yn.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yn.jsx)("path",{d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),da=()=>(0,Yn.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yn.jsx)("path",{d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),ua=()=>(0,Yn.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yn.jsx)("path",{d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),ma=()=>(0,Yn.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yn.jsx)("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});const pa=function(){var e,t,r,n,s,l,o,i,c,d,m;const p="https://mvp-2-u8e9.onrender.com",[f,h]=(0,a.useState)(null),[x,g]=(0,a.useState)("home"),[y,b]=(0,a.useState)(!1),[v,j]=(0,a.useState)(!1),[w,N]=(0,a.useState)("login"),[k,_]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!1),[E,P]=(0,a.useState)(!1),[R,T]=(0,a.useState)(null),[L,O]=(0,a.useState)([]),[A,D]=(0,a.useState)([]),[F,z]=(0,a.useState)([]),[M,I]=(0,a.useState)(!1),[B,U]=(0,a.useState)("pyexpress"),[q,H]=(0,a.useState)(""),[W,V]=(0,a.useState)(""),[Y,$]=(0,a.useState)(!1),[J,K]=(0,a.useState)("instant"),[Q,G]=(0,a.useState)("marketplace");(0,a.useEffect)((()=>{"/pyadmin"===window.location.pathname&&(f&&"admin"===f.role?Cr(!0):f&&f.role)}),[f]);const[X,Z]=(0,a.useState)(!1),[ee,te]=(0,a.useState)([]),[re,ne]=(0,a.useState)(""),[ae,se]=(0,a.useState)(null),[le,oe]=(0,a.useState)([]),[ie,ce]=(0,a.useState)(""),[de,ue]=(0,a.useState)(!1),[me,pe]=(0,a.useState)(null),[fe,he]=(0,a.useState)(!1),[xe,ge]=(0,a.useState)(null),[ye,be]=(0,a.useState)(null),[ve,je]=(0,a.useState)(!1),[we,Ne]=(0,a.useState)([]),[ke,_e]=(0,a.useState)(null),[Se,Ce]=(0,a.useState)(""),[Ee,Pe]=(0,a.useState)(!1),[Re,Te]=(0,a.useState)(!1),[Le,Oe]=(0,a.useState)([]),[Ae,De]=(0,a.useState)(!1),[Fe,ze]=(0,a.useState)(!1),[Me,Ie]=(0,a.useState)(!1),[Be,Ue]=(0,a.useState)(null),[qe,He]=(0,a.useState)(!1),[We,Ve]=(0,a.useState)({}),[Ye,$e]=(0,a.useState)("dropoff"),[Je,Ke]=(0,a.useState)(null),[Qe,Ge]=(0,a.useState)({}),[Xe,Ze]=(0,a.useState)({}),[et,tt]=(0,a.useState)(!1),[rt,nt]=(0,a.useState)([]),[at,st]=(0,a.useState)([]),[lt,ot]=(0,a.useState)(!1),[it,ct]=(0,a.useState)({location:"",vehicle_type:"",min_rating:null}),[dt,ut]=(0,a.useState)(!1),[mt,pt]=(0,a.useState)(null),[ft,ht]=(0,a.useState)([]),[xt,gt]=(0,a.useState)([]),[yt,bt]=(0,a.useState)(!1),[vt,jt]=(0,a.useState)(!1),[wt,Nt]=(0,a.useState)(!1),[kt,_t]=(0,a.useState)(!1),[St,Ct]=(0,a.useState)([]),[Et,Pt]=(0,a.useState)(!1),[Rt,Tt]=(0,a.useState)(!1),[Lt,Ot]=(0,a.useState)(null),[At,Dt]=(0,a.useState)({}),[Ft,zt]=(0,a.useState)({}),[Mt,It]=(0,a.useState)([]),[Bt,Ut]=(0,a.useState)([]),[qt,Ht]=(0,a.useState)([]),[Wt,Vt]=(0,a.useState)(!1),[Yt,$t]=(0,a.useState)(!1),[Jt,Kt]=(0,a.useState)(null),[Qt,Gt]=(0,a.useState)([]),[Xt,Zt]=(0,a.useState)(!1),[er,tr]=(0,a.useState)(!1),[rr,nr]=(0,a.useState)(null),[ar,sr]=(0,a.useState)([]),[lr,or]=(0,a.useState)([]),[ir,cr]=(0,a.useState)(!1),[dr,ur]=(0,a.useState)([]),[mr,pr]=(0,a.useState)(!1),[fr,hr]=(0,a.useState)(null),[xr,gr]=(0,a.useState)(""),[yr,br]=(0,a.useState)("communities"),[vr,jr]=(0,a.useState)(0),[wr,Nr]=(0,a.useState)(!1),[kr,_r]=(0,a.useState)(!1),[Sr,Cr]=(0,a.useState)(!1),[Er,Pr]=(0,a.useState)(null),[Rr,Tr]=(0,a.useState)(null),[Lr,Or]=(0,a.useState)(!1),[Ar,Dr]=(0,a.useState)([]),[Fr,zr]=(0,a.useState)(""),[Mr,Ir]=(0,a.useState)([]),[Br,Ur]=(0,a.useState)(!1),[qr,Hr]=(0,a.useState)(0),[Wr,Vr]=(0,a.useState)(!1),[Yr,$r]=(0,a.useState)(null),[Jr,Kr]=(0,a.useState)(!1),[Qr,Gr]=(0,a.useState)(!1),[Xr,Zr]=(0,a.useState)(!1),[en,tn]=(0,a.useState)(null),[rn,nn]=(0,a.useState)(!1),[an,sn]=(0,a.useState)(!1),[ln,on]=(0,a.useState)([]),[cn,dn]=(0,a.useState)(!1),[un,mn]=(0,a.useState)(navigator.onLine),[pn,fn]=(0,a.useState)(!1),[hn,xn]=(0,a.useState)([]),[gn,yn]=(0,a.useState)(!1),[bn,vn]=(0,a.useState)(!1),[jn,wn]=(0,a.useState)(null),[Nn,kn]=(0,a.useState)({category:"",location:"",min_price:"",max_price:"",only_preorders:!1,seller_type:""}),[_n,Sn]=(0,a.useState)(!1),[Cn,En]=(0,a.useState)(!1),[Pn,Rn]=(0,a.useState)(!1),[Tn,Ln]=(0,a.useState)(!1),[On,An]=(0,a.useState)("offline"),[Dn,Fn]=(0,a.useState)([]),[zn,Mn]=(0,a.useState)([]),[In,Bn]=(0,a.useState)([]),[Un,qn]=(0,a.useState)({driver_name:"",phone_number:"",email:"",profile_picture:"",driver_license:"",vehicle_type:"motorcycle",plate_number:"",make_model:"",color:"",year:""}),[Hn,Wn]=(0,a.useState)(""),[Vn,ta]=(0,a.useState)([]),[ra,pa]=(0,a.useState)(null),[fa,ha]=(0,a.useState)(!1),[xa,ga]=(0,a.useState)([]),[ya,ba]=(0,a.useState)(""),[va,ja]=(0,a.useState)(""),[wa,Na]=(0,a.useState)(null),[ka,_a]=(0,a.useState)([]),[Sa,Ca]=(0,a.useState)(!1),[Ea,Pa]=(0,a.useState)(null),[Ra,Ta]=(0,a.useState)([""]),[La,Oa]=(0,a.useState)(!1),[Aa,Da]=(0,a.useState)("review"),[Fa,za]=(0,a.useState)("pyexpress"),[Ma,Ia]=(0,a.useState)({full_name:"",phone:"",email:"",address_line_1:"",address_line_2:"",city:"",state:"",postal_code:"",country:"Nigeria",delivery_instructions:""}),[Ba,Ua]=(0,a.useState)({}),[qa,Ha]=(0,a.useState)({subtotal:0,delivery_total:0,total:0,item_count:0}),[Wa,Va]=(0,a.useState)(!1),[Ya,$a]=(0,a.useState)(null),[Ja,Ka]=(0,a.useState)(null),[Qa,Ga]=(0,a.useState)(!1),[Xa,Za]=(0,a.useState)(null),[es,ts]=(0,a.useState)({order_id:"",order_type:"regular",pickup_address:"",delivery_addresses:[""],total_quantity:"",quantity_unit:"kg",product_details:"",weight_kg:"",special_instructions:"",estimated_price:"",preferred_driver_username:""}),[rs,ns]=(0,a.useState)({product_name:"",product_category:"vegetables",description:"",total_stock:"",unit:"kg",price_per_unit:"",partial_payment_percentage:.3,location:"",delivery_date:"",business_name:"",farm_name:"",images:[]}),[as,ss]=(0,a.useState)(0),ls=[{title:"buy_from_farm"===x?"PyHub - Farm Deals":"PyExpress",description:"buy_from_farm"===x?"Direct trade platform for bulk agricultural produce. Connect with farmers and agents for wholesale farm deals.":"Revolutionizing African agriculture through technology. Connecting farmers, suppliers, agents, and buyers.",bgGradient:"from-emerald-100 to-emerald-50",cta:null},{title:"Join Our Agent Network",description:"Earn commissions while helping farmers reach more customers. Connect producers with buyers and grow your income.",bgGradient:"from-blue-100 to-blue-50",cta:{text:"Become an Agent",action:"agent_register"}},{title:"Suppliers & Processors Welcome",description:"List your products and reach thousands of buyers. Expand your market reach with our platform.",bgGradient:"from-purple-100 to-purple-50",cta:{text:"Become a Supplier",action:"supplier_register"}},{title:"Hotels, Cafes & Restaurants",description:"Source fresh ingredients directly from farms and suppliers. Get the best prices for your business needs.",bgGradient:"from-orange-100 to-orange-50",cta:{text:"Register Your Business",action:"business_register"}},{title:"Fast & Reliable Delivery",description:"Quick delivery with our network of verified drivers and logistics partners nationwide.",bgGradient:"from-green-100 to-green-50",cta:null}],[os,is]=(0,a.useState)({first_name:"",last_name:"",username:"",email_or_phone:"",password:"",phone:"",gender:"",date_of_birth:""});(0,a.useEffect)((()=>{fetch("/api/health").catch((()=>{}));const e=localStorage.getItem("token");e&&cs(e),ds(),us(),ms(),Ls(),As(),Es(),F.length>0&&Is()}),[x,q,W]),(0,a.useEffect)((()=>{L.length>0&&Os()}),[L]),(0,a.useEffect)((()=>{const e=setInterval((()=>{ss((e=>(e+1)%ls.length))}),5e3);return()=>clearInterval(e)}),[ls.length]),(0,a.useEffect)((()=>{f&&"logistics"===f.role&&xs(),f&&(ys(),_s(),Cs())}),[f]),(0,a.useEffect)((()=>{Ns(),ks(),Es(),Ps()}),[]),(0,a.useEffect)((()=>{const e=()=>{console.log("App is online"),mn(!0),yn(!1),"serviceWorker"in navigator&&"sync"in navigator.serviceWorker&&navigator.serviceWorker.ready.then((e=>{e.sync.register("sync-offline-requests")}))},t=()=>{console.log("App is offline"),mn(!1),yn(!0)};return window.addEventListener("online",e),window.addEventListener("offline",t),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",(e=>{"SYNC_SUCCESS"===e.data.type&&(console.log("Synced offline request:",e.data.url),fn(!1),ds())})),window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),wn(e),vn(!0)})),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}),[]);const cs=async e=>{try{const t=await fetch("".concat(p,"/api/user/profile"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();if(h(e),e.role){g({farmer:"pyhub",agent:"pyhub",storage_owner:"pyhub",logistics_business:"pyhub",super_agent:"pyhub"}[e.role]||"pyexpress")}}}catch(t){console.error("Error fetching profile:",t)}},ds=async()=>{try{const e="buy_from_farm"===x?"farm_deals":"home";let t="".concat("https://mvp-2-u8e9.onrender.com","/api/products?platform=").concat(e);const r=q||Nn.category;r&&(t+="&category=".concat(r)),W&&(t+="&search_term=".concat(encodeURIComponent(W),"&global_search=true")),Nn.location&&(t+="&location=".concat(Nn.location)),Nn.min_price&&(t+="&min_price=".concat(Nn.min_price)),Nn.max_price&&(t+="&max_price=".concat(Nn.max_price)),Nn.only_preorders&&(t+="&only_preorders=true"),Nn.seller_type&&(t+="&seller_type=".concat(Nn.seller_type));const n=await fetch(t);if(n.ok){const e=await n.json();let t=[];if(e.products&&Array.isArray(e.products)&&(t=[...t,...e.products]),e.preorders&&Array.isArray(e.preorders)){const r=e.preorders.map((e=>u(u({},e),{},{type:"preorder"})));t=[...t,...r]}Array.isArray(e)&&(t=e),O(t)}else console.error("Failed to fetch products"),O([])}catch(e){console.error("Error fetching products:",e),O([])}},us=async()=>{try{const e=await fetch("".concat(p,"/api/categories")),t=await e.json();D(t)}catch(e){console.error("Error fetching categories:",e)}},ms=async()=>{try{const e=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/dropoff-locations?active_only=true&limit=100"));if(e.ok){const t=await e.json();Oe(t.locations||[])}}catch(e){console.error("Error fetching drop-off locations:",e)}},ps=async e=>{try{const t=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/ratings/").concat(e,"?rating_type=user_rating"));if(t.ok){const r=await t.json();return Ge((t=>u(u({},t),{},{[e]:r}))),r}}catch(t){console.error("Error fetching user ratings:",t)}return null},fs=async e=>{try{const t=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/ratings/").concat(e,"?rating_type=product_rating"));if(t.ok){const r=await t.json();return Ze((t=>u(u({},t),{},{[e]:r}))),r}}catch(t){console.error("Error fetching product ratings:",t)}return null},hs=()=>{P(!1),Ke(null)},xs=async()=>{if(f&&"logistics"===f.role){try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/driver-slots/my-slots"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();return nt(e.slots||[]),e}}catch(e){console.error("Error fetching driver slots:",e)}return null}},gs=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;e.location&&t.append("location",e.location),e.vehicle_type&&t.append("vehicle_type",e.vehicle_type),e.min_rating&&t.append("min_rating",e.min_rating);const r=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/drivers/find-drivers?").concat(t));if(r.ok){const e=await r.json();return st(e.drivers||[]),e}}catch(t){console.error("Error fetching available drivers:",t)}return null},ys=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/wallet/summary"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();return pt(e),e}}catch(e){console.error("Error fetching wallet summary:",e)}return null},bs=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/wallet/transactions?limit=50"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();return ht(e.transactions||[]),e}}catch(e){console.error("Error fetching wallet transactions:",e)}return null},vs=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/wallet/bank-accounts"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();return gt(e.accounts||[]),e}}catch(e){console.error("Error fetching bank accounts:",e)}return null},js=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/wallet/gift-cards/my-cards"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();return Ct(e.gift_cards||[]),e}}catch(e){console.error("Error fetching user gift cards:",e)}return null},ws=async e=>{try{const t=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/wallet/gift-cards/").concat(e.toUpperCase()));if(t.ok){const e=await t.json();return Ot(e),e}return Ot(null),null}catch(t){return console.error("Error fetching gift card details:",t),Ot(null),null}},Ns=async()=>{try{const e=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/categories/business"));if(e.ok){const t=await e.json();return Dt(t.categories||{}),t}}catch(e){console.error("Error fetching business categories:",e)}return null},ks=async()=>{try{const e=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/categories/dynamic"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("pyramyd_token"))}});if(e.ok){const t=await e.json();zt(t.categories),It(t.processing_levels),Ht(t.locations||[]),Ut(t.seller_types||[])}}catch(e){console.error("Error fetching product categories:",e)}},_s=async()=>{if(f){try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/users/kyc/status"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();return Kt(e),e.requires_kyc&&"not_started"===e.status&&!Yt&&setTimeout((()=>$t(!0)),3e3),e}}catch(e){console.error("Error fetching KYC status:",e)}return null}},Ss=async()=>{if(f&&window.confirm("Are you sure you want to remove your profile picture?"))try{const e=localStorage.getItem("token");if((await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/users/profile-picture"),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e)}})).ok)return h(u(u({},f),{},{profile_picture:null})),alert("Profile picture removed successfully! \u2705"),!0}catch(e){return console.error("Error deleting profile picture:",e),alert("Failed to delete profile picture. Please try again."),null}};(0,a.useEffect)((()=>{"communities"===x&&f&&(async()=>{if(f&&0!==ar.length){cr(!0);try{const e=ar.map((e=>fetch("".concat(p,"/api/communities/").concat(e.id,"/posts?limit=3")).then((e=>e.json())).then((t=>t.map((t=>u(u({},t),{},{community_name:e.name,community_id:e.id}))))).catch((e=>[])))),t=(await Promise.all(e)).flat();t.sort(((e,t)=>new Date(t.created_at)-new Date(e.created_at))),or(t)}catch(e){console.error("Error fetching feed:",e)}finally{cr(!1)}}})()}),[x,ar]);const Cs=async()=>{if(f){try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/communities/my-communities"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();return sr(e.communities||[]),e}}catch(e){console.error("Error fetching user communities:",e)}return null}},Es=async()=>{try{const e=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/communities"));if(e.ok){const t=await e.json();return Gt(t.communities||[]),t}}catch(e){console.error("Error fetching communities:",e)}return null},Ps=async()=>{try{const e=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/communities/featured/products?limit=6"));if(e.ok){const t=await e.json();return ur(t.products||[]),t}}catch(e){console.error("Error fetching featured community products:",e)}return null},Rs=async e=>{nn(!0);try{const t=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/users/public/").concat(e));if(t.ok){const e=await t.json();return tn(e),Zr(!0),e}alert("Unable to fetch seller details")}catch(t){console.error("Error fetching seller details:",t),alert("Failed to load seller information")}finally{nn(!1)}return null},Ts=async e=>{try{const t=localStorage.getItem("token"),r=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/communities/").concat(e,"/join"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)}});if(r.ok){const e=await r.json();return await Cs(),e}{const e=await r.json();throw new Error(e.detail||"Failed to join community")}}catch(t){throw console.error("Error joining community:",t),t}},Ls=async()=>{try{const e=[{product:"Rice (50kg bag)",price:35e3,trend:"+5%",category:"raw_food"},{product:"Beans (100kg bag)",price:85e3,trend:"+2%",category:"raw_food"},{product:"Yam (100kg)",price:45e3,trend:"-3%",category:"raw_food"},{product:"Tomatoes (big basket)",price:8e3,trend:"+8%",category:"pepper_vegetables"},{product:"Onions (50kg bag)",price:25e3,trend:"+1%",category:"pepper_vegetables"},{product:"Garri (50kg bag)",price:32e3,trend:"+4%",category:"packaged_food"},{product:"Palm Oil (25L tin)",price:22e3,trend:"+6%",category:"raw_food"},{product:"Fresh Fish (kg)",price:2500,trend:"+3%",category:"fish_meat"}];return Dr(e),e}catch(e){console.error("Error fetching market prices:",e)}return[]},Os=async()=>{try{const e=[...new Set(L.map((e=>{if(!e.location)return null;const t=e.location.trim();return NIGERIAN_STATES.find((e=>e.toLowerCase()===t.toLowerCase()))||t})))].filter(Boolean).sort();return Ht(e),e}catch(e){console.error("Error fetching locations:",e)}},As=async()=>{try{const e=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/products"));if(e.ok){const t=(await e.json()).products.filter((e=>{var t;return(e.listed_by_agent||(null===(t=e.seller_name)||void 0===t?void 0:t.toLowerCase().includes("farmer"))||e.farm_name)&&e.minimum_order_quantity>=10}));return Ir(t),t}}catch(e){console.error("Error fetching bulk listings:",e)}return[]},Ds=e=>{const t=document.getElementById("categories-container");if(t){const r=200,n="left"===e?Math.max(0,qr-r):Math.min(t.scrollWidth-t.clientWidth,qr+r);t.scrollTo({left:n,behavior:"smooth"}),Hr(n)}},Fs=e=>{setPartnerType(e),"business"===e?setRegistrationStep("business_category"):setRegistrationStep("verification")},zs=e=>{setBusinessCategory(e),setRegistrationStep("verification")},Ms=async()=>{try{const e=u(u({},os),{},{user_path:selectedUserPath,buyer_type:selectedBuyerType,business_info:businessInfo,partner_type:partnerType,business_category:businessCategory,verification_info:verificationInfo}),t=await fetch("".concat(p,"/api/auth/complete-registration"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){const e=await t.json();localStorage.setItem("token",e.token),h(e.user),j(!1),setRegistrationStep("basic"),setSelectedUserPath(""),setSelectedBuyerType(""),setPartnerType(""),setBusinessCategory(""),is({first_name:"",last_name:"",username:"",email_or_phone:"",password:"",phone:"",gender:"",date_of_birth:""})}else{const e=await t.json();alert(e.detail)}}catch(e){console.error("Registration error:",e),alert("An error occurred. Please try again.")}},Is=()=>{z((e=>e.map((e=>{var t,r;return e.id?e:u(u({},e),{},{id:"cart-".concat(Date.now(),"-").concat(e.product_id),unit:e.unit||(null===(t=e.product)||void 0===t?void 0:t.unit)||"kg",unit_specification:e.unit_specification||(null===(r=e.product)||void 0===r?void 0:r.unit_specification)||"",delivery_method:e.delivery_method||"platform"})}))))},Bs=()=>F.filter((e=>{const t=e.product;return"pyexpress"===t.platform||"business"===t.seller_type||"supplier"===t.seller_type})),Us=()=>F.filter((e=>{const t=e.product;return"pyhub"===t.platform||"farmer"===t.seller_type||"agent"===t.seller_type||t.community_id})),qs=()=>{switch(B){case"pyexpress":return Bs();case"farmdeals":return Us();case"community":return F.filter((e=>{var t;return null===(t=e.product)||void 0===t?void 0:t.community_id}));default:return F}},Hs=async e=>{$r(e),Vr(!0);const t=e.id||e._id;if(t){const e=await(async e=>{try{const t=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/products/").concat(e,"/delivery-options"));if(t.ok){const r=await t.json();return Ve((t=>u(u({},t),{},{[e]:r}))),r}}catch(t){console.error("Error fetching product delivery options:",t)}return null})(t);e&&(e.supports_dropoff_delivery?$e("dropoff"):e.supports_shipping_delivery&&$e("shipping"))}},Ws=()=>{Vr(!1),$r(null),$e("dropoff")},Vs=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/delivery/available"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();Fn(e.delivery_requests||[])}}catch(e){console.error("Error fetching deliveries:",e)}},Ys=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text";try{const n=localStorage.getItem("token");(await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/delivery/").concat(e,"/message"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({content:t,type:r,location_data:"location"===r?wa:null})})).ok&&($s(e),ja(""))}catch(n){console.error("Error sending message:",n)}},$s=async e=>{try{const t=localStorage.getItem("token"),r=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/delivery/").concat(e,"/messages"),{headers:{Authorization:"Bearer ".concat(t)}});if(r.ok){const e=await r.json();ga(e.messages||[]),Pa(e.delivery_request)}}catch(t){console.error("Error fetching messages:",t)}},Js=function(e,t,r,n,a){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if(F.find((t=>t.product_id===(e.id||e._id))))z((o=>o.map((o=>o.product_id===(e.id||e._id)?u(u({},o),{},{quantity:o.quantity+t,unit:r,unit_specification:n,delivery_method:a,dropoff_location:s,shipping_address:l}):o))));else{const o={id:"cart-".concat(Date.now(),"-").concat(e.id||e._id),product_id:e.id||e._id,product:e,quantity:t,unit:r,unit_specification:n,delivery_method:a,dropoff_location:s,shipping_address:l};z((e=>[...e,o]))}const o="".concat(t," ").concat(r).concat(n?" (".concat(n,")"):"");let i="Platform Driver";"offline"===a?i="Offline Delivery":"dropoff"===a&&s?i="Drop-off at ".concat(s.name):l&&(i="Home Delivery"),setTimeout((()=>Qs()),100),alert("Added to cart: ".concat(o," of ").concat(e.product_name||e.crop_type,"\nDelivery: ").concat(i))},Ks=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"buyer";try{const t=localStorage.getItem("token"),r=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/orders/my-orders?order_type=").concat(e),{headers:{Authorization:"Bearer ".concat(t)}});if(r.ok){const e=await r.json();Ne(e.orders||[])}}catch(t){console.error("Error fetching orders:",t)}},Qs=()=>{let e=0,t=0,r=0,n=0,a=0;const s=f&&("agent"===f.role||"purchasing_agent"===f.role);F.forEach((a=>{const s=a.product.price_per_unit*a.quantity;e+=s,r+=a.quantity;const l="pyhub"===a.product.platform||"farmer"===a.product.seller_type||"agent"===a.product.seller_type,o=a.product.community_id||"community"===a.product.source;if(n+=o?.05*s:l?.1*s:.03*s,"platform"===a.delivery_method){const e=500,r=50*(a.product.weight_kg||1);t+=e+r}else"offline"===a.delivery_method?t+=200:"seller"===a.product.logistics_managed_by&&(t+=a.product.seller_delivery_fee||0)})),s&&(a=.04*e);const l=n+0+t,o=e+l;return Ha({product_total:e,platform_service_charge:n,platform_commission:0,delivery_total:t,platform_cut:l,agent_commission:a,subtotal:e,total:o,item_count:r,is_agent:s}),{product_total:e,platform_service_charge:n,platform_commission:0,delivery_total:t,platform_cut:l,agent_commission:a,subtotal:e,total:o,item_count:r,is_agent:s}},Gs=(e,t)=>{t<=0?Xs(e):(z((r=>r.map((r=>r.id===e?u(u({},r),{},{quantity:t}):r)))),Qs())},Xs=e=>{z((t=>t.filter((t=>t.id!==e)))),Qs()},Zs=()=>{const e=["full_name","phone","address_line_1","city","state"].filter((e=>!Ma[e].trim()));return e.length>0?(alert("Please fill in the following required fields: ".concat(e.join(", "))),!1):!!/^\+?[\d\s-()]+$/.test(Ma.phone)||(alert("Please enter a valid phone number"),!1)},el=()=>{if(re.trim()&&ae){const e={id:Date.now(),type:"text",content:re,sender:f.username,timestamp:(new Date).toISOString(),conversation_id:ae.id};te((t=>[...t,e])),ne("")}},tl=async()=>{if(f)try{const e=localStorage.getItem("token"),t=await fetch("".concat(p,"/api/orders"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();Ne(e)}}catch(e){console.error("Error fetching orders:",e)}},rl=async()=>{try{const e=await fetch("".concat(p,"/api/requests/"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(e.ok){const t=await e.json();on(t)}}catch(e){console.error("Error fetching buyer requests:",e)}},nl=(F.reduce(((e,t)=>e+t.product.price_per_unit*t.quantity),0),F.reduce(((e,t)=>e+t.quantity),0)),al=e=>{"agent_register"===e?(setSelectedUserPath("partner"),setPartnerType("agent"),setRegistrationStep("basic"),N("register"),j(!0)):"supplier_register"===e?(setSelectedUserPath("partner"),setPartnerType("business"),setBusinessCategory("supplier"),setRegistrationStep("basic"),N("register"),j(!0)):"business_register"===e&&(setSelectedUserPath("buyer"),setSelectedBuyerType("hotel"),setRegistrationStep("basic"),N("register"),j(!0))},sl=()=>{const e=Qt.filter((e=>{var t,r,n,a;const s=xr.toLowerCase();return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(s))||(null===(r=e.description)||void 0===r?void 0:r.toLowerCase().includes(s))||(null===(n=e.category)||void 0===n?void 0:n.toLowerCase().includes(s))||(null===(a=e.location)||void 0===a?void 0:a.toLowerCase().includes(s))}));return(0,Yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:(0,Yn.jsx)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:(0,Yn.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[(0,Yn.jsx)("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Find Communities"}),(0,Yn.jsx)("button",{onClick:()=>{tr(!1),gr("")},className:"text-gray-400 hover:text-gray-600 text-xl sm:text-2xl p-1",children:"\u2715"})]}),(0,Yn.jsxs)("div",{className:"mb-4 sm:mb-6",children:[(0,Yn.jsxs)("div",{className:"relative",children:[(0,Yn.jsx)("input",{type:"text",value:xr,onChange:e=>gr(e.target.value),placeholder:"Search communities by name, description, category, or location...",className:"w-full px-4 py-2.5 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-sm"}),(0,Yn.jsx)("svg",{className:"absolute left-3 top-3 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),xr&&(0,Yn.jsx)("button",{onClick:()=>gr(""),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:"\u2715"})]}),(0,Yn.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:[e.length," ",1===e.length?"community":"communities"," found"]})]}),(0,Yn.jsx)("div",{className:"grid gap-3 sm:gap-4 sm:grid-cols-2 lg:grid-cols-3",children:e.map((e=>(0,Yn.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3 sm:p-4 hover:border-emerald-300 transition-colors",children:[(0,Yn.jsxs)("div",{className:"flex items-start justify-between mb-2 sm:mb-3",children:[(0,Yn.jsxs)("div",{className:"flex-1 min-w-0 pr-2",children:[(0,Yn.jsx)("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 truncate",children:e.name}),(0,Yn.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:e.category})]}),(0,Yn.jsx)("span",{className:"px-2 py-0.5 sm:py-1 text-xs rounded-full flex-shrink-0 ".concat("public"===e.privacy_type?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"),children:e.privacy_type})]}),(0,Yn.jsx)("p",{className:"text-xs sm:text-sm text-gray-700 mb-2 sm:mb-3 line-clamp-2",children:e.description}),(0,Yn.jsxs)("div",{className:"flex items-center justify-between text-xs sm:text-sm text-gray-600 mb-2 sm:mb-3",children:[(0,Yn.jsxs)("span",{children:[e.member_count||0," members"]}),e.location&&(0,Yn.jsx)("span",{className:"truncate ml-2",children:e.location})]}),(0,Yn.jsx)("button",{onClick:async()=>{try{await Ts(e.id),alert("Successfully joined community!")}catch(t){alert("Failed to join community: "+t.message)}},className:"w-full px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors",children:"Join Community"})]},e.id)))}),0===e.length&&(0,Yn.jsxs)("div",{className:"text-center py-6 sm:py-8",children:[(0,Yn.jsx)("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,Yn.jsx)("p",{className:"text-sm sm:text-base text-gray-500",children:xr?'No communities found matching "'.concat(xr,'"'):"No communities found. Be the first to create one!"}),xr&&(0,Yn.jsx)("button",{onClick:()=>gr(""),className:"mt-3 text-sm text-emerald-600 hover:text-emerald-700",children:"Clear search"})]})]})})})},ll=()=>{var e,t;const[r,n]=(0,a.useState)((null===f||void 0===f?void 0:f.profile_picture)||null);return(0,Yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Yn.jsx)("div",{className:"bg-white rounded-lg max-w-md w-full",children:(0,Yn.jsxs)("div",{className:"p-6",children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Yn.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Profile Picture"}),(0,Yn.jsx)("button",{onClick:()=>Kr(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,Yn.jsxs)("div",{className:"flex flex-col items-center mb-6",children:[(0,Yn.jsx)("div",{className:"relative",children:r?(0,Yn.jsx)("img",{src:r,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-emerald-500"}):(0,Yn.jsx)("div",{className:"w-32 h-32 rounded-full bg-emerald-500 flex items-center justify-center text-white text-4xl font-bold border-4 border-emerald-600",children:(null===f||void 0===f||null===(e=f.first_name)||void 0===e?void 0:e.charAt(0).toUpperCase())||"U"})}),(0,Yn.jsxs)("p",{className:"text-sm text-gray-600 mt-3",children:[null===f||void 0===f?void 0:f.first_name," ",null===f||void 0===f?void 0:f.last_name]}),(0,Yn.jsx)("p",{className:"text-xs text-gray-500 capitalize",children:null===f||void 0===f||null===(t=f.role)||void 0===t?void 0:t.replace("_"," ")})]}),(0,Yn.jsxs)("div",{className:"space-y-4",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Choose New Picture"}),(0,Yn.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(!t)return;if(!t.type.startsWith("image/"))return void alert("Please select an image file");if(t.size>5242880)return void alert("Image size must be less than 5MB");const r=new FileReader;r.onloadend=()=>{n(r.result)},r.readAsDataURL(t)},className:"block w-full text-sm text-gray-500\r file:mr-4 file:py-2 file:px-4\r file:rounded-lg file:border-0\r file:text-sm file:font-semibold\r file:bg-emerald-50 file:text-emerald-700\r hover:file:bg-emerald-100\r cursor-pointer"}),(0,Yn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Max size: 5MB. Formats: JPG, PNG, GIF"})]}),(0,Yn.jsxs)("div",{className:"flex gap-3",children:[(0,Yn.jsx)("button",{onClick:async()=>{r?await(async e=>{if(f){Gr(!0);try{const t=localStorage.getItem("token"),r=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/users/profile-picture"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({profile_picture:e})});if(r.ok){const e=await r.json();return h(u(u({},f),{},{profile_picture:e.profile_picture})),alert("Profile picture updated successfully! \u2705"),Kr(!1),!0}{const e=await r.json();alert("Failed to upload: ".concat(e.detail||"Unknown error"))}}catch(t){console.error("Error uploading profile picture:",t),alert("Failed to upload profile picture. Please try again.")}finally{Gr(!1)}return!1}})(r):alert("Please select an image first")},disabled:Qr||!r,className:"flex-1 px-4 py-2 text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed",children:Qr?"Uploading...":"Upload Picture"}),(null===f||void 0===f?void 0:f.profile_picture)&&(0,Yn.jsx)("button",{onClick:Ss,className:"px-4 py-2 text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition-colors font-medium",children:"Remove"})]}),(0,Yn.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,Yn.jsxs)("p",{className:"text-xs text-blue-800",children:[(0,Yn.jsx)("strong",{children:"\ud83d\udd12 Transparency:"})," Your profile picture will appear on all products you post, helping buyers know who they're purchasing from."]})})]})]})})})},ol=()=>fr?(0,Yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,Yn.jsx)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:(0,Yn.jsxs)("div",{className:"p-6",children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,Yn.jsxs)("div",{className:"flex items-center gap-4",children:[fr.profile_picture?(0,Yn.jsx)("img",{src:fr.profile_picture,alt:fr.name,className:"w-16 h-16 rounded-full object-cover border-4 border-emerald-500"}):(0,Yn.jsx)("div",{className:"w-16 h-16 rounded-full bg-emerald-500 flex items-center justify-center text-white font-bold text-2xl border-4 border-emerald-600",children:fr.name.charAt(0).toUpperCase()}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:fr.name}),(0,Yn.jsx)("p",{className:"text-sm text-gray-600",children:fr.category}),(0,Yn.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-sm text-gray-600",children:[(0,Yn.jsxs)("span",{children:[fr.member_count||0," members"]}),fr.location&&(0,Yn.jsxs)("span",{children:["\ud83d\udccd ",fr.location]})]})]})]}),(0,Yn.jsx)("button",{onClick:()=>pr(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,Yn.jsx)("div",{className:"mb-6",children:(0,Yn.jsx)("p",{className:"text-gray-700",children:fr.description})}),(0,Yn.jsx)("div",{className:"flex gap-3 mb-6",children:(0,Yn.jsx)("button",{onClick:async()=>{try{await Ts(fr.id),alert("Successfully joined community!"),(async e=>{try{const t=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/communities/").concat(e));if(t.ok){const e=await t.json();return hr(e),e}}catch(t){console.error("Error fetching community details:",t)}})(fr.id)}catch(e){alert("Failed to join: "+e.message)}},className:"px-6 py-2 text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors font-medium",children:"Join Community"})}),fr.recent_products&&fr.recent_products.length>0&&(0,Yn.jsxs)("div",{className:"mb-6",children:[(0,Yn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Products"}),(0,Yn.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:fr.recent_products.map((e=>(0,Yn.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-emerald-300 transition-colors",children:[(0,Yn.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:e.title}),(0,Yn.jsx)("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:e.description}),(0,Yn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Yn.jsxs)("span",{className:"text-lg font-bold text-emerald-600",children:["\u20a6",e.price]}),(0,Yn.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,Yn.jsxs)("span",{children:["\u2764\ufe0f ",e.likes_count||0]}),(0,Yn.jsxs)("span",{children:["\ud83d\udcac ",e.comments_count||0]})]})]})]},e.id)))})]}),fr.recent_members&&fr.recent_members.length>0&&(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Members"}),(0,Yn.jsx)("div",{className:"flex flex-wrap gap-3",children:fr.recent_members.map((e=>{var t;return(0,Yn.jsxs)("div",{className:"flex items-center gap-2 bg-gray-50 rounded-lg px-3 py-2",children:[(0,Yn.jsx)("div",{className:"w-8 h-8 rounded-full bg-emerald-500 flex items-center justify-center text-white font-semibold text-xs",children:(null===(t=e.username)||void 0===t?void 0:t.charAt(0).toUpperCase())||"U"}),(0,Yn.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.username}),"admin"===e.role&&(0,Yn.jsx)("span",{className:"text-xs bg-emerald-100 text-emerald-700 px-2 py-0.5 rounded-full",children:"Admin"})]},e.id)}))})]})]})})}):null,il=()=>{var e,t;return en?(0,Yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Yn.jsx)("div",{className:"bg-white rounded-lg max-w-md w-full",children:(0,Yn.jsxs)("div",{className:"p-6",children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,Yn.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Seller Information"}),(0,Yn.jsx)("button",{onClick:()=>Zr(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,Yn.jsxs)("div",{className:"flex flex-col items-center mb-6",children:[en.profile_picture?(0,Yn.jsx)("img",{src:en.profile_picture,alt:en.username,className:"w-24 h-24 rounded-full object-cover border-4 border-emerald-500 mb-4"}):(0,Yn.jsx)("div",{className:"w-24 h-24 rounded-full bg-emerald-500 flex items-center justify-center text-white font-bold text-3xl border-4 border-emerald-600 mb-4",children:(null===(e=en.first_name)||void 0===e?void 0:e.charAt(0).toUpperCase())||"U"}),(0,Yn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[en.first_name," ",en.last_name]}),(0,Yn.jsxs)("p",{className:"text-sm text-gray-600",children:["@",en.username]})]}),(0,Yn.jsxs)("div",{className:"space-y-3",children:[(0,Yn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Yn.jsx)("span",{className:"text-sm text-gray-600",children:"Type"}),(0,Yn.jsxs)("span",{className:"text-sm font-medium text-gray-900 capitalize",children:["farmer"===en.role&&"\ud83d\udc68\u200d\ud83c\udf3e Farmer","agent"===en.role&&"\ud83e\udd1d Agent","business"===en.role&&"\ud83c\udfe2 Business","supplier"===en.role&&"\ud83d\udce6 Supplier",!["farmer","agent","business","supplier"].includes(en.role)&&en.role]})]}),en.business_name&&(0,Yn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Yn.jsx)("span",{className:"text-sm text-gray-600",children:"Business"}),(0,Yn.jsx)("span",{className:"text-sm font-medium text-gray-900",children:en.business_name})]}),en.business_category&&(0,Yn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Yn.jsx)("span",{className:"text-sm text-gray-600",children:"Category"}),(0,Yn.jsx)("span",{className:"text-sm font-medium text-gray-900 capitalize",children:en.business_category.replace("_"," ")})]}),en.business_description&&(0,Yn.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,Yn.jsx)("span",{className:"text-sm text-gray-600 block mb-1",children:"About"}),(0,Yn.jsx)("p",{className:"text-sm text-gray-900",children:en.business_description})]}),(0,Yn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Yn.jsx)("span",{className:"text-sm text-gray-600",children:"Rating"}),(0,Yn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Yn.jsx)("div",{className:"flex",children:[...Array(5)].map(((e,t)=>(0,Yn.jsx)("span",{className:"text-sm ".concat(t<Math.floor(en.average_rating||5)?"text-yellow-400":"text-gray-300"),children:"\u2b50"},t)))}),(0,Yn.jsx)("span",{className:"text-sm font-medium text-gray-900",children:(null===(t=en.average_rating)||void 0===t?void 0:t.toFixed(1))||"5.0"}),en.total_ratings>0&&(0,Yn.jsxs)("span",{className:"text-xs text-gray-500",children:["(",en.total_ratings," reviews)"]})]})]}),(0,Yn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Yn.jsx)("span",{className:"text-sm text-gray-600",children:"Status"}),(0,Yn.jsxs)("div",{className:"flex items-center gap-2",children:[en.is_verified&&(0,Yn.jsx)("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:"\u2713 Verified"}),"approved"===en.kyc_status&&(0,Yn.jsx)("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium",children:"\u2713 KYC Approved"})]})]})]}),(0,Yn.jsx)("div",{className:"mt-6 p-3 bg-emerald-50 border border-emerald-200 rounded-lg",children:(0,Yn.jsxs)("p",{className:"text-xs text-emerald-800",children:[(0,Yn.jsx)("strong",{children:"\ud83d\udd12 Transparency:"})," All seller information is verified through Pyramyd's KYC process to ensure safe transactions."]})})]})})}):null};return(0,Yn.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[f&&"personal"!==f.role&&Jt&&"approved"!==Jt.status&&(0,Yn.jsx)("div",{className:"".concat("not_started"===Jt.status?"bg-red-500":"pending"===Jt.status?"bg-yellow-500":"bg-red-500"," text-white px-4 py-2 text-center text-sm"),children:(0,Yn.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-center space-x-4",children:[(0,Yn.jsxs)("span",{children:["not_started"===Jt.status&&"\u26a0\ufe0f Complete your KYC verification to start receiving payments","pending"===Jt.status&&"\u23f3 Your KYC is under review. You'll be able to receive payments once approved","rejected"===Jt.status&&"\u274c Your KYC was rejected. Please resubmit with correct documents"]}),"pending"!==Jt.status&&(0,Yn.jsx)("button",{onClick:()=>{alert("KYC completion form will open here. This includes:\n\nFor Registered Businesses:\n- Business Registration Number\n- TIN Certificate\n- Certificate of Incorporation\n\nFor Others (Farmers/Agents/Unregistered):\n- NIN or BVN\n- Headshot photo (camera)\n- National ID upload\n- Utility bill")},className:"bg-white text-red-600 px-3 py-1 rounded text-xs font-medium hover:bg-gray-100 transition-colors",children:"Complete Now"})]})}),gn&&(0,Yn.jsx)("div",{className:"bg-gray-800 text-white px-4 py-2 text-center text-sm",children:(0,Yn.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-center space-x-2",children:[(0,Yn.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636a9 9 0 010 12.728m0 0l-2.829-2.829m2.829 2.829L21 21M15.536 8.464a5 5 0 010 7.072m0 0l-2.829-2.829m-4.243 2.829a4.978 4.978 0 01-1.414-2.83m-1.414 5.658a9 9 0 01-2.167-9.238m7.824 2.167a1 1 0 111.414 1.414m-1.414-1.414L3 3m8.293 8.293l1.414 1.414"})}),(0,Yn.jsx)("span",{children:"\ud83d\udce1 You're offline. Browsing cached content. Posts will sync when online."})]})}),bn&&(0,Yn.jsx)("div",{className:"bg-emerald-600 text-white px-4 py-3 text-center text-sm",children:(0,Yn.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-center space-x-4",children:[(0,Yn.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),(0,Yn.jsx)("span",{children:"Install Pyramyd app for offline access and faster performance!"}),(0,Yn.jsx)("button",{onClick:async()=>{if(!jn)return;jn.prompt();const{outcome:e}=await jn.userChoice;"accepted"===e&&console.log("User accepted PWA install"),wn(null),vn(!1)},className:"bg-white text-emerald-600 px-4 py-1.5 rounded text-xs font-medium hover:bg-gray-100 transition-colors",children:"Install Now"}),(0,Yn.jsx)("button",{onClick:()=>vn(!1),className:"text-white hover:text-gray-200 text-lg",children:"\u2715"})]})}),(0,Yn.jsxs)("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:[(0,Yn.jsx)("div",{className:"border-b border-gray-100",children:(0,Yn.jsx)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8",children:(0,Yn.jsxs)("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[(0,Yn.jsx)("div",{className:"flex items-center flex-shrink-0",children:(0,Yn.jsx)("img",{src:"https://customer-assets.emergentagent.com/job_pyramyd-agritech/artifacts/ml8alcyl_image.png",alt:"Pyramyd",className:"h-5 sm:h-6 md:h-8 lg:h-10 w-auto"})}),(0,Yn.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:[(0,Yn.jsxs)("button",{onClick:()=>I(!0),className:"nav-button icon-button relative p-1 sm:p-1.5 md:p-2 text-gray-600 hover:text-emerald-600 transition-colors rounded-lg border border-gray-200 hover:border-emerald-500 flex-shrink-0",title:"Shopping Cart",children:[(0,Yn.jsx)("div",{className:"w-5 h-5",children:(0,Yn.jsx)(sa,{})}),nl>0&&(0,Yn.jsx)("span",{className:"absolute -top-1 -right-1 bg-emerald-600 text-white text-xs rounded-full h-4 w-4 sm:h-5 sm:w-5 flex items-center justify-center font-semibold text-[10px] sm:text-xs",children:nl})]}),(0,Yn.jsxs)("button",{onClick:()=>{f?Z(!0):j(!0)},className:"nav-button icon-button relative p-1.5 md:p-2 text-gray-600 hover:text-emerald-600 transition-colors rounded-lg border border-gray-200 hover:border-emerald-500 hidden md:flex flex-shrink-0",title:"Messages",children:[(0,Yn.jsx)("div",{className:"w-5 h-5",children:(0,Yn.jsx)(oa,{})}),f&&ee.length>0&&(0,Yn.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 sm:h-5 sm:w-5 flex items-center justify-center font-semibold text-[10px] sm:text-xs",children:ee.length})]}),(0,Yn.jsx)("button",{onClick:()=>{f?(je(!0),tl()):j(!0)},className:"nav-button icon-button p-1.5 md:p-2 text-gray-600 hover:text-emerald-600 transition-colors rounded-lg border border-gray-200 hover:border-emerald-500 hidden md:flex flex-shrink-0",title:"Track Orders / Find Drivers",children:(0,Yn.jsx)("div",{className:"w-5 h-5",children:(0,Yn.jsx)(la,{})})}),(0,Yn.jsx)("div",{className:"relative flex-shrink-0",children:f?(0,Yn.jsxs)("button",{onClick:()=>Te(!Re),className:"nav-button icon-button flex items-center gap-1 sm:gap-2 p-1 sm:p-1.5 md:p-2 text-gray-600 hover:text-emerald-600 transition-colors rounded-lg border border-gray-200 hover:border-emerald-500",title:"Profile Menu",children:[(0,Yn.jsx)("div",{className:"w-5 h-5 flex-shrink-0",children:(0,Yn.jsx)(ia,{})}),(0,Yn.jsx)("span",{className:"hidden md:inline text-xs md:text-sm font-medium whitespace-nowrap",children:f.first_name})]}):(0,Yn.jsxs)("button",{onClick:()=>j(!0),className:"nav-button icon-button flex items-center gap-1 sm:gap-2 p-1 sm:p-1.5 md:p-2 text-gray-600 hover:text-emerald-600 transition-colors rounded-lg border border-gray-200 hover:border-emerald-500",title:"Sign In",children:[(0,Yn.jsx)("div",{className:"w-5 h-5 flex-shrink-0",children:(0,Yn.jsx)(ia,{})}),(0,Yn.jsx)("span",{className:"hidden md:inline text-xs md:text-sm font-medium whitespace-nowrap",children:"Sign In"})]})})]})]})})}),(0,Yn.jsx)("div",{className:"bg-gray-50",children:(0,Yn.jsx)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8",children:(0,Yn.jsxs)("div",{className:"flex items-center justify-between sm:justify-start gap-1 sm:gap-4 h-14 sm:h-12 overflow-x-auto px-1 sm:px-0 scrollbar-hide",children:[(0,Yn.jsxs)("button",{onClick:()=>g("home"),className:"flex flex-col sm:flex-row items-center justify-center px-2 sm:px-4 py-1 sm:py-2 rounded-lg transition-colors min-w-[60px] sm:min-w-0 ".concat("home"===x?"bg-white text-emerald-600 shadow-sm border border-emerald-100 sm:border-0 sm:shadow-none sm:bg-transparent":"text-gray-500 hover:text-gray-900 border border-transparent"," sm:border-b-2 ").concat("home"===x?"sm:border-emerald-600":"sm:border-transparent"),children:[(0,Yn.jsx)("div",{className:"".concat("home"===x?"text-emerald-600":"text-gray-400 group-hover:text-gray-600"),children:(0,Yn.jsx)(ca,{})}),(0,Yn.jsx)("span",{className:"text-[10px] sm:text-sm font-medium mt-1 sm:mt-0 sm:ml-2 whitespace-nowrap",children:"PyExpress"})]}),(0,Yn.jsxs)("button",{onClick:()=>g("buy_from_farm"),className:"flex flex-col sm:flex-row items-center justify-center px-2 sm:px-4 py-1 sm:py-2 rounded-lg transition-colors min-w-[60px] sm:min-w-0 ".concat("buy_from_farm"===x?"bg-white text-emerald-600 shadow-sm border border-emerald-100 sm:border-0 sm:shadow-none sm:bg-transparent":"text-gray-500 hover:text-gray-900 border border-transparent"," sm:border-b-2 ").concat("buy_from_farm"===x?"sm:border-emerald-600":"sm:border-transparent"),children:[(0,Yn.jsx)("div",{className:"".concat("buy_from_farm"===x?"text-emerald-600":"text-gray-400 group-hover:text-gray-600"),children:(0,Yn.jsx)(da,{})}),(0,Yn.jsx)("span",{className:"text-[10px] sm:text-sm font-medium mt-1 sm:mt-0 sm:ml-2 whitespace-nowrap",children:"Farm Deals"})]}),(0,Yn.jsxs)("button",{onClick:()=>dn(!0),className:"flex flex-col sm:flex-row items-center justify-center px-2 sm:px-4 py-1 sm:py-2 rounded-lg transition-colors min-w-[60px] sm:min-w-0 text-gray-500 hover:text-gray-900 border border-transparent sm:border-b-2 sm:border-transparent hover:border-gray-300",children:[(0,Yn.jsx)("div",{className:"text-gray-400 group-hover:text-gray-600",children:(0,Yn.jsx)(ma,{})}),(0,Yn.jsx)("span",{className:"text-[10px] sm:text-sm font-medium mt-1 sm:mt-0 sm:ml-2 whitespace-nowrap",children:"Requests"})]}),(0,Yn.jsxs)("button",{onClick:()=>g("communities"),className:"flex flex-col sm:flex-row items-center justify-center px-2 sm:px-4 py-1 sm:py-2 rounded-lg transition-colors min-w-[60px] sm:min-w-0 ".concat("communities"===x?"bg-white text-emerald-600 shadow-sm border border-emerald-100 sm:border-0 sm:shadow-none sm:bg-transparent":"text-gray-500 hover:text-gray-900 border border-transparent"," sm:border-b-2 ").concat("communities"===x?"sm:border-emerald-600":"sm:border-transparent"),children:[(0,Yn.jsx)("div",{className:"".concat("communities"===x?"text-emerald-600":"text-gray-400 group-hover:text-gray-600"),children:(0,Yn.jsx)(ua,{})}),(0,Yn.jsx)("span",{className:"text-[10px] sm:text-sm font-medium mt-1 sm:mt-0 sm:ml-2 whitespace-nowrap",children:"Communities"})]})]})})})]}),(0,Yn.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[f&&(0,Yn.jsx)("div",{children:Re&&(0,Yn.jsx)("div",{className:"fixed top-16 right-4 z-50",children:(0,Yn.jsx)("div",{className:"profile-dropdown w-48 bg-white rounded-lg shadow-lg border border-gray-200",children:(0,Yn.jsxs)("div",{className:"py-1",children:[(0,Yn.jsxs)("div",{className:"px-4 py-3 border-b border-gray-100",children:[(0,Yn.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[f.first_name," ",f.last_name]}),(0,Yn.jsx)("p",{className:"text-xs text-gray-500",children:null===(e=f.role)||void 0===e?void 0:e.replace("_"," ").toUpperCase()}),"personal"!==f.role&&Jt&&(0,Yn.jsxs)("div",{className:"mt-2",children:[(0,Yn.jsxs)("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("approved"===Jt.status?"bg-green-100 text-green-800":"pending"===Jt.status?"bg-yellow-100 text-yellow-800":"rejected"===Jt.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:["approved"===Jt.status&&"\u2705 KYC Verified","pending"===Jt.status&&"\u23f3 KYC Pending","rejected"===Jt.status&&"\u274c KYC Rejected","not_started"===Jt.status&&"\u26a0\ufe0f KYC Required"]}),(0,Yn.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"approved"===Jt.status?"\u2705 Can receive payments":"\u26a0\ufe0f Cannot receive payments"})]}),"personal"===f.role&&(0,Yn.jsxs)("div",{className:"mt-2",children:[(0,Yn.jsx)("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"\ud83d\udc64 Personal Account"}),(0,Yn.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"\u2705 Can purchase products"})]})]}),(0,Yn.jsx)("button",{onClick:()=>{Te(!1),Kr(!0)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"\ud83d\udc64 My Profile"}),(0,Yn.jsx)("button",{onClick:()=>{Te(!1)},className:"block w-full text-left px-4 py-2 text-sm text-blue-600 hover:bg-gray-50 font-medium",children:"\ud83c\udfe0 My Dashboard"}),(0,Yn.jsxs)("div",{className:"md:hidden border-t border-gray-200 pt-2 mt-2",children:[(0,Yn.jsx)("button",{onClick:()=>{Te(!1),Z(!0)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"\ud83d\udcac Messages"}),(0,Yn.jsx)("button",{onClick:()=>{Te(!1),je(!0),tl()},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"\ud83d\ude9b Order Tracking"})]}),"agent"!==f.role&&(0,Yn.jsx)("button",{onClick:()=>{Te(!1),al("agent_register")},className:"block w-full text-left px-4 py-2 text-sm text-emerald-600 hover:bg-gray-50 font-medium",children:"\ud83e\udd1d Become a Partner"}),"agent"===f.role&&(0,Yn.jsx)("button",{onClick:()=>{Te(!1),De(!0)},className:"block w-full text-left px-4 py-2 text-sm text-purple-600 hover:bg-gray-50 font-medium",children:"\ud83d\udccd Add Drop-off Location"}),"personal"!==f.role&&Jt&&"approved"!==Jt.status&&(0,Yn.jsxs)("button",{onClick:()=>{Te(!1),alert("KYC completion form will open here. This includes:\n\nFor Registered Businesses:\n- Business Registration Number\n- TIN Certificate\n- Certificate of Incorporation\n\nFor Others (Farmers/Agents/Unregistered):\n- NIN or BVN\n- Headshot photo (camera)\n- National ID upload\n- Utility bill")},className:"block w-full text-left px-4 py-2 text-sm font-medium border-l-4 ".concat("not_started"===Jt.status?"text-red-600 hover:bg-red-50 border-red-400 bg-red-25":"pending"===Jt.status?"text-yellow-600 hover:bg-yellow-50 border-yellow-400 bg-yellow-25":"text-blue-600 hover:bg-blue-50 border-blue-400 bg-blue-25"),children:["not_started"===Jt.status&&"\ud83d\udd10 Complete KYC (Required)","pending"===Jt.status&&"\u23f3 KYC Under Review","rejected"===Jt.status&&"\u274c Resubmit KYC"]}),(0,Yn.jsx)("button",{onClick:()=>{Te(!1),ut(!0),ys(),bs(),vs()},className:"block w-full text-left px-4 py-2 text-sm text-purple-600 hover:bg-gray-50 font-medium",children:"\ud83d\udcb0 My Wallet"}),(0,Yn.jsx)("button",{onClick:()=>{Te(!1),_t(!0),js()},className:"block w-full text-left px-4 py-2 text-sm text-pink-600 hover:bg-gray-50 font-medium",children:"\ud83c\udf81 Gift Cards"}),(0,Yn.jsx)("button",{onClick:()=>{Te(!1),alert("Feature coming soon! View and manage your ratings and reviews.")},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"\u2b50 My Ratings & Reviews"}),"logistics"===f.role&&(0,Yn.jsx)("button",{onClick:()=>{Te(!1),tt(!0),xs()},className:"block w-full text-left px-4 py-2 text-sm text-blue-600 hover:bg-gray-50 font-medium",children:"\ud83d\ude97 Manage Drivers"}),(0,Yn.jsx)("button",{onClick:()=>{Te(!1),ot(!0),gs()},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"\ud83d\udd0d Find Drivers"}),"farmer"===f.role&&(0,Yn.jsx)("button",{onClick:()=>{Te(!1),Nr(!0),(async()=>{try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/farmer/dashboard"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();return Pr(e),e}}catch(e){console.error("Error fetching farmer dashboard:",e)}})()},className:"block w-full text-left px-4 py-2 text-sm text-green-600 hover:bg-gray-50 font-medium",children:"\ud83c\udf3e Farmer Dashboard"}),"agent"===f.role&&(0,Yn.jsx)("button",{onClick:()=>{Te(!1),_r(!0),(async()=>{try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/agent/dashboard"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();return Tr(e),e}}catch(e){console.error("Error fetching agent dashboard:",e)}})()},className:"block w-full text-left px-4 py-2 text-sm text-purple-600 hover:bg-gray-50 font-medium",children:"\ud83e\udd1d Agent Dashboard"}),("agent"===f.role||"farmer"===f.role||"business"===f.role)&&(0,Yn.jsx)("button",{onClick:()=>{Te(!1),dn(!0)},className:"block w-full text-left px-4 py-2 text-sm text-emerald-600 hover:bg-gray-50 font-medium",children:"\ud83c\udfaf View Buyer Requests"}),("farmer"===f.role||"agent"===f.role||"business"===f.role)&&(0,Yn.jsx)("button",{onClick:()=>{Te(!1),ut(!0)},className:"block w-full text-left px-4 py-2 text-sm text-blue-600 hover:bg-gray-50 font-medium",children:"\ud83d\udcb0 My Wallet"}),(0,Yn.jsx)("button",{onClick:()=>{Te(!1),Or(!0),Ls()},className:"block w-full text-left px-4 py-2 text-sm text-blue-600 hover:bg-gray-50 font-medium",children:"\ud83d\udcc8 Market Prices"}),"driver"===f.role&&(0,Yn.jsx)("button",{onClick:()=>{Te(!1),alert("Driver Portal Access - Feature coming soon!\nTrack your deliveries, earnings, and ratings.")},className:"block w-full text-left px-4 py-2 text-sm text-green-600 hover:bg-gray-50 font-medium",children:"\ud83d\ude9b Driver Portal"}),(0,Yn.jsx)("button",{onClick:()=>{Te(!1),tl(),je(!0)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"My Orders"}),(0,Yn.jsx)("button",{onClick:()=>{Te(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"My Wallet"}),"driver"===f.role&&(0,Yn.jsx)("button",{onClick:()=>{Te(!1),Sn(!0),Vs()},className:"block w-full text-left px-4 py-2 text-sm text-blue-600 hover:bg-gray-50 font-medium",children:"\ud83d\ude9b Driver Portal"}),"business"===f.partner_type&&"logistics_business"===f.business_category&&(0,Yn.jsx)("button",{onClick:()=>{Te(!1),En(!0),(async()=>{try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/logistics/my-drivers"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();Mn(e.drivers||[]),Bn(e.vehicles||[])}}catch(e){console.error("Error fetching drivers:",e)}})()},className:"block w-full text-left px-4 py-2 text-sm text-purple-600 hover:bg-gray-50 font-medium",children:"\ud83d\udccb Logistics Dashboard"}),f.role&&["agent","farmer","supplier","processor"].includes(f.role)&&(0,Yn.jsx)("button",{onClick:()=>{Te(!1),Ks("seller"),je(!0)},className:"block w-full text-left px-4 py-2 text-sm text-green-600 hover:bg-gray-50 font-medium",children:"\ud83d\udcca Seller Dashboard"}),f.role&&["agent","farmer","supplier","processor"].includes(f.role)&&(0,Yn.jsx)("button",{onClick:()=>{Te(!1),Ln(!0)},className:"block w-full text-left px-4 py-2 text-sm text-orange-600 hover:bg-gray-50 font-medium",children:"\ud83d\ude9a Request Delivery"}),"agent"!==f.role&&(0,Yn.jsx)("button",{onClick:()=>{Te(!1),al("agent_register")},className:"block w-full text-left px-4 py-2 text-sm text-emerald-600 hover:bg-gray-50 font-medium",children:"Become an Agent"}),(0,Yn.jsx)("button",{onClick:()=>{Te(!1),window.open("https://hilorgx.com","_blank")},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Report an Issue"}),(0,Yn.jsx)("div",{className:"border-t border-gray-100",children:(0,Yn.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),h(null),z([]),Te(!1)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-50",children:"Logout"})})]})})})}),(0,Yn.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["communities"===x&&(0,Yn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 h-[calc(100vh-140px)]",children:[(0,Yn.jsxs)("div",{className:"md:col-span-1 flex flex-col gap-6 overflow-y-auto",children:[(0,Yn.jsx)(Zn,{onSelect:nr,refreshTrigger:vr,onCreate:()=>Zt(!0)}),(0,Yn.jsx)(Xn,{onJoin:async e=>{try{const t=localStorage.getItem("token");return!!(await fetch("".concat(p,"/api/communities/").concat(e,"/join"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)}})).ok&&(alert("Joined community successfully!"),Es(),!0)}catch(t){return console.error("Error joining community:",t),!1}}})]}),(0,Yn.jsx)("div",{className:"md:col-span-3 h-full",children:rr?(0,Yn.jsx)(ea,{community:rr,onBack:()=>nr(null)}):(0,Yn.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 h-full flex flex-col items-center justify-center text-center p-8",children:[(0,Yn.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udc65"}),(0,Yn.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome to Pyramyd Communities"}),(0,Yn.jsx)("p",{className:"text-gray-500 max-w-md mb-6",children:"Connect with farmers, agents, and buyers. Join a community from the sidebar to see updates, share knowledge, and trade."}),(0,Yn.jsxs)("button",{onClick:()=>Zt(!0),className:"px-6 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium shadow-sm transition-colors flex items-center gap-2",children:[(0,Yn.jsx)("span",{className:"text-xl",children:"+"}),"Create Your Community"]})]})})]}),"communities"!==x&&(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("div",{className:"mb-6",children:(0,Yn.jsxs)("div",{className:"relative",children:[(0,Yn.jsx)("input",{type:"text",placeholder:"Search products...",value:W,onChange:e=>V(e.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-base"}),(0,Yn.jsx)("button",{className:"absolute right-3 top-3 text-emerald-600 hover:text-emerald-700",children:(0,Yn.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),(0,Yn.jsxs)("div",{className:"mb-4",children:[(0,Yn.jsxs)("button",{onClick:()=>He(!qe),className:"flex items-center space-x-2 text-sm text-gray-600 hover:text-emerald-600 font-medium my-2",children:[(0,Yn.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"})}),(0,Yn.jsx)("span",{children:"Advanced Filters"}),(0,Yn.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(qe?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),qe&&(0,Yn.jsxs)("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,Yn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,Yn.jsxs)("select",{value:Nn.location,onChange:e=>kn((t=>u(u({},t),{},{location:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[(0,Yn.jsx)("option",{value:"",children:"All Locations"}),qt.map((e=>(0,Yn.jsx)("option",{value:e,children:e},e)))]})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Price (\u20a6)"}),(0,Yn.jsx)("input",{type:"number",placeholder:"Min price",value:Nn.min_price,onChange:e=>kn((t=>u(u({},t),{},{min_price:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Price (\u20a6)"}),(0,Yn.jsx)("input",{type:"number",placeholder:"Max price",value:Nn.max_price,onChange:e=>kn((t=>u(u({},t),{},{max_price:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seller Type"}),(0,Yn.jsxs)("select",{value:Nn.seller_type,onChange:e=>kn((t=>u(u({},t),{},{seller_type:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[(0,Yn.jsx)("option",{value:"",children:"All Sellers"}),(0,Yn.jsx)("option",{value:"farmer",children:"Farmer"}),(0,Yn.jsx)("option",{value:"agent",children:"Agent"}),(0,Yn.jsx)("option",{value:"business",children:"Business"}),(0,Yn.jsx)("option",{value:"supplier",children:"Supplier"})]})]})]}),(0,Yn.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,Yn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Yn.jsx)("input",{type:"checkbox",checked:Nn.only_preorders,onChange:e=>kn((t=>u(u({},t),{},{only_preorders:e.target.checked}))),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),(0,Yn.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Show only pre-orders"})]}),(0,Yn.jsxs)("div",{className:"flex space-x-2",children:[(0,Yn.jsx)("button",{onClick:()=>{kn({category:"",location:"",min_price:"",max_price:"",only_preorders:!1,seller_type:""}),H("")},className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Clear All"}),(0,Yn.jsx)("button",{onClick:()=>{ds(),He(!1)},className:"px-4 py-1 text-sm text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg",children:"Apply Filters"})]})]})]})]}),"home"===x&&(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsxs)("div",{className:"mt-4 bg-gradient-to-r from-emerald-50 to-green-50 border border-emerald-100 rounded-xl p-4 shadow-sm flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,Yn.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Yn.jsx)("div",{className:"bg-emerald-100 p-2 rounded-lg text-2xl",children:"\u26a1"}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("h3",{className:"font-bold text-gray-900",children:"Create Custom Order"}),(0,Yn.jsxs)("p",{className:"text-sm text-gray-600",children:["Create your order in one place from businesses within your city.",(0,Yn.jsx)("strong",{children:" Get delivery within 2 to 6 hours"})," after order is picked."]})]})]}),(0,Yn.jsx)("button",{onClick:()=>{if(!f)return alert("Please sign in to create a request"),void j(!0);K("instant"),$(!0)},className:"w-full sm:w-auto px-5 py-2.5 bg-emerald-600 hover:bg-emerald-700 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all whitespace-nowrap",children:"Create Instant Request"})]}),(0,Yn.jsx)("div",{className:"mt-8",children:(0,Yn.jsx)(Kn,{type:"instant",userRole:null===f||void 0===f?void 0:f.role})})]}),"buy_from_farm"===x&&(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsxs)("div",{className:"mt-4 bg-gradient-to-r from-green-50 to-amber-50 border border-green-100 rounded-xl p-4 shadow-sm flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,Yn.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Yn.jsx)("div",{className:"bg-green-100 p-2 rounded-lg text-2xl",children:"\ud83c\udf3e"}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("h3",{className:"font-bold text-gray-900",children:"Bulk Farm Request"}),(0,Yn.jsxs)("p",{className:"text-sm text-gray-600",children:["Post a request for bulk commodities.",(0,Yn.jsx)("strong",{children:" Verified farmers & agents"})," will submit competitive bids."]})]})]}),(0,Yn.jsx)("button",{onClick:()=>{if(!f)return alert("Please sign in to create a request"),void j(!0);K("standard"),$(!0)},className:"w-full sm:w-auto px-5 py-2.5 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all whitespace-nowrap",children:"Create Standard Request"})]}),(0,Yn.jsx)("div",{className:"mt-8",children:(0,Yn.jsx)(Kn,{type:"standard",userRole:null===f||void 0===f?void 0:f.role})})]}),(0,Yn.jsx)("div",{className:"mb-6",children:(0,Yn.jsxs)("div",{className:"relative bg-gradient-to-r ".concat(ls[as].bgGradient," rounded-xl p-6 overflow-hidden transition-all duration-500"),children:[(0,Yn.jsxs)("div",{className:"text-center",children:[(0,Yn.jsx)("div",{className:"min-h-[100px] flex flex-col items-center justify-center",children:(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:ls[as].title}),(0,Yn.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:ls[as].description}),ls[as].cta&&(0,Yn.jsx)("button",{onClick:()=>al(ls[as].cta.action),className:"bg-emerald-600 hover:bg-emerald-700 text-white font-semibold py-2 px-6 rounded-lg transition-colors shadow-md hover:shadow-lg transform hover:scale-105 duration-200",children:ls[as].cta.text})]})}),(0,Yn.jsx)("div",{className:"flex justify-center space-x-2 mt-4",children:ls.map(((e,t)=>(0,Yn.jsx)("div",{onClick:()=>ss(t),className:"w-2 h-2 rounded-full cursor-pointer transition-colors ".concat(t===as?"bg-emerald-500":"bg-gray-300 hover:bg-gray-400")},t)))})]}),(0,Yn.jsx)("div",{className:"absolute top-0 right-0 transform translate-x-4 -translate-y-4 opacity-10",children:(0,Yn.jsx)("svg",{className:"w-32 h-32",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Yn.jsx)("path",{fillRule:"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]})}),(0,Yn.jsx)("div",{className:"mb-4 flex justify-end",children:f&&["farmer","supplier","processor","agent"].includes(f.role)&&(0,Yn.jsx)("button",{onClick:()=>ze(!0),className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors font-medium",children:"+ Create Pre-order"})}),(0,Yn.jsx)("div",{className:"mb-4",children:(0,Yn.jsx)("div",{className:"flex items-center justify-between",children:(0,Yn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Yn.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"\ud83d\udccd Location:"}),(0,Yn.jsxs)("select",{value:Fr,onChange:e=>zr(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[(0,Yn.jsx)("option",{value:"",children:"All Locations"}),qt.map((e=>(0,Yn.jsx)("option",{value:e,children:e},e)))]})]})})}),(0,Yn.jsxs)("div",{className:"mb-6",children:[(0,Yn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Shop by Category"}),(0,Yn.jsxs)("div",{className:"flex overflow-x-auto space-x-4 pb-4 scrollbar-hide",children:[(0,Yn.jsxs)("div",{onClick:()=>H(""),className:"flex-shrink-0 cursor-pointer transition-all duration-200 ".concat(""===q?"transform scale-105":"hover:transform hover:scale-105"),children:[(0,Yn.jsx)("div",{className:"w-24 h-24 rounded-xl overflow-hidden mb-2 bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center",children:(0,Yn.jsx)("span",{className:"text-white text-xs font-medium",children:"All"})}),(0,Yn.jsx)("p",{className:"text-xs text-center text-gray-700 font-medium",children:"All Categories"})]}),[{value:"grains_legumes",label:"Grains & Legumes",image:"https://images.unsplash.com/photo-1499529112087-3cb3b73cec95?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NDk1NzZ8MHwxfHNlYXJjaHwzfHxhZ3JpY3VsdHVyYWwlMjBwcm9kdWN0c3xlbnwwfHx8fDE3NTM5NTM1ODd8MA&ixlib=rb-4.1.0&q=85"},{value:"spices_vegetables",label:"Vegetables & Spices",image:"https://images.unsplash.com/photo-1506368249639-73a05d6f6488?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NDk1ODB8MHwxfHNlYXJjaHwxfHxzcGljZXN8ZW58MHx8fHwxNzUzOTUzNjAwfDA&ixlib=rb-4.1.0&q=85"},{value:"fish_meat",label:"Fish & Meat",image:"https://images.pexels.com/photos/725992/pexels-photo-725992.jpeg"},{value:"tubers_roots",label:"Roots & Tubers",image:"https://images.unsplash.com/photo-1587049016137-d2d2b14b0d61?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NDk1NzZ8MHwxfHNlYXJjaHwxfHx5YW18ZW58MHx8fHwxNzUzOTUzNzAwfDA&ixlib=rb-4.1.0&q=85"},{value:"fruits",label:"Fruits",image:"https://images.unsplash.com/photo-1610832958506-aa56368176cf?crop=entropy&cs=srgb&fm=jpg&ixid=M3w0MjI5Nzh8MHwxfHNlYXJjaHwxfHxmcnVpdHN8ZW58MHx8fHwxNzUzOTUzNjUwfDA&ixlib=rb-4.1.0&q=85"},{value:"cash_crop",label:"Cash Crop",image:"https://images.unsplash.com/photo-1502395809857-fd80069897d0?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NTY2NzZ8MHwxfHNlYXJjaHwxfHxjb3R0b258ZW58MHx8fHwxNzUzOTUzNjM4fDA&ixlib=rb-4.1.0&q=85"},{value:"fertilizer",label:"Fertilizer",image:"https://images.unsplash.com/photo-1655130944329-b3a63166f6b5?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NDQ2NDN8MHwxfHNlYXJjaHwxfHxmZXJ0aWxpemVyfGVufDB8fHx8MTc1Mzk1MzYwOHww&ixlib=rb-4.1.0&q=85"},{value:"herbicides",label:"Herbicides",image:"https://images.unsplash.com/photo-1581578017093-cd30fce4eeb7?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NDQ2NDN8MHwxfHNlYXJjaHwzfHxmZXJ0aWxpemVyfGVufDB8fHx8MTc1Mzk1MzYwOHww&ixlib=rb-4.1.0&q=85"},{value:"pesticides",label:"Pesticides",image:"https://images.unsplash.com/photo-1581578017093-cd30fce4eeb7?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NDQ2NDN8MHwxfHNlYXJjaHwzfHxmZXJ0aWxpemVyfGVufDB8fHx8MTc1Mzk1MzYwOHww&ixlib=rb-4.1.0&q=85"},{value:"seeds",label:"Seeds",image:"https://images.unsplash.com/photo-1466692476868-aef1dfb1e735?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NTY2NjZ8MHwxfHNlYXJjaHwxfHxzZWVkc3xlbnwwfHx8fDE3NTM5NTM2MTZ8MA&ixlib=rb-4.1.0&q=85"},{value:"packaged_goods",label:"Packaged Goods",image:"https://images.unsplash.com/photo-1741522226997-a34b5a45c648?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NDk1Nzd8MHwxfHNlYXJjaHwxfHxwYWNrYWdlZCUyMGZvb2R8ZW58MHx8fHwxNzUzOTUzNjQ0fDA&ixlib=rb-4.1.0&q=85"},{value:"feeds",label:"Feeds",image:"https://images.unsplash.com/photo-1581578731548-c64695cc6952?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NDk1NzZ8MHwxfHNlYXJjaHwxfHxhbmltYWwlMjBmZWVkfGVufDB8fHx8MTc1Mzk1MzY1MHww&ixlib=rb-4.1.0&q=85"}].map((e=>(0,Yn.jsxs)("div",{onClick:()=>H(e.value),className:"flex-shrink-0 cursor-pointer transition-all duration-200 ".concat(q===e.value?"transform scale-105":"hover:transform hover:scale-105"),children:[(0,Yn.jsx)("div",{className:"w-24 h-24 rounded-xl overflow-hidden mb-2 border-2 transition-colors ".concat(q===e.value?"border-emerald-500":"border-gray-200"),children:(0,Yn.jsx)("img",{src:e.image,alt:e.label,className:"w-full h-full object-cover",onError:t=>{t.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96" fill="%23f3f4f6"><rect width="96" height="96" fill="%23f3f4f6"/><text x="48" y="48" text-anchor="middle" dy="0.3em" font-family="Arial" font-size="12" fill="%236b7280">'+e.label+"</text></svg>"}})}),(0,Yn.jsx)("p",{className:"text-xs text-center text-gray-700 font-medium",children:e.label})]},e.value)))]})]}),"home"===x&&(0,Yn.jsxs)("div",{className:"mb-8",children:[(0,Yn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"\ud83d\udd25 Pre-Order Sales"}),(0,Yn.jsx)("p",{className:"text-sm text-gray-600",children:"Secure your products in advance with special pre-order pricing!"})]}),(0,Yn.jsx)("button",{onClick:()=>{g("buy_from_farm"),kn((e=>u(u({},e),{},{only_preorders:!0}))),setTimeout((()=>ds()),100)},className:"px-3 sm:px-4 py-2 bg-orange-100 text-orange-700 rounded-lg hover:bg-orange-200 transition-colors font-medium text-xs sm:text-sm",children:"See More in Farm Deals \u2192"})]}),(0,Yn.jsx)("div",{className:"relative",children:(0,Yn.jsxs)("div",{className:"flex overflow-x-auto space-x-3 sm:space-x-4 pb-4 scrollbar-hide",children:[L.filter((e=>"preorder"===e.type)).slice(0,6).map(((e,t)=>(0,Yn.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg shadow-md hover:shadow-lg transition-all flex-shrink-0 w-72 sm:w-80 border-2 border-orange-200 hover:border-orange-300 cursor-pointer",children:[(0,Yn.jsxs)("div",{className:"relative",onClick:()=>Hs(e),title:"Click to view product details",children:[e.images&&e.images.length>0?(0,Yn.jsx)("img",{src:e.images[0],alt:e.product_name||e.crop_type,className:"w-full h-32 sm:h-40 object-cover rounded-t-lg"}):(0,Yn.jsx)("div",{className:"w-full h-32 sm:h-40 bg-gradient-to-r from-orange-200 to-orange-300 flex items-center justify-center rounded-t-lg",children:(0,Yn.jsx)("span",{className:"text-orange-600 font-medium text-sm sm:text-base",children:"\ud83c\udf3e Pre-Order Product"})}),(0,Yn.jsx)("div",{className:"absolute top-2 left-2 bg-orange-500 text-white px-2 sm:px-3 py-1 rounded-full text-xs font-bold flex items-center",children:"\u26a1 PRE-ORDER"}),(0,Yn.jsx)("div",{className:"absolute top-2 right-2 bg-red-500 text-white px-1.5 sm:px-2 py-1 rounded-full text-xs font-bold",children:e.partial_payment_percentage?"".concat(Math.round(100*e.partial_payment_percentage),"% Payment"):"100% Payment"})]}),(0,Yn.jsxs)("div",{className:"p-3 sm:p-4",children:[(0,Yn.jsx)("h4",{className:"font-bold text-gray-900 mb-2 text-sm sm:text-base line-clamp-1",children:e.product_name||e.crop_type}),(0,Yn.jsx)("div",{className:"flex items-center space-x-2 mb-2",children:(0,Yn.jsxs)("span",{className:"text-base sm:text-lg font-bold text-orange-600",children:["\u20a6",e.price_per_unit,"/",e.unit||e.unit_of_measure||"kg",(e.unit_specification||e.unit_of_measure!==(e.unit||"kg"))&&(0,Yn.jsxs)("span",{className:"text-xs sm:text-sm font-medium text-gray-600 ml-1",children:["(",e.unit_specification||e.unit_of_measure||"standard",")"]})]})}),(0,Yn.jsx)("div",{className:"mb-3 p-2 sm:p-3 bg-orange-50 rounded-lg border border-orange-200",children:(0,Yn.jsxs)("div",{className:"text-xs text-orange-800 space-y-1",children:[(0,Yn.jsxs)("div",{className:"flex justify-between",children:[(0,Yn.jsx)("span",{children:"\ud83d\udcb0 Payment Required:"}),(0,Yn.jsx)("span",{className:"font-bold",children:e.partial_payment_percentage?"".concat(Math.round(100*e.partial_payment_percentage),"%"):"100%"})]}),(0,Yn.jsxs)("div",{className:"flex justify-between",children:[(0,Yn.jsx)("span",{children:"\ud83d\udce6 Available:"}),(0,Yn.jsxs)("span",{className:"font-bold",children:[e.available_stock||e.total_stock," ",e.unit]})]}),(0,Yn.jsxs)("div",{className:"flex justify-between",children:[(0,Yn.jsx)("span",{children:"\ud83d\ude9a Delivery:"}),(0,Yn.jsx)("span",{className:"font-bold text-xs",children:new Date(e.delivery_date).toLocaleDateString()})]}),e.orders_count>0&&(0,Yn.jsxs)("div",{className:"flex justify-between",children:[(0,Yn.jsx)("span",{children:"\ud83d\udc65 Pre-orders:"}),(0,Yn.jsx)("span",{className:"font-bold text-green-600",children:e.orders_count})]})]})}),(0,Yn.jsxs)("div",{className:"text-xs text-gray-600 mb-3 flex items-center line-clamp-1",children:["\ud83d\udccd ",e.location]}),(0,Yn.jsx)("button",{onClick:()=>{const t=e.unit||"kg",r=e.unit_specification||"";Js(e,1,t,r,"platform")},className:"w-full py-2 px-3 sm:px-4 bg-orange-600 hover:bg-orange-700 text-white rounded-lg font-medium transition-colors text-xs sm:text-sm",children:"\ud83d\uded2 Add Pre-order to Cart"})]})]},"preorder-".concat(e.id||e._id||t)))),0===L.filter((e=>"preorder"===e.type)).length&&(0,Yn.jsx)("div",{className:"w-full text-center py-6 sm:py-8 bg-orange-50 rounded-lg border-2 border-dashed border-orange-200",children:(0,Yn.jsxs)("div",{className:"text-orange-600",children:[(0,Yn.jsx)("div",{className:"text-xl sm:text-2xl mb-2",children:"\ud83d\udce6"}),(0,Yn.jsx)("h4",{className:"font-medium text-gray-700 text-sm sm:text-base",children:"No Pre-Orders Available"}),(0,Yn.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:"Check back soon for exciting pre-order deals!"})]})})]})})]}),(0,Yn.jsxs)("div",{className:"mb-6 space-y-4",children:["buy_from_farm"===x&&(0,Yn.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[(0,Yn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Yn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Yn.jsx)("span",{className:"text-orange-600",children:"\ud83d\udd50"}),(0,Yn.jsx)("span",{className:"text-sm font-medium text-orange-800",children:"Filter by Pre-Orders:"})]}),(0,Yn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Yn.jsx)("input",{type:"checkbox",checked:Nn.only_preorders,onChange:e=>{kn((t=>u(u({},t),{},{only_preorders:e.target.checked}))),setTimeout((()=>ds()),100)},className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),(0,Yn.jsx)("span",{className:"text-sm text-orange-700",children:"Show only pre-order products"})]})]}),Nn.only_preorders&&(0,Yn.jsx)("div",{className:"mt-2 text-xs text-orange-600",children:"Showing products available for advance booking with future delivery dates"})]}),(0,Yn.jsx)("div",{className:"relative",children:(0,Yn.jsxs)("div",{className:"flex items-center",children:[(0,Yn.jsx)("button",{onClick:()=>Ds("left"),className:"hidden md:flex items-center justify-center w-10 h-10 bg-white shadow-md rounded-full border hover:bg-gray-50 transition-colors mr-2 z-10",children:(0,Yn.jsx)("span",{className:"text-gray-600",children:"\u2190"})}),(0,Yn.jsx)("div",{id:"categories-container",className:"flex overflow-x-auto space-x-3 scrollbar-hide flex-1 py-2",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:Object.entries(Ft).map((e=>{let[t,r]=e;let n=L;n="home"===("buy_from_farm"===x?"farm_deals":"home")?L.filter((e=>["business","supplier"].includes(e.seller_type))):L.filter((e=>["farmer","agent"].includes(e.seller_type)));return 0===n.filter((e=>e.category===t)).length?null:(0,Yn.jsx)("div",{className:"flex-shrink-0 bg-white border border-gray-200 rounded-lg p-3 hover:border-emerald-300 transition-colors cursor-pointer min-w-[120px]",onClick:()=>{H(t),kn((e=>u(u({},e),{},{category:t}))),setTimeout((()=>ds()),100)},children:(0,Yn.jsxs)("div",{className:"text-center",children:[(0,Yn.jsx)("div",{className:"text-2xl mb-1",children:"grains_legumes"===t?"\ud83c\udf3e":"fish_meat"===t?"\ud83d\udc1f":"spices_vegetables"===t?"\ud83c\udf36\ufe0f":"tubers_roots"===t?"\ud83e\udd54":"\ud83d\udce6"}),(0,Yn.jsx)("div",{className:"text-xs font-medium text-gray-700 mb-1",children:r.name}),(0,Yn.jsxs)("div",{className:"text-xs text-gray-500",children:[Object.values(r.subcategories||{}).slice(0,2).map(((e,t)=>e.examples?e.examples[0]:e.name||e)).join(", "),Object.keys(r.subcategories||{}).length>2&&"..."]})]})},t)}))}),(0,Yn.jsx)("button",{onClick:()=>Ds("right"),className:"hidden md:flex items-center justify-center w-10 h-10 bg-white shadow-md rounded-full border hover:bg-gray-50 transition-colors ml-2 z-10",children:(0,Yn.jsx)("span",{className:"text-gray-600",children:"\u2192"})})]})})]})]}),(0,Yn.jsx)("div",{className:"md:hidden text-center text-xs text-gray-500 mt-2",children:"\ud83d\udc46 Swipe to see more categories"}),"buy_from_farm"===x&&(0,Yn.jsx)("div",{children:(0,Yn.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 auto-rows-auto items-start",children:0===L.length?(0,Yn.jsx)("div",{className:"col-span-full text-center py-8 sm:py-12",children:(0,Yn.jsx)("p",{className:"text-gray-500 text-base sm:text-lg",children:"No products found"})}):L.filter((e=>""===Fr||e.location===Fr)).map(((e,t)=>{var r;return(0,Yn.jsxs)("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow flex flex-col min-h-0",children:[(0,Yn.jsxs)("div",{className:"relative cursor-pointer",onClick:()=>Hs(e),title:"Click to view product details",children:[e.images&&e.images.length>0?(0,Yn.jsx)("img",{src:e.images[0],alt:e.product_name||e.crop_type,className:"w-full h-40 sm:h-48 object-cover hover:opacity-90 transition-opacity rounded-t-lg"}):(0,Yn.jsx)("div",{className:"w-full h-40 sm:h-48 bg-gray-200 flex items-center justify-center hover:bg-gray-300 transition-colors rounded-t-lg",children:(0,Yn.jsx)("span",{className:"text-gray-500 text-sm sm:text-base",children:"Click to View Details"})}),(0,Yn.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-20 transition-all flex items-center justify-center rounded-t-lg",children:(0,Yn.jsx)("div",{className:"bg-white bg-opacity-0 hover:bg-opacity-90 text-transparent hover:text-gray-800 px-2 sm:px-3 py-1 rounded-lg text-xs sm:text-sm font-medium transition-all",children:"\ud83d\udc41\ufe0f View Details"})}),"preorder"===e.type&&(0,Yn.jsx)("div",{className:"absolute top-2 left-2 bg-orange-500 text-white px-2 py-1 rounded-lg text-xs font-semibold",children:"PRE-ORDER"}),e.seller_type&&(0,Yn.jsx)("div",{className:"absolute top-2 right-2 bg-emerald-500 text-white px-2 py-1 rounded-lg text-xs font-semibold capitalize",children:e.seller_type}),e.has_discount&&e.discount_value&&(0,Yn.jsxs)("div",{className:"absolute top-12 right-2 bg-red-500 text-white px-2 py-1 rounded-lg text-xs font-bold shadow-lg animate-pulse",children:["percentage"===e.discount_type&&"".concat(e.discount_value,"% OFF"),"fixed"===e.discount_type&&"\u20a6".concat(e.discount_value," OFF")]}),"seller"===e.logistics_managed_by&&0===e.seller_delivery_fee&&(0,Yn.jsx)("div",{className:"absolute bottom-2 left-2 bg-red-600 text-white px-2 py-1 rounded-lg text-xs font-bold",children:"\ud83d\ude9a FREE DELIVERY"})]}),(0,Yn.jsxs)("div",{className:"p-3 sm:p-4 flex-1 flex flex-col",children:[(0,Yn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2 text-sm sm:text-base line-clamp-1",children:e.product_name||e.crop_type}),(0,Yn.jsx)("p",{className:"text-gray-600 text-xs sm:text-sm mb-3 line-clamp-2",children:e.description||"Fresh organic produce from certified farms"}),(0,Yn.jsx)("div",{className:"mb-2",children:e.has_discount&&e.original_price?(0,Yn.jsxs)("div",{children:[(0,Yn.jsxs)("div",{className:"text-xs sm:text-sm text-gray-500 line-through",children:["\u20a6",e.original_price,"/",e.unit||e.unit_of_measure||"kg"]}),(0,Yn.jsxs)("div",{className:"text-lg sm:text-xl font-bold text-red-600",children:["\u20a6",e.price_per_unit,"/",e.unit||e.unit_of_measure||"kg",(e.unit_specification||e.unit_of_measure!==(e.unit||"kg"))&&(0,Yn.jsxs)("span",{className:"text-xs sm:text-sm font-medium text-gray-600 ml-1",children:["(",e.unit_specification||e.unit_of_measure||"standard",")"]})]}),(0,Yn.jsxs)("div",{className:"text-xs text-green-600 font-medium",children:["You save \u20a6",e.discount_amount,"!"]})]}):(0,Yn.jsxs)("div",{className:"text-lg sm:text-xl font-bold text-emerald-600",children:["\u20a6",e.price_per_unit,"/",e.unit||e.unit_of_measure||"kg",(e.unit_specification||e.unit_of_measure!==(e.unit||"kg"))&&(0,Yn.jsxs)("span",{className:"text-xs sm:text-sm font-medium text-gray-600 ml-1",children:["(",e.unit_specification||e.unit_of_measure||"standard",")"]})]})}),(0,Yn.jsx)("div",{className:"text-xs sm:text-sm text-gray-500 mb-2",children:"preorder"===e.type?(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsxs)("span",{className:"text-orange-600 font-medium",children:[e.available_stock||e.total_stock," ",e.unit," available"]}),e.orders_count>0&&(0,Yn.jsxs)("span",{className:"ml-2",children:["(",e.orders_count," pre-orders)"]})]}):(0,Yn.jsxs)("span",{children:[e.quantity||"100"," available"]})}),(0,Yn.jsxs)("div",{className:"text-xs sm:text-sm mb-2 space-y-1",children:[e.business_name&&(0,Yn.jsxs)("div",{className:"font-medium text-emerald-600 hover:text-emerald-700 cursor-pointer flex items-center gap-1",onClick:()=>Rs(e.seller_name),title:"Click to view business owner details",children:["\ud83c\udfe2 ",e.business_name]}),e.farm_name&&(0,Yn.jsxs)("div",{className:"text-green-600 hover:text-green-700 cursor-pointer flex items-center gap-1",onClick:()=>Rs(e.seller_name),title:"Click to view farmer details",children:["\ud83c\udf3e ",e.farm_name]}),e.agent_username&&e.agent_name&&(0,Yn.jsxs)("div",{className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 cursor-pointer",onClick:()=>Rs(e.agent_name),title:"Click to view agent details",children:[e.agent_profile_picture?(0,Yn.jsx)("img",{src:e.agent_profile_picture,alt:e.agent_name,className:"w-5 h-5 rounded-full object-cover border border-blue-500"}):(0,Yn.jsx)("div",{className:"w-5 h-5 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs font-semibold",children:(null===(r=e.agent_name)||void 0===r?void 0:r.charAt(0).toUpperCase())||"A"}),(0,Yn.jsxs)("span",{children:["Agent: @",e.agent_username]})]})]}),(0,Yn.jsxs)("div",{className:"text-xs sm:text-sm text-gray-500 mb-2 line-clamp-1",children:["\ud83d\udccd ",e.location]}),"seller"===e.logistics_managed_by&&(0,Yn.jsx)("div",{className:"text-xs sm:text-sm mb-2 p-2 rounded-lg ".concat(0===e.seller_delivery_fee?"bg-red-100 text-red-700 font-bold":"bg-blue-50 text-blue-700"),children:0===e.seller_delivery_fee?"\ud83d\ude9a FREE DELIVERY by Seller":"\ud83d\ude9a Delivery: \u20a6".concat(e.seller_delivery_fee," (Seller Managed)")}),(0,Yn.jsxs)("div",{className:"flex items-center mb-3",children:[(0,Yn.jsx)("div",{className:"flex items-center",children:[...Array(5)].map(((t,r)=>(0,Yn.jsx)("span",{className:"text-sm ".concat(r<Math.floor(e.average_rating||5)?"text-yellow-400":"text-gray-300"),children:"\u2b50"},r)))}),(0,Yn.jsx)("span",{className:"text-xs text-gray-600 ml-2",children:e.average_rating?e.average_rating.toFixed(1):"5.0"}),e.total_ratings>0&&(0,Yn.jsxs)("span",{className:"text-xs text-gray-500 ml-1",children:["(",e.total_ratings," reviews)"]})]}),"preorder"===e.type&&(0,Yn.jsx)("div",{className:"mb-3 p-2 bg-orange-50 rounded-lg border border-orange-200",children:(0,Yn.jsxs)("div",{className:"text-xs text-orange-700",children:[(0,Yn.jsxs)("div",{children:["Partial payment: ",Math.round(100*(e.partial_payment_percentage||.3)),"%"]}),(0,Yn.jsxs)("div",{children:["Delivery: ",new Date(e.delivery_date).toLocaleDateString()]})]})}),(0,Yn.jsxs)("div",{className:"flex items-center gap-2 mb-3 p-2 bg-gray-50 rounded-lg",children:[(0,Yn.jsx)("div",{className:"flex-shrink-0",children:e.seller_profile_picture?(0,Yn.jsx)("img",{src:e.seller_profile_picture,alt:e.seller_name||"Seller",className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full object-cover border-2 border-emerald-500",title:"Posted by ".concat(e.seller_name||"seller")}):(0,Yn.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-emerald-500 flex items-center justify-center text-white font-semibold text-xs sm:text-sm border-2 border-emerald-600",children:(e.seller_name||e.seller_username||"S").charAt(0).toUpperCase()})}),(0,Yn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Yn.jsx)("div",{className:"text-xs sm:text-sm font-medium text-gray-900 truncate",children:e.seller_name||e.seller_username||"Seller"}),e.seller_type&&(0,Yn.jsxs)("div",{className:"text-xs text-gray-600 capitalize",children:["farmer"===e.seller_type&&"\ud83d\udc68\u200d\ud83c\udf3e Farmer","agent"===e.seller_type&&"\ud83e\udd1d Agent","business"===e.seller_type&&"\ud83c\udfe2 Business","supplier"===e.seller_type&&"\ud83d\udce6 Supplier",!["farmer","agent","business","supplier"].includes(e.seller_type)&&e.seller_type]})]})]}),(0,Yn.jsxs)("div",{className:"mt-auto pt-3 sm:pt-4 space-y-2 sm:space-y-3",children:[(0,Yn.jsxs)("div",{className:"mb-2 p-2 bg-emerald-50 rounded-lg border border-emerald-200",children:[(0,Yn.jsxs)("div",{className:"text-xs sm:text-sm font-medium text-emerald-700",children:["Unit: ",e.unit||e.unit_of_measure||"kg",e.unit_specification&&(0,Yn.jsxs)("span",{className:"ml-2 text-emerald-600",children:["(",e.unit_specification,")"]})]}),(0,Yn.jsxs)("div",{className:"text-xs text-emerald-600",children:["Select how many ",e.unit||e.unit_of_measure||"units"," you want to buy"]})]}),(0,Yn.jsxs)("div",{className:"grid grid-cols-1 gap-2 sm:gap-3",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Quantity (Number of ",e.unit||e.unit_of_measure||"units",")"]}),(0,Yn.jsx)("input",{type:"number",min:"1",max:e.quantity||e.available_stock||e.total_stock||100,defaultValue:"1",className:"w-full px-1.5 sm:px-2 py-1 text-xs sm:text-sm border border-gray-300 rounded focus:ring-1 focus:ring-emerald-500",id:"quantity-".concat(t),placeholder:"1, 2, 3..."}),(0,Yn.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Max available: ",e.quantity||e.available_stock||e.total_stock||100]})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Drop-off Location"}),(0,Yn.jsxs)("select",{className:"w-full px-1.5 sm:px-2 py-1 text-xs sm:text-sm border border-gray-300 rounded focus:ring-1 focus:ring-emerald-500",id:"dropoff-".concat(t),children:[(0,Yn.jsx)("option",{value:"",children:"Select drop-off location"}),Le.map((e=>(0,Yn.jsxs)("option",{value:e.id,children:[e.name," - ",e.city,", ",e.state]},e.id)))]}),(0,Yn.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"\ud83d\udccd Pick up your order at a convenient location"})]})]}),(0,Yn.jsx)("button",{onClick:()=>{const r=document.getElementById("quantity-".concat(t)),n=document.getElementById("dropoff-".concat(t)),a=parseFloat(null===r||void 0===r?void 0:r.value)||1,s=e.unit||e.unit_of_measure||"kg",l=e.unit_specification||"standard",o=null===n||void 0===n?void 0:n.value;if(!o)return void alert("Please select a drop-off location");const i=Le.find((e=>e.id.toString()===o)),c=u(u({},e),{},{cartQuantity:a,cartUnit:s,cartSpecification:l,dropoffLocation:i});Js(c,a,s,l,"dropoff")},className:"w-full py-2 px-3 sm:px-4 rounded-lg font-medium transition-colors text-xs sm:text-sm ".concat("preorder"===e.type?"bg-orange-600 hover:bg-orange-700 text-white":"bg-emerald-600 hover:bg-emerald-700 text-white"),children:"preorder"===e.type?"Add Pre-order to Cart":"Add to Cart"})]})]})]},e.id||e._id||t)}))})})]})]}),v&&(0,Yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Yn.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:["login"===w&&(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Yn.jsx)("h2",{className:"text-xl font-bold",children:"Sign In"}),(0,Yn.jsx)("button",{onClick:()=>j(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),(0,Yn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e={email_or_phone:os.email_or_phone,password:os.password},t=await fetch("".concat(p,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){const e=await t.json();localStorage.setItem("token",e.token),h(e.user),j(!1),is({first_name:"",last_name:"",username:"",email_or_phone:"",password:"",phone:"",gender:"",date_of_birth:""})}else{const e=await t.json();alert(e.detail)}}catch(t){console.error("Auth error:",t),alert("An error occurred. Please try again.")}},className:"space-y-4",children:[(0,Yn.jsx)("input",{type:"text",placeholder:"Email or Phone",value:os.email_or_phone,onChange:e=>is((t=>u(u({},t),{},{email_or_phone:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,Yn.jsx)("input",{type:"password",placeholder:"Password",value:os.password,onChange:e=>is((t=>u(u({},t),{},{password:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,Yn.jsx)("button",{type:"submit",className:"w-full bg-emerald-600 text-white py-2 px-4 rounded-lg hover:bg-emerald-700 transition-colors font-medium",children:"Sign In"})]}),(0,Yn.jsxs)("p",{className:"mt-4 text-center text-sm text-gray-600",children:["Don't have an account?",(0,Yn.jsx)("button",{onClick:()=>N("register"),className:"text-emerald-600 hover:text-emerald-700 font-medium ml-1",children:"Sign Up"})]})]}),"register"===w&&(0,Yn.jsxs)(Yn.Fragment,{children:["basic"===registrationStep&&(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Yn.jsx)("h2",{className:"text-xl font-bold",children:"Create Account"}),(0,Yn.jsx)("button",{onClick:()=>j(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),(0,Yn.jsxs)("form",{onSubmit:handleBasicRegistration,className:"space-y-4",children:[(0,Yn.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Yn.jsx)("input",{type:"text",placeholder:"First Name",value:os.first_name,onChange:e=>is((t=>u(u({},t),{},{first_name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,Yn.jsx)("input",{type:"text",placeholder:"Last Name",value:os.last_name,onChange:e=>is((t=>u(u({},t),{},{last_name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),(0,Yn.jsx)("input",{type:"text",placeholder:"Username (unique)",value:os.username,onChange:e=>is((t=>u(u({},t),{},{username:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,Yn.jsx)("input",{type:"text",placeholder:"Email or Phone Number",value:os.email_or_phone,onChange:e=>is((t=>u(u({},t),{},{email_or_phone:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,Yn.jsx)("input",{type:"tel",placeholder:"Phone Number (optional)",value:os.phone,onChange:e=>is((t=>u(u({},t),{},{phone:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"}),(0,Yn.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Yn.jsxs)("select",{value:os.gender,onChange:e=>is((t=>u(u({},t),{},{gender:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0,children:[(0,Yn.jsx)("option",{value:"",children:"Select Gender"}),(0,Yn.jsx)("option",{value:"male",children:"Male"}),(0,Yn.jsx)("option",{value:"female",children:"Female"}),(0,Yn.jsx)("option",{value:"other",children:"Other"})]}),(0,Yn.jsx)("input",{type:"date",placeholder:"Date of Birth",value:os.date_of_birth,onChange:e=>is((t=>u(u({},t),{},{date_of_birth:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),(0,Yn.jsx)("input",{type:"password",placeholder:"Password",value:os.password,onChange:e=>is((t=>u(u({},t),{},{password:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,Yn.jsx)("button",{type:"submit",className:"w-full bg-emerald-600 text-white py-2 px-4 rounded-full hover:bg-emerald-700 transition-colors font-medium",children:"Continue"})]}),(0,Yn.jsxs)("p",{className:"mt-4 text-center text-sm text-gray-600",children:["Already have an account?",(0,Yn.jsx)("button",{onClick:()=>N("login"),className:"text-emerald-600 hover:text-emerald-700 font-medium ml-1",children:"Sign In"})]})]}),"role_path"===registrationStep&&(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,Yn.jsx)("h2",{className:"text-2xl font-bold text-center w-full text-emerald-600",children:"Choose Account Type"})}),(0,Yn.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-blue-50 p-6 rounded-2xl",children:[(0,Yn.jsx)("p",{className:"text-gray-600 mb-6 text-center",children:"Select the account type that best describes you:"}),(0,Yn.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,Yn.jsx)("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-4 hover:border-blue-300 transition-colors cursor-pointer",children:(0,Yn.jsxs)("div",{className:"flex items-center",children:[(0,Yn.jsx)("div",{className:"text-3xl mr-4",children:"\ud83d\udc64"}),(0,Yn.jsxs)("div",{className:"flex-1",children:[(0,Yn.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Personal"}),(0,Yn.jsx)("p",{className:"text-sm text-gray-600",children:"Individual buyer - shop for personal needs"})]}),(0,Yn.jsx)("button",{onClick:()=>{is(u(u({},os),{},{role:"personal"})),handleCompleteRegistration()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Select"})]})}),(0,Yn.jsx)("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-4 hover:border-green-300 transition-colors cursor-pointer",children:(0,Yn.jsxs)("div",{className:"flex items-center",children:[(0,Yn.jsx)("div",{className:"text-3xl mr-4",children:"\ud83c\udf3e"}),(0,Yn.jsxs)("div",{className:"flex-1",children:[(0,Yn.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Farmer"}),(0,Yn.jsx)("p",{className:"text-sm text-gray-600",children:"Agricultural producer - sell your farm produce"})]}),(0,Yn.jsx)("button",{onClick:()=>{is(u(u({},os),{},{role:"farmer"})),setRegistrationStep("business_profile")},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Select"})]})}),(0,Yn.jsx)("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-4 hover:border-purple-300 transition-colors cursor-pointer",children:(0,Yn.jsxs)("div",{className:"flex items-center",children:[(0,Yn.jsx)("div",{className:"text-3xl mr-4",children:"\ud83e\udd1d"}),(0,Yn.jsxs)("div",{className:"flex-1",children:[(0,Yn.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Agent"}),(0,Yn.jsx)("p",{className:"text-sm text-gray-600",children:"Market aggregator - connect buyers and sellers"})]}),(0,Yn.jsx)("button",{onClick:()=>{is(u(u({},os),{},{role:"agent"})),setRegistrationStep("business_profile")},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Select"})]})}),(0,Yn.jsx)("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-4 hover:border-emerald-300 transition-colors cursor-pointer",children:(0,Yn.jsxs)("div",{className:"flex items-center",children:[(0,Yn.jsx)("div",{className:"text-3xl mr-4",children:"\ud83c\udfe2"}),(0,Yn.jsxs)("div",{className:"flex-1",children:[(0,Yn.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Business"}),(0,Yn.jsx)("p",{className:"text-sm text-gray-600",children:"Enterprise buyer/seller - restaurants, suppliers, etc."})]}),(0,Yn.jsx)("button",{onClick:()=>{is(u(u({},os),{},{role:"business"})),setRegistrationStep("business_profile")},className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:"Select"})]})})]})]})]}),"buyer_type"===registrationStep&&(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Yn.jsx)("button",{onClick:()=>setRegistrationStep("role_path"),className:"text-gray-500 hover:text-gray-700",children:"\u2190 Back"}),(0,Yn.jsx)("h2",{className:"text-xl font-bold text-emerald-600",children:"Select Your Business Type"}),(0,Yn.jsx)("div",{})]}),(0,Yn.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 p-6 rounded-2xl",children:[(0,Yn.jsxs)("div",{className:"space-y-3",children:[(0,Yn.jsxs)("button",{onClick:()=>handleBuyerTypeSelection("retailer"),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-all",children:[(0,Yn.jsx)("div",{className:"font-medium",children:"Retailer"}),(0,Yn.jsx)("div",{className:"text-sm text-gray-600",children:"Buy and sell to end consumers"})]}),(0,Yn.jsxs)("button",{onClick:()=>handleBuyerTypeSelection("hotel"),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-all",children:[(0,Yn.jsx)("div",{className:"font-medium",children:"Hotel"}),(0,Yn.jsx)("div",{className:"text-sm text-gray-600",children:"Hospitality business"})]}),(0,Yn.jsxs)("button",{onClick:()=>handleBuyerTypeSelection("cafe"),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-all",children:[(0,Yn.jsx)("div",{className:"font-medium",children:"Cafe"}),(0,Yn.jsx)("div",{className:"text-sm text-gray-600",children:"Coffee shop or cafe business"})]}),(0,Yn.jsxs)("button",{onClick:()=>handleBuyerTypeSelection("restaurant"),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-all",children:[(0,Yn.jsx)("div",{className:"font-medium",children:"Restaurant"}),(0,Yn.jsx)("div",{className:"text-sm text-gray-600",children:"Food service business"})]}),(0,Yn.jsxs)("button",{onClick:()=>handleBuyerTypeSelection("others"),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-all",children:[(0,Yn.jsx)("div",{className:"font-medium",children:"Others"}),(0,Yn.jsx)("div",{className:"text-sm text-gray-600",children:"Specify your business type"})]})]}),(0,Yn.jsx)("div",{className:"mt-6 flex justify-end",children:(0,Yn.jsx)("button",{onClick:()=>handleBuyerTypeSelection("skip"),className:"text-gray-500 hover:text-gray-700 text-sm font-medium px-4 py-2 rounded-full border border-gray-300 hover:border-gray-400 transition-colors",children:"Skip (if you're not a business)"})})]})]}),"business_info"===registrationStep&&(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Yn.jsx)("button",{onClick:()=>setRegistrationStep("buyer_type"),className:"text-gray-500 hover:text-gray-700",children:"\u2190 Back"}),(0,Yn.jsx)("h2",{className:"text-xl font-bold text-emerald-600",children:"Business Information"}),(0,Yn.jsx)("div",{})]}),(0,Yn.jsx)("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 p-6 rounded-2xl",children:(0,Yn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),Ms()},className:"space-y-4",children:["others"===selectedBuyerType&&(0,Yn.jsx)("input",{type:"text",placeholder:"Specify your business type",value:businessInfo.business_type,onChange:e=>setBusinessInfo((t=>u(u({},t),{},{business_type:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,Yn.jsx)("input",{type:"text",placeholder:"Business Name",value:businessInfo.business_name,onChange:e=>setBusinessInfo((t=>u(u({},t),{},{business_name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,Yn.jsx)("input",{type:"text",placeholder:"Business Address",value:businessInfo.business_address,onChange:e=>setBusinessInfo((t=>u(u({},t),{},{business_address:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,Yn.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,Yn.jsx)("input",{type:"text",placeholder:"City",value:businessInfo.city,onChange:e=>setBusinessInfo((t=>u(u({},t),{},{city:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,Yn.jsx)("input",{type:"text",placeholder:"State",value:businessInfo.state,onChange:e=>setBusinessInfo((t=>u(u({},t),{},{state:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,Yn.jsx)("input",{type:"text",placeholder:"Country",value:businessInfo.country,onChange:e=>setBusinessInfo((t=>u(u({},t),{},{country:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),(0,Yn.jsx)("button",{type:"submit",className:"w-full bg-emerald-600 text-white py-3 px-4 rounded-full hover:bg-emerald-700 transition-colors font-medium",children:"Complete Registration"})]})})]}),"home_address"===registrationStep&&(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Yn.jsx)("button",{onClick:()=>setRegistrationStep("buyer_type"),className:"text-gray-500 hover:text-gray-700",children:"\u2190 Back"}),(0,Yn.jsx)("h2",{className:"text-xl font-bold text-emerald-600",children:"Your Address"}),(0,Yn.jsx)("div",{})]}),(0,Yn.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-2xl",children:(0,Yn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),Ms()},className:"space-y-4",children:[(0,Yn.jsx)("input",{type:"text",placeholder:"Home Address",value:businessInfo.home_address,onChange:e=>setBusinessInfo((t=>u(u({},t),{},{home_address:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,Yn.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,Yn.jsx)("input",{type:"text",placeholder:"City",value:businessInfo.city,onChange:e=>setBusinessInfo((t=>u(u({},t),{},{city:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,Yn.jsx)("input",{type:"text",placeholder:"State",value:businessInfo.state,onChange:e=>setBusinessInfo((t=>u(u({},t),{},{state:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,Yn.jsx)("input",{type:"text",placeholder:"Country",value:businessInfo.country,onChange:e=>setBusinessInfo((t=>u(u({},t),{},{country:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),(0,Yn.jsx)("button",{type:"submit",className:"w-full bg-emerald-600 text-white py-3 px-4 rounded-full hover:bg-emerald-700 transition-colors font-medium",children:"Complete Registration"})]})})]}),"partner_type"===registrationStep&&(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Yn.jsx)("button",{onClick:()=>setRegistrationStep("role_path"),className:"text-gray-500 hover:text-gray-700",children:"\u2190 Back"}),(0,Yn.jsx)("h2",{className:"text-xl font-bold text-emerald-600",children:"Select Your Role"}),(0,Yn.jsx)("div",{})]}),(0,Yn.jsx)("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 p-6 rounded-2xl",children:(0,Yn.jsxs)("div",{className:"space-y-3",children:[(0,Yn.jsxs)("button",{onClick:()=>Fs("agent"),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 hover:border-emerald-300 hover:bg-emerald-50 transition-all",children:[(0,Yn.jsx)("div",{className:"font-medium",children:"Agent"}),(0,Yn.jsx)("div",{className:"text-sm text-gray-600",children:"Field agent facilitating transactions"})]}),(0,Yn.jsxs)("button",{onClick:()=>Fs("farmer"),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 hover:border-emerald-300 hover:bg-emerald-50 transition-all",children:[(0,Yn.jsx)("div",{className:"font-medium",children:"Farmer"}),(0,Yn.jsx)("div",{className:"text-sm text-gray-600",children:"Individual farmer growing produce"})]}),(0,Yn.jsxs)("button",{onClick:()=>Fs("driver"),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 hover:border-emerald-300 hover:bg-emerald-50 transition-all",children:[(0,Yn.jsx)("div",{className:"font-medium",children:"Driver"}),(0,Yn.jsx)("div",{className:"text-sm text-gray-600",children:"Delivery driver for transport services"})]}),(0,Yn.jsxs)("button",{onClick:()=>Fs("storage_owner"),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 hover:border-emerald-300 hover:bg-emerald-50 transition-all",children:[(0,Yn.jsx)("div",{className:"font-medium",children:"Storage Owner"}),(0,Yn.jsx)("div",{className:"text-sm text-gray-600",children:"Provide storage facilities"})]}),(0,Yn.jsxs)("button",{onClick:()=>Fs("business"),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 hover:border-emerald-300 hover:bg-emerald-50 transition-all",children:[(0,Yn.jsx)("div",{className:"font-medium",children:"Business"}),(0,Yn.jsx)("div",{className:"text-sm text-gray-600",children:"Supplier, Processor, or Logistics Business"})]})]})})]}),"business_category"===registrationStep&&(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Yn.jsx)("button",{onClick:()=>setRegistrationStep("partner_type"),className:"text-gray-500 hover:text-gray-700",children:"\u2190 Back"}),(0,Yn.jsx)("h2",{className:"text-xl font-bold text-emerald-600",children:"Business Category"}),(0,Yn.jsx)("div",{})]}),(0,Yn.jsx)("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 p-6 rounded-2xl",children:(0,Yn.jsxs)("div",{className:"space-y-3",children:[(0,Yn.jsxs)("button",{onClick:()=>zs("supplier"),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 hover:border-purple-300 hover:bg-purple-50 transition-all",children:[(0,Yn.jsx)("div",{className:"font-medium",children:"Supplier"}),(0,Yn.jsx)("div",{className:"text-sm text-gray-600",children:"Supply agricultural products"})]}),(0,Yn.jsxs)("button",{onClick:()=>zs("processor"),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 hover:border-purple-300 hover:bg-purple-50 transition-all",children:[(0,Yn.jsx)("div",{className:"font-medium",children:"Processor"}),(0,Yn.jsx)("div",{className:"text-sm text-gray-600",children:"Process raw materials into finished goods"})]}),(0,Yn.jsxs)("button",{onClick:()=>zs("logistics_business"),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 hover:border-purple-300 hover:bg-purple-50 transition-all",children:[(0,Yn.jsx)("div",{className:"font-medium",children:"Logistics Business"}),(0,Yn.jsx)("div",{className:"text-sm text-gray-600",children:"Transport and logistics services"})]})]})})]}),"verification"===registrationStep&&(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Yn.jsx)("button",{onClick:()=>setRegistrationStep("business"===partnerType?"business_category":"partner_type"),className:"text-gray-500 hover:text-gray-700",children:"\u2190 Back"}),(0,Yn.jsx)("h2",{className:"text-xl font-bold text-emerald-600",children:"Verification Requirements"}),(0,Yn.jsx)("div",{})]}),(0,Yn.jsx)("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 p-6 rounded-2xl",children:(0,Yn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),Ms()},className:"space-y-4",children:[("agent"===partnerType||"driver"===partnerType)&&(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsx)("div",{className:"mb-4 p-3 bg-blue-100 rounded-lg",children:(0,Yn.jsx)("p",{className:"text-sm text-blue-800 font-medium",children:"Required: NIN and Photo for verification"})}),(0,Yn.jsx)("input",{type:"text",placeholder:"National Identification Number (NIN)",value:verificationInfo.nin,onChange:e=>setVerificationInfo((t=>u(u({},t),{},{nin:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,Yn.jsx)("input",{type:"file",accept:"image/*",placeholder:"Upload your photo",onChange:e=>setVerificationInfo((t=>{var r;return u(u({},t),{},{photo:(null===(r=e.target.files[0])||void 0===r?void 0:r.name)||""})})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),"farmer"===partnerType&&(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsx)("div",{className:"mb-4 p-3 bg-green-100 rounded-lg",children:(0,Yn.jsx)("p",{className:"text-sm text-green-800 font-medium",children:"Required: Photo, NIN, Farm Photo, and Farm Information"})}),(0,Yn.jsx)("input",{type:"text",placeholder:"National Identification Number (NIN)",value:verificationInfo.nin,onChange:e=>setVerificationInfo((t=>u(u({},t),{},{nin:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,Yn.jsx)("input",{type:"file",accept:"image/*",placeholder:"Upload your photo",onChange:e=>setVerificationInfo((t=>{var r;return u(u({},t),{},{photo:(null===(r=e.target.files[0])||void 0===r?void 0:r.name)||""})})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,Yn.jsx)("input",{type:"file",accept:"image/*",placeholder:"Upload farm photo",onChange:e=>setVerificationInfo((t=>{var r;return u(u({},t),{},{farm_photo:(null===(r=e.target.files[0])||void 0===r?void 0:r.name)||""})})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,Yn.jsx)("textarea",{placeholder:"Farm Information (location, size, crops grown, etc.)",value:verificationInfo.farm_info,onChange:e=>setVerificationInfo((t=>u(u({},t),{},{farm_info:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",rows:"3",required:!0})]}),("processor"===businessCategory||"logistics_business"===businessCategory||"business"===partnerType&&businessCategory)&&(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsx)("div",{className:"mb-4 p-3 bg-purple-100 rounded-lg",children:(0,Yn.jsx)("p",{className:"text-sm text-purple-800 font-medium",children:"Required: CAC Number, Business Name, and Address"})}),(0,Yn.jsx)("input",{type:"text",placeholder:"CAC Registration Number",value:verificationInfo.cac_number,onChange:e=>setVerificationInfo((t=>u(u({},t),{},{cac_number:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,Yn.jsx)("input",{type:"text",placeholder:"Business Name",value:businessInfo.business_name,onChange:e=>setBusinessInfo((t=>u(u({},t),{},{business_name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,Yn.jsx)("input",{type:"text",placeholder:"Business Address",value:businessInfo.business_address,onChange:e=>setBusinessInfo((t=>u(u({},t),{},{business_address:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),"supplier"===businessCategory&&(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsx)("div",{className:"mb-4 p-3 bg-orange-100 rounded-lg",children:(0,Yn.jsx)("p",{className:"text-sm text-orange-800 font-medium",children:"Suppliers can submit either NIN or CAC Number"})}),(0,Yn.jsxs)("div",{className:"space-y-3",children:[(0,Yn.jsxs)("label",{className:"flex items-center",children:[(0,Yn.jsx)("input",{type:"radio",name:"supplier_verification",value:"nin",onChange:e=>setVerificationInfo((t=>u(u({},t),{},{verification_type:e.target.value}))),className:"mr-2"}),"Use NIN (Individual/Unregistered Business)"]}),(0,Yn.jsxs)("label",{className:"flex items-center",children:[(0,Yn.jsx)("input",{type:"radio",name:"supplier_verification",value:"cac",onChange:e=>setVerificationInfo((t=>u(u({},t),{},{verification_type:e.target.value}))),className:"mr-2"}),"Use CAC (Registered Business)"]})]}),"nin"===verificationInfo.verification_type&&(0,Yn.jsx)("input",{type:"text",placeholder:"National Identification Number (NIN)",value:verificationInfo.nin,onChange:e=>setVerificationInfo((t=>u(u({},t),{},{nin:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),"cac"===verificationInfo.verification_type&&(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsx)("input",{type:"text",placeholder:"CAC Registration Number",value:verificationInfo.cac_number,onChange:e=>setVerificationInfo((t=>u(u({},t),{},{cac_number:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,Yn.jsx)("input",{type:"text",placeholder:"Business Name",value:businessInfo.business_name,onChange:e=>setBusinessInfo((t=>u(u({},t),{},{business_name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),(0,Yn.jsx)("input",{type:"text",placeholder:"Business Address",value:businessInfo.business_address,onChange:e=>setBusinessInfo((t=>u(u({},t),{},{business_address:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0})]})]}),(0,Yn.jsx)("button",{type:"submit",className:"w-full bg-emerald-600 text-white py-3 px-4 rounded-full hover:bg-emerald-700 transition-colors font-medium",children:"Complete Registration"})]})})]})]})]})}),La&&(0,Yn.jsx)("div",{className:"modal-backdrop-blur fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Yn.jsxs)("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Yn.jsxs)("div",{className:"p-6 border-b ".concat("pyexpress"===Fa?"border-emerald-200 bg-emerald-50":"border-orange-200 bg-orange-50"),children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"pyexpress"===Fa?"\ud83d\uded2 PyExpress Checkout":"\ud83c\udf3e Farm Deals Checkout"}),(0,Yn.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"pyexpress"===Fa?"Business & Supplier Products":"Farm Fresh Products with Fixed Split"})]}),(0,Yn.jsx)("button",{onClick:()=>Oa(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,Yn.jsxs)("div",{className:"mt-4 flex items-center space-x-4",children:[(0,Yn.jsxs)("div",{className:"flex items-center ".concat("review"===Aa?"pyexpress"===Fa?"text-emerald-600":"text-orange-600":"text-gray-400"),children:[(0,Yn.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ".concat("review"===Aa?"pyexpress"===Fa?"bg-emerald-100 text-emerald-600":"bg-orange-100 text-orange-600":"bg-gray-100 text-gray-400"),children:"1"}),(0,Yn.jsx)("span",{className:"ml-2 text-sm font-medium",children:"Review Order"})]}),(0,Yn.jsx)("div",{className:"h-px bg-gray-200 flex-1"}),(0,Yn.jsxs)("div",{className:"flex items-center ".concat("address"===Aa?"pyexpress"===Fa?"text-emerald-600":"text-orange-600":"text-gray-400"),children:[(0,Yn.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ".concat("address"===Aa?"pyexpress"===Fa?"bg-emerald-100 text-emerald-600":"bg-orange-100 text-orange-600":"bg-gray-100 text-gray-400"),children:"2"}),(0,Yn.jsx)("span",{className:"ml-2 text-sm font-medium",children:"Shipping Address"})]}),(0,Yn.jsx)("div",{className:"h-px bg-gray-200 flex-1"}),(0,Yn.jsxs)("div",{className:"flex items-center ".concat("payment"===Aa?"pyexpress"===Fa?"text-emerald-600":"text-orange-600":"text-gray-400"),children:[(0,Yn.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ".concat("payment"===Aa?"pyexpress"===Fa?"bg-emerald-100 text-emerald-600":"bg-orange-100 text-orange-600":"bg-gray-100 text-gray-400"),children:"3"}),(0,Yn.jsx)("span",{className:"ml-2 text-sm font-medium",children:"Payment"})]})]})]}),(0,Yn.jsx)("div",{className:"p-6",children:(0,Yn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Yn.jsxs)("div",{className:"lg:col-span-2",children:["review"===Aa&&(0,Yn.jsxs)("div",{className:"space-y-6",children:[(0,Yn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"\ud83d\udce6 Review Your Order"}),0===qs().length?(0,Yn.jsx)("div",{className:"text-center py-8",children:(0,Yn.jsx)("div",{className:"text-gray-500",children:"Your cart is empty"})}):(0,Yn.jsx)("div",{className:"space-y-4",children:qs().map((e=>{var t;return(0,Yn.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,Yn.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Yn.jsxs)("div",{className:"flex-1",children:[(0,Yn.jsx)("h4",{className:"font-semibold text-gray-900",children:e.product.product_name||e.product.crop_type}),(0,Yn.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.product.description||"Fresh organic produce"}),(0,Yn.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,Yn.jsxs)("span",{className:"text-gray-700",children:[(0,Yn.jsx)("strong",{children:"Quantity:"})," ",e.quantity," ",e.unit,e.unit_specification&&" (".concat(e.unit_specification,")")]}),(0,Yn.jsxs)("span",{className:"text-gray-700",children:[(0,Yn.jsx)("strong",{children:"Price:"})," \u20a6",e.product.price_per_unit,"/",e.unit]}),(0,Yn.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("platform"===e.delivery_method?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:"platform"===e.delivery_method?"\ud83d\ude9b Platform Driver":"\ud83d\ude9a Offline Delivery"})]}),(0,Yn.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:[(0,Yn.jsx)("strong",{children:"Seller:"})," ",e.product.seller_username,e.product.business_name&&" (".concat(e.product.business_name,")")]}),"seller"===e.product.logistics_managed_by&&(0,Yn.jsx)("div",{className:"mt-2",children:0===e.product.seller_delivery_fee?(0,Yn.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"\ud83c\udf89 FREE Delivery (Vendor Managed)"}):(0,Yn.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["\ud83d\ude9a Vendor Delivery: \u20a6",null===(t=e.product.seller_delivery_fee)||void 0===t?void 0:t.toLocaleString()]})})]}),(0,Yn.jsxs)("div",{className:"text-right",children:[(0,Yn.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:["\u20a6",(e.product.price_per_unit*e.quantity).toLocaleString()]}),(0,Yn.jsx)("button",{onClick:()=>Xs(e.id),className:"text-red-600 hover:text-red-800 text-sm mt-1",children:"Remove"})]})]})},e.id)}))}),(0,Yn.jsx)("div",{className:"flex justify-end",children:(0,Yn.jsx)("button",{onClick:()=>Da("address"),className:"px-6 py-2 text-white rounded-lg font-medium ".concat("pyexpress"===Fa?"bg-emerald-600 hover:bg-emerald-700":"bg-orange-600 hover:bg-orange-700"),children:"Continue to Shipping"})})]}),"address"===Aa&&(0,Yn.jsxs)("div",{className:"space-y-6",children:[(0,Yn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"\ud83d\udccd Shipping Address"}),(0,Yn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),(0,Yn.jsx)("input",{type:"text",value:Ma.full_name,onChange:e=>Ia((t=>u(u({},t),{},{full_name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Enter your full name"})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),(0,Yn.jsx)("input",{type:"tel",value:Ma.phone,onChange:e=>Ia((t=>u(u({},t),{},{phone:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"+234 xxx xxx xxxx"})]}),(0,Yn.jsxs)("div",{className:"md:col-span-2",children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,Yn.jsx)("input",{type:"email",value:Ma.email,onChange:e=>Ia((t=>u(u({},t),{},{email:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"your.email@example.com"})]}),(0,Yn.jsxs)("div",{className:"md:col-span-2",children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 1 *"}),(0,Yn.jsx)("input",{type:"text",value:Ma.address_line_1,onChange:e=>Ia((t=>u(u({},t),{},{address_line_1:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Street address, P.O. box, company name"})]}),(0,Yn.jsxs)("div",{className:"md:col-span-2",children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 2"}),(0,Yn.jsx)("input",{type:"text",value:Ma.address_line_2,onChange:e=>Ia((t=>u(u({},t),{},{address_line_2:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Apartment, suite, unit, building, floor, etc."})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),(0,Yn.jsx)("input",{type:"text",value:Ma.city,onChange:e=>Ia((t=>u(u({},t),{},{city:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Lagos"})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),(0,Yn.jsx)("input",{type:"text",value:Ma.state,onChange:e=>Ia((t=>u(u({},t),{},{state:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Lagos State"})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code"}),(0,Yn.jsx)("input",{type:"text",value:Ma.postal_code,onChange:e=>Ia((t=>u(u({},t),{},{postal_code:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"100001"})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),(0,Yn.jsxs)("select",{value:Ma.country,onChange:e=>Ia((t=>u(u({},t),{},{country:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",children:[(0,Yn.jsx)("option",{value:"Nigeria",children:"Nigeria"}),(0,Yn.jsx)("option",{value:"Ghana",children:"Ghana"}),(0,Yn.jsx)("option",{value:"Kenya",children:"Kenya"})]})]}),(0,Yn.jsxs)("div",{className:"md:col-span-2",children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Instructions"}),(0,Yn.jsx)("textarea",{value:Ma.delivery_instructions,onChange:e=>Ia((t=>u(u({},t),{},{delivery_instructions:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",rows:"3",placeholder:"Any special delivery instructions..."})]})]}),(0,Yn.jsxs)("div",{className:"flex justify-between",children:[(0,Yn.jsx)("button",{onClick:()=>Da("review"),className:"px-6 py-2 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Back to Review"}),(0,Yn.jsx)("button",{onClick:()=>{Zs()&&Da("payment")},className:"px-6 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium",children:"Continue to Payment"})]})]}),"payment"===Aa&&(0,Yn.jsxs)("div",{className:"space-y-6",children:[(0,Yn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"\ud83d\udcb3 Payment with Paystack"}),(0,Yn.jsx)("div",{className:"border rounded-lg p-4 ".concat("pyexpress"===Fa?"bg-emerald-50 border-emerald-200":"bg-orange-50 border-orange-200"),children:(0,Yn.jsxs)("div",{className:"flex items-start",children:[(0,Yn.jsx)("svg",{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5 ".concat("pyexpress"===Fa?"text-emerald-600":"text-orange-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("div",{className:"font-medium ".concat("pyexpress"===Fa?"text-emerald-900":"text-orange-900"),children:"pyexpress"===Fa?"PyExpress Checkout":"Farm Deals Checkout"}),(0,Yn.jsx)("div",{className:"text-sm mt-1 ".concat("pyexpress"===Fa?"text-emerald-700":"text-orange-700"),children:"pyexpress"===Fa?"Payment will be split: Vendor receives product payment, platform handles service charges":"Payment via Fixed Split Group - Sophie Farms Investment Ltd manages farmer payouts"}),f&&("agent"===f.role||"purchasing_agent"===f.role)&&(0,Yn.jsx)("div",{className:"mt-2 text-sm font-medium text-blue-700",children:"\u2728 As an agent, you'll earn commission on this purchase!"})]})]})}),(0,Yn.jsxs)("div",{className:"space-y-4",children:[(0,Yn.jsx)("div",{className:"font-medium text-gray-900",children:"Secure Payment via Paystack"}),(0,Yn.jsxs)("div",{className:"space-y-2",children:[(0,Yn.jsxs)("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg bg-white",children:[(0,Yn.jsx)("svg",{className:"w-8 h-8 text-emerald-600 mr-3",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Yn.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"})}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("div",{className:"font-medium",children:"Debit/Credit Card"}),(0,Yn.jsx)("div",{className:"text-sm text-gray-600",children:"Visa, Mastercard, Verve supported"})]})]}),(0,Yn.jsxs)("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg bg-white",children:[(0,Yn.jsx)("svg",{className:"w-8 h-8 text-blue-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("div",{className:"font-medium",children:"Bank Transfer & USSD"}),(0,Yn.jsx)("div",{className:"text-sm text-gray-600",children:"Transfer directly from your bank"})]})]}),(0,Yn.jsxs)("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg bg-white",children:[(0,Yn.jsx)("svg",{className:"w-8 h-8 text-purple-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("div",{className:"font-medium",children:"Mobile Money"}),(0,Yn.jsx)("div",{className:"text-sm text-gray-600",children:"MTN, Airtel, and other providers"})]})]})]})]}),(0,Yn.jsxs)("div",{className:"flex justify-between",children:[(0,Yn.jsx)("button",{onClick:()=>Da("address"),className:"px-6 py-2 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Back to Address"}),(0,Yn.jsx)("button",{onClick:async()=>{if(Zs()){Va(!0);try{const t=localStorage.getItem("token"),r=qs();if(0===r.length)return void alert("No items in cart for checkout");const n=r.reduce(((e,t)=>e+t.product.price_per_unit*t.quantity),0),a="pyexpress"===Fa?"home":"farmhub",s=r[0].product;let l=null;if("home"===a&&s.seller_id)try{const e=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/payment/subaccount/").concat(s.seller_id),{headers:{Authorization:"Bearer ".concat(t)}});if(e.ok){l=(await e.json()).subaccount_code}else l=s.seller_subaccount_code||null}catch(e){console.error("Failed to fetch subaccount:",e)}const o={product_total:n,customer_state:Ma.state,product_weight:r.reduce(((e,t)=>e+1*t.quantity),0),quantity:r.reduce(((e,t)=>e+t.quantity),0),subaccount_code:l,product_id:r.map((e=>e.product.id)).join(","),platform_type:a,buyer_location:"".concat(Ma.address_line_1).concat(Ma.address_line_2?", "+Ma.address_line_2:""),buyer_city:Ma.city,seller_location:s.location||"",seller_city:s.city||"",callback_url:"".concat(window.location.origin,"/payment-callback")},i=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/paystack/transaction/initialize"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(o)});if(!i.ok){const e=await i.json();throw new Error(e.detail||"Failed to initialize payment")}{const e=await i.json();$a(e.reference);const t=e.breakdown;window.confirm("Payment Breakdown:\n\n"+"Product Total: \u20a6".concat(t.product_total.toLocaleString(),"\n")+"Delivery Fee (".concat(t.delivery_state,"): \u20a6").concat(t.delivery_fee.toLocaleString(),"\n")+"Platform Charges: \u20a6".concat(t.platform_cut.toLocaleString(),"\n")+(t.agent_commission>0?"Your Commission (".concat(t.agent_tier||"","): \u20a6").concat(t.agent_commission.toLocaleString(),"\n"):"")+"\nTotal Amount: \u20a6".concat(e.amount.toLocaleString(),"\n\n")+"Proceed to payment gateway?")?window.location.href=e.authorization_url:Va(!1)}}catch(t){console.error("Payment initialization error:",t),alert("Payment initialization failed: ".concat(t.message)),Va(!1)}}},disabled:Wa,className:"px-8 py-2 text-white rounded-lg font-medium flex items-center ".concat("pyexpress"===Fa?"bg-emerald-600 hover:bg-emerald-700":"bg-orange-600 hover:bg-orange-700"," ").concat(Wa?"opacity-50 cursor-not-allowed":""),children:Wa?(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Yn.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Yn.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Pay \u20a6".concat((null===(t=qa.total)||void 0===t?void 0:t.toLocaleString())||0," Securely")})]})]})]}),(0,Yn.jsx)("div",{className:"lg:col-span-1",children:(0,Yn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 sticky top-0",children:[(0,Yn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\ud83d\udccb Order Summary"}),(0,Yn.jsxs)("div",{className:"space-y-3",children:[(0,Yn.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Yn.jsxs)("span",{className:"text-gray-600",children:["Product Total (",qa.item_count," items)"]}),(0,Yn.jsxs)("span",{className:"font-medium",children:["\u20a6",(null===(r=qa.product_total)||void 0===r?void 0:r.toLocaleString())||0]})]}),qa.platform_service_charge>0&&(0,Yn.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Yn.jsx)("span",{className:"text-gray-600",children:"Service Charge (10%)"}),(0,Yn.jsxs)("span",{className:"font-medium",children:["\u20a6",(null===(n=qa.platform_service_charge)||void 0===n?void 0:n.toLocaleString())||0]})]}),qa.platform_commission>0&&(0,Yn.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Yn.jsx)("span",{className:"text-gray-600",children:"Platform Commission (2.5%)"}),(0,Yn.jsxs)("span",{className:"font-medium",children:["\u20a6",(null===(s=qa.platform_commission)||void 0===s?void 0:s.toLocaleString())||0]})]}),(0,Yn.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Yn.jsx)("span",{className:"text-gray-600",children:"Delivery Fees"}),(0,Yn.jsxs)("span",{className:"font-medium",children:["\u20a6",(null===(l=qa.delivery_total)||void 0===l?void 0:l.toLocaleString())||0]})]}),qa.is_agent&&qa.agent_commission>0&&(0,Yn.jsxs)("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-3 -mx-1",children:[(0,Yn.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Yn.jsx)("span",{className:"text-emerald-700 font-medium",children:"\ud83c\udf81 Your Agent Commission (4%)"}),(0,Yn.jsxs)("span",{className:"font-semibold text-emerald-700",children:["\u20a6",(null===(o=qa.agent_commission)||void 0===o?void 0:o.toLocaleString())||0]})]}),(0,Yn.jsx)("p",{className:"text-xs text-emerald-600 mt-1",children:"Paid separately to your account after order completion"})]}),(0,Yn.jsx)("div",{className:"border-t border-gray-200 pt-3",children:(0,Yn.jsxs)("div",{className:"flex justify-between",children:[(0,Yn.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:"Total to Pay"}),(0,Yn.jsxs)("span",{className:"text-lg font-semibold text-emerald-600",children:["\u20a6",(null===(i=qa.total)||void 0===i?void 0:i.toLocaleString())||0]})]})}),(0,Yn.jsxs)("div",{className:"text-xs text-gray-500 mt-2 space-y-1",children:[(0,Yn.jsxs)("div",{children:["\u2022 Vendor receives: \u20a6",(null===(c=qa.product_total)||void 0===c?void 0:c.toLocaleString())||0]}),(0,Yn.jsxs)("div",{children:["\u2022 Platform fee: \u20a6",(null===(d=qa.platform_cut)||void 0===d?void 0:d.toLocaleString())||0]}),qa.is_agent&&(0,Yn.jsxs)("div",{className:"text-emerald-600 font-medium",children:["\u2022 Your commission: \u20a6",(null===(m=qa.agent_commission)||void 0===m?void 0:m.toLocaleString())||0]})]})]}),"review"!==Aa&&Ma.full_name&&(0,Yn.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,Yn.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"\ud83d\udccd Shipping To:"}),(0,Yn.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,Yn.jsx)("div",{children:Ma.full_name}),(0,Yn.jsx)("div",{children:Ma.address_line_1}),Ma.address_line_2&&(0,Yn.jsx)("div",{children:Ma.address_line_2}),(0,Yn.jsxs)("div",{children:[Ma.city,", ",Ma.state]}),(0,Yn.jsx)("div",{children:Ma.country}),(0,Yn.jsx)("div",{className:"mt-1 font-medium",children:Ma.phone})]})]})]})})]})})]})}),Tn&&(0,Yn.jsx)("div",{className:"modal-backdrop-blur fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Yn.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Yn.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Yn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Yn.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"\ud83d\ude9a Create Delivery Request"}),(0,Yn.jsx)("button",{onClick:()=>Ln(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),(0,Yn.jsx)("div",{className:"p-6",children:(0,Yn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Yn.jsxs)("div",{className:"space-y-4",children:[(0,Yn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\ud83d\udccb Order Details"}),(0,Yn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order ID"}),(0,Yn.jsx)("input",{type:"text",value:es.order_id,onChange:e=>ts((t=>u(u({},t),{},{order_id:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"e.g., ORD-12345"})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Type"}),(0,Yn.jsxs)("select",{value:es.order_type,onChange:e=>ts((t=>u(u({},t),{},{order_type:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",children:[(0,Yn.jsx)("option",{value:"regular",children:"Regular Order"}),(0,Yn.jsx)("option",{value:"preorder",children:"Pre-order"})]})]})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Details *"}),(0,Yn.jsx)("textarea",{value:es.product_details,onChange:e=>ts((t=>u(u({},t),{},{product_details:e.target.value}))),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Describe the products to be delivered..."})]}),(0,Yn.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Quantity *"}),(0,Yn.jsx)("input",{type:"number",value:es.total_quantity,onChange:e=>ts((t=>u(u({},t),{},{total_quantity:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"100"})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"}),(0,Yn.jsxs)("select",{value:es.quantity_unit,onChange:e=>ts((t=>u(u({},t),{},{quantity_unit:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",children:[(0,Yn.jsx)("option",{value:"kg",children:"Kilograms"}),(0,Yn.jsx)("option",{value:"pieces",children:"Pieces"}),(0,Yn.jsx)("option",{value:"bags",children:"Bags"}),(0,Yn.jsx)("option",{value:"tins",children:"Tins"}),(0,Yn.jsx)("option",{value:"crates",children:"Crates"}),(0,Yn.jsx)("option",{value:"liters",children:"Liters"})]})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight (kg)"}),(0,Yn.jsx)("input",{type:"number",value:es.weight_kg,onChange:e=>ts((t=>u(u({},t),{},{weight_kg:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"50"})]})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\ud83d\udccd Pickup Address *"}),(0,Yn.jsx)("input",{type:"text",value:es.pickup_address,onChange:e=>ts((t=>u(u({},t),{},{pickup_address:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Enter pickup address..."})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\ud83c\udfaf Delivery Destinations *"}),(0,Yn.jsx)("button",{type:"button",onClick:()=>{Ta([...Ra,""]),ts((e=>u(u({},e),{},{delivery_addresses:[...e.delivery_addresses,""]})))},className:"text-sm text-emerald-600 hover:text-emerald-700 font-medium",children:"+ Add Destination"})]}),(0,Yn.jsx)("div",{className:"space-y-2",children:Ra.map(((e,t)=>(0,Yn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Yn.jsx)("div",{className:"flex-1",children:(0,Yn.jsx)("input",{type:"text",value:e,onChange:e=>((e,t)=>{const r=[...Ra];r[e]=t,Ta(r);const n=[...es.delivery_addresses];n[e]=t,ts((e=>u(u({},e),{},{delivery_addresses:n})))})(t,e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Destination ".concat(t+1," address...")})}),Ra.length>1&&(0,Yn.jsx)("button",{type:"button",onClick:()=>(e=>{const t=Ra.filter(((t,r)=>r!==e));Ta(t),ts((t=>u(u({},t),{},{delivery_addresses:t.delivery_addresses.filter(((t,r)=>r!==e))})))})(t),className:"text-red-600 hover:text-red-700 p-1",children:"\u2715"})]},t)))})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\ud83d\udcb0 Estimated Price (\u20a6) *"}),(0,Yn.jsx)("input",{type:"number",value:es.estimated_price,onChange:e=>ts((t=>u(u({},t),{},{estimated_price:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"5000"})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\ud83d\udcdd Special Instructions"}),(0,Yn.jsx)("textarea",{value:es.special_instructions,onChange:e=>ts((t=>u(u({},t),{},{special_instructions:e.target.value}))),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Any special handling requirements..."})]})]}),(0,Yn.jsxs)("div",{className:"space-y-4",children:[(0,Yn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\ud83d\udd0d Find & Select Driver"}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Drivers"}),(0,Yn.jsxs)("div",{className:"flex space-x-2",children:[(0,Yn.jsx)("input",{type:"text",value:Hn,onChange:e=>Wn(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Search by driver name or username..."}),(0,Yn.jsx)("button",{type:"button",onClick:()=>(async e=>{try{const t=localStorage.getItem("token");let r="".concat("https://mvp-2-u8e9.onrender.com","/api/drivers/search?min_rating=3.0&radius_km=50");e&&e.lat&&e.lng&&(r+="&pickup_lat=".concat(e.lat,"&pickup_lng=").concat(e.lng));const n=await fetch(r,{headers:{Authorization:"Bearer ".concat(t)}});if(n.ok){const e=await n.json();ta(e.drivers||[])}}catch(t){console.error("Error searching drivers:",t)}})(wa),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"\ud83d\udd0d"})]})]}),Vn.length>0&&(0,Yn.jsxs)("div",{className:"max-h-64 overflow-y-auto border border-gray-200 rounded-lg",children:[(0,Yn.jsxs)("div",{className:"p-2 bg-gray-50 border-b border-gray-200 text-sm font-medium text-gray-700",children:["Available Drivers (",Vn.length,")"]}),Vn.map((e=>(0,Yn.jsx)("div",{onClick:()=>{pa(e),ts((t=>u(u({},t),{},{preferred_driver_username:e.driver_username})))},className:"p-3 border-b border-gray-100 cursor-pointer hover:bg-gray-50 ".concat((null===ra||void 0===ra?void 0:ra.driver_id)===e.driver_id?"bg-emerald-50 border-emerald-200":""),children:(0,Yn.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("div",{className:"font-medium text-gray-900",children:e.driver_name}),(0,Yn.jsxs)("div",{className:"text-sm text-gray-600",children:["@",e.driver_username]}),(0,Yn.jsxs)("div",{className:"text-sm text-gray-500",children:["\u2b50 ",e.rating," \u2022 ",e.total_deliveries," deliveries"]}),(0,Yn.jsxs)("div",{className:"text-sm text-blue-600",children:["\ud83d\ude97 ",e.vehicle_info.make_model," (",e.vehicle_info.plate_number,")"]})]}),(0,Yn.jsxs)("div",{className:"text-right",children:[(0,Yn.jsx)("div",{className:"text-sm px-2 py-1 rounded-full ".concat("online"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"),children:e.status}),e.distance_km&&(0,Yn.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:["\ud83d\udccd ",e.distance_km," km away"]})]})]})},e.driver_id)))]}),ra&&(0,Yn.jsxs)("div",{className:"p-4 bg-emerald-50 border border-emerald-200 rounded-lg",children:[(0,Yn.jsx)("div",{className:"text-sm font-medium text-emerald-800 mb-2",children:"\u2705 Selected Driver"}),(0,Yn.jsx)("div",{className:"font-medium text-gray-900",children:ra.driver_name}),(0,Yn.jsxs)("div",{className:"text-sm text-gray-600",children:["@",ra.driver_username]}),(0,Yn.jsxs)("div",{className:"text-sm text-gray-500",children:["\u2b50 ",ra.rating," \u2022 ",ra.total_deliveries," deliveries"]})]}),(0,Yn.jsx)("div",{className:"h-48 bg-gray-100 border border-gray-200 rounded-lg flex items-center justify-center",children:(0,Yn.jsxs)("div",{className:"text-center text-gray-500",children:[(0,Yn.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\uddfa\ufe0f"}),(0,Yn.jsx)("div",{className:"text-sm",children:"Interactive Map"}),(0,Yn.jsx)("div",{className:"text-xs",children:"Pickup & delivery locations will be shown here"})]})}),(0,Yn.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Yn.jsx)("button",{type:"button",onClick:()=>Ln(!1),className:"flex-1 px-4 py-2 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,Yn.jsx)("button",{type:"button",onClick:async()=>{try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/delivery/request-enhanced"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(u(u({},es),{},{total_quantity:parseFloat(es.total_quantity),weight_kg:es.weight_kg?parseFloat(es.weight_kg):null,estimated_price:parseFloat(es.estimated_price),pickup_coordinates:wa,delivery_coordinates:ka}))});if(t.ok){const e=await t.json();alert("Delivery request created successfully! \n        Request ID: ".concat(e.request_id,"\n        Total destinations: ").concat(e.total_destinations,"\n        Quantity: ").concat(e.total_quantity," ").concat(e.quantity_unit,"\n        Estimated price: \u20a6").concat(e.estimated_price,"\n        OTP: ").concat(e.delivery_otp)),Ln(!1),ts({order_id:"",order_type:"regular",pickup_address:"",delivery_addresses:[""],total_quantity:"",quantity_unit:"kg",product_details:"",weight_kg:"",special_instructions:"",estimated_price:"",preferred_driver_username:""}),Ta([""])}else{const e=await t.json();alert("Error: ".concat(e.detail||"Failed to create delivery request"))}}catch(e){console.error("Error creating delivery request:",e),alert("Error creating delivery request. Please try again.")}},className:"flex-1 px-6 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium",children:"Create Request"})]})]})]})})]})}),fa&&(0,Yn.jsx)("div",{className:"modal-backdrop-blur fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Yn.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex",children:[(0,Yn.jsxs)("div",{className:"w-1/3 bg-gray-50 border-r border-gray-200 p-4",children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Yn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"\ud83d\udce6 Delivery Info"}),(0,Yn.jsx)("button",{onClick:()=>ha(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),Ea&&(0,Yn.jsxs)("div",{className:"space-y-4",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("div",{className:"text-sm font-medium text-gray-700",children:"Status"}),(0,Yn.jsx)("div",{className:"text-lg font-semibold text-emerald-600",children:Ea.status})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("div",{className:"text-sm font-medium text-gray-700",children:"Product"}),(0,Yn.jsx)("div",{className:"text-sm text-gray-900",children:Ea.product_details})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("div",{className:"text-sm font-medium text-gray-700",children:"Quantity"}),(0,Yn.jsxs)("div",{className:"text-sm text-gray-900",children:[Ea.total_quantity," ",Ea.quantity_unit]})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("div",{className:"text-sm font-medium text-gray-700",children:"Pickup"}),(0,Yn.jsx)("div",{className:"text-sm text-gray-900",children:Ea.pickup_location.address})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("div",{className:"text-sm font-medium text-gray-700",children:"Destinations"}),Ea.delivery_locations.map(((e,t)=>(0,Yn.jsxs)("div",{className:"text-sm text-gray-900",children:[t+1,". ",e.address]},t)))]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("div",{className:"text-sm font-medium text-gray-700",children:"Price"}),(0,Yn.jsxs)("div",{className:"text-sm text-gray-900",children:["\u20a6",Ea.negotiated_price||Ea.estimated_price]})]})]})]}),(0,Yn.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,Yn.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Yn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"\ud83d\udcac Delivery Chat"})}),(0,Yn.jsx)("div",{className:"flex-1 p-4 overflow-y-auto",children:0===xa.length?(0,Yn.jsxs)("div",{className:"text-center text-gray-500 mt-8",children:[(0,Yn.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udcac"}),(0,Yn.jsx)("div",{children:"No messages yet"}),(0,Yn.jsx)("div",{className:"text-sm",children:"Start a conversation with your driver"})]}):(0,Yn.jsx)("div",{className:"space-y-3",children:xa.map((e=>(0,Yn.jsx)("div",{className:"flex ".concat(e.sender_username===f.username?"justify-end":"justify-start"),children:(0,Yn.jsxs)("div",{className:"max-w-xs px-3 py-2 rounded-lg ".concat(e.sender_username===f.username?"bg-emerald-500 text-white":"bg-gray-200 text-gray-900"),children:[(0,Yn.jsx)("div",{className:"text-sm",children:"location"===e.message_type?(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("div",{className:"font-medium",children:"\ud83d\udccd Location shared"}),(0,Yn.jsx)("div",{className:"text-xs opacity-75",children:"Tap to view on map"})]}):e.content}),(0,Yn.jsx)("div",{className:"text-xs mt-1 opacity-75",children:new Date(e.timestamp).toLocaleTimeString()})]})},e.id)))})}),(0,Yn.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,Yn.jsxs)("div",{className:"flex space-x-2",children:[(0,Yn.jsx)("input",{type:"text",value:va,onChange:e=>ja(e.target.value),onKeyPress:e=>"Enter"===e.key&&va.trim()&&Ys(ya,va),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Type a message..."}),(0,Yn.jsx)("button",{onClick:()=>Ys(ya,"Current location","location"),className:"px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",title:"Share location",children:"\ud83d\udccd"}),(0,Yn.jsx)("button",{onClick:()=>va.trim()&&Ys(ya,va),className:"px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600",children:"Send"})]})})]})]})}),Me&&Be&&(0,Yn.jsx)("div",{className:"modal-backdrop-blur fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Yn.jsxs)("div",{className:"bg-white rounded-lg max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[(0,Yn.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Yn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Yn.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Pre-order Details"}),(0,Yn.jsx)("button",{onClick:()=>{Ie(!1),Ue(null)},className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),(0,Yn.jsxs)("div",{className:"p-6",children:[Be.images&&Be.images.length>0?(0,Yn.jsx)("img",{src:Be.images[0],alt:Be.product_name,className:"w-full h-48 object-cover rounded-lg mb-4"}):(0,Yn.jsx)("div",{className:"w-full h-48 bg-gray-200 flex items-center justify-center rounded-lg mb-4",children:(0,Yn.jsx)("span",{className:"text-gray-500",children:"No Image"})}),(0,Yn.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:Be.product_name}),(0,Yn.jsx)("p",{className:"text-gray-600 mb-4",children:Be.description}),(0,Yn.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,Yn.jsxs)("div",{className:"bg-emerald-50 p-3 rounded-lg",children:[(0,Yn.jsx)("div",{className:"text-sm text-gray-600",children:"Price per unit"}),(0,Yn.jsxs)("div",{className:"text-xl font-bold text-emerald-600",children:["\u20a6",Be.price_per_unit,"/",Be.unit]})]}),(0,Yn.jsxs)("div",{className:"bg-orange-50 p-3 rounded-lg",children:[(0,Yn.jsx)("div",{className:"text-sm text-gray-600",children:"Available stock"}),(0,Yn.jsxs)("div",{className:"text-xl font-bold text-orange-600",children:[Be.available_stock," ",Be.unit]})]})]}),(0,Yn.jsxs)("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[(0,Yn.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Seller Information"}),(0,Yn.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("span",{className:"font-medium",children:"Business:"})," ",Be.business_name]}),Be.farm_name&&(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("span",{className:"font-medium",children:"Farm:"})," ",Be.farm_name]}),Be.agent_username&&(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("span",{className:"font-medium",children:"Agent:"})," @",Be.agent_username]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("span",{className:"font-medium",children:"Location:"})," ",Be.location]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("span",{className:"font-medium",children:"Seller Type:"})," ",Be.seller_type]})]})]}),(0,Yn.jsxs)("div",{className:"mb-4 p-4 bg-orange-50 rounded-lg border border-orange-200",children:[(0,Yn.jsx)("h4",{className:"font-semibold text-orange-900 mb-2",children:"Pre-order Information"}),(0,Yn.jsxs)("div",{className:"space-y-1 text-sm text-orange-800",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("span",{className:"font-medium",children:"Partial payment required:"}),Math.round(100*Be.partial_payment_percentage),"% upfront"]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("span",{className:"font-medium",children:"Remaining payment:"}),100-Math.round(100*Be.partial_payment_percentage),"% on delivery"]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("span",{className:"font-medium",children:"Expected delivery:"}),new Date(Be.delivery_date).toLocaleDateString()]}),Be.orders_count>0&&(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("span",{className:"font-medium",children:"Current orders:"}),Be.orders_count," (",Be.total_ordered_quantity," ",Be.unit,")"]})]})]}),f?(0,Yn.jsxs)("div",{className:"space-y-4",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Quantity (",Be.unit,")"]}),(0,Yn.jsx)("input",{type:"number",min:"1",max:Be.available_stock,defaultValue:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",id:"preorder-quantity",onChange:e=>{const t=parseInt(e.target.value)||1,r=t*Be.price_per_unit,n=Math.round(r*Be.partial_payment_percentage);document.getElementById("summary-quantity").textContent="".concat(t," ").concat(Be.unit),document.getElementById("summary-total").textContent="\u20a6".concat(r),document.getElementById("summary-partial").textContent="\u20a6".concat(n),document.getElementById("summary-remaining").textContent="\u20a6".concat(r-n)}})]}),(0,Yn.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,Yn.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Order Summary"}),(0,Yn.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,Yn.jsxs)("div",{className:"flex justify-between",children:[(0,Yn.jsx)("span",{children:"Unit price:"}),(0,Yn.jsxs)("span",{children:["\u20a6",Be.price_per_unit]})]}),(0,Yn.jsxs)("div",{className:"flex justify-between",children:[(0,Yn.jsx)("span",{children:"Quantity:"}),(0,Yn.jsxs)("span",{id:"summary-quantity",children:["1 ",Be.unit]})]}),(0,Yn.jsxs)("div",{className:"flex justify-between font-medium",children:[(0,Yn.jsx)("span",{children:"Total amount:"}),(0,Yn.jsxs)("span",{id:"summary-total",children:["\u20a6",Be.price_per_unit]})]}),(0,Yn.jsxs)("div",{className:"flex justify-between text-orange-600",children:[(0,Yn.jsx)("span",{children:"Partial payment now:"}),(0,Yn.jsxs)("span",{id:"summary-partial",children:["\u20a6",Math.round(Be.price_per_unit*Be.partial_payment_percentage)]})]}),(0,Yn.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,Yn.jsx)("span",{children:"Remaining on delivery:"}),(0,Yn.jsxs)("span",{id:"summary-remaining",children:["\u20a6",Be.price_per_unit-Math.round(Be.price_per_unit*Be.partial_payment_percentage)]})]})]})]}),(0,Yn.jsx)("button",{onClick:async()=>{const e=parseInt(document.getElementById("preorder-quantity").value);if(e<=0||e>Be.available_stock)alert("Please enter a valid quantity");else try{const t=localStorage.getItem("token"),r=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/preorders/").concat(Be.id,"/order"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({quantity:e})});if(r.ok){const e=await r.json();alert("Pre-order placed successfully! Order ID: ".concat(e.order_id,"\nPartial payment: \u20a6").concat(e.partial_amount,"\nRemaining: \u20a6").concat(e.remaining_amount)),Ie(!1),Ue(null),ds()}else{const e=await r.json();alert("Error: ".concat(e.detail||"Failed to place pre-order"))}}catch(t){console.error("Error placing pre-order:",t),alert("Error placing pre-order. Please try again.")}},className:"w-full bg-orange-600 text-white py-3 px-4 rounded-lg hover:bg-orange-700 font-medium transition-colors",children:"Place Pre-order"})]}):(0,Yn.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,Yn.jsx)("p",{className:"text-gray-600 mb-3",children:"Please sign in to place pre-orders"}),(0,Yn.jsx)("button",{onClick:()=>{Ie(!1),N("login"),j(!0)},className:"px-6 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700",children:"Sign In"})]})]})]})}),Fe&&(0,Yn.jsx)("div",{className:"modal-backdrop-blur fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Yn.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Yn.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Yn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Yn.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Create Pre-order"}),(0,Yn.jsx)("button",{onClick:()=>ze(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),(0,Yn.jsx)("div",{className:"p-6",children:(0,Yn.jsx)("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/preorders/create"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(u(u({},rs),{},{total_stock:parseInt(rs.total_stock),price_per_unit:parseFloat(rs.price_per_unit),delivery_date:new Date(rs.delivery_date).toISOString()}))});if(t.ok){await t.json();alert("Pre-order created successfully! You can publish it from your dashboard."),ze(!1),ns({product_name:"",product_category:"vegetables",description:"",total_stock:"",unit:"kg",price_per_unit:"",partial_payment_percentage:.3,location:"",delivery_date:"",business_name:"",farm_name:"",images:[]})}else{const e=await t.json();alert("Error: ".concat(e.detail||"Failed to create pre-order"))}}catch(t){console.error("Error creating pre-order:",t),alert("Error creating pre-order. Please try again.")}},children:(0,Yn.jsxs)("div",{className:"space-y-4",children:[(0,Yn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name *"}),(0,Yn.jsx)("input",{type:"text",required:!0,value:rs.product_name,onChange:e=>ns((t=>u(u({},t),{},{product_name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"e.g., Organic Tomatoes"})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),(0,Yn.jsxs)("select",{required:!0,value:rs.product_category,onChange:e=>ns((t=>u(u({},t),{},{product_category:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",children:[(0,Yn.jsx)("option",{value:"vegetables",children:"Vegetables"}),(0,Yn.jsx)("option",{value:"fruits",children:"Fruits"}),(0,Yn.jsx)("option",{value:"grains",children:"Grains"}),(0,Yn.jsx)("option",{value:"legumes",children:"Legumes"}),(0,Yn.jsx)("option",{value:"spices",children:"Spices"}),(0,Yn.jsx)("option",{value:"feeds",children:"Feeds"}),(0,Yn.jsx)("option",{value:"fertilizer",children:"Fertilizer"}),(0,Yn.jsx)("option",{value:"seeds",children:"Seeds"})]})]})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),(0,Yn.jsx)("textarea",{required:!0,value:rs.description,onChange:e=>ns((t=>u(u({},t),{},{description:e.target.value}))),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Describe your product, quality, farming methods, etc."})]}),(0,Yn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Stock *"}),(0,Yn.jsx)("input",{type:"number",required:!0,min:"1",value:rs.total_stock,onChange:e=>ns((t=>u(u({},t),{},{total_stock:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"e.g., 1000"})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit *"}),(0,Yn.jsxs)("select",{required:!0,value:rs.unit,onChange:e=>ns((t=>u(u({},t),{},{unit:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",children:[(0,Yn.jsx)("option",{value:"kg",children:"Kilogram (kg)"}),(0,Yn.jsx)("option",{value:"g",children:"Gram (g)"}),(0,Yn.jsx)("option",{value:"ton",children:"Ton"}),(0,Yn.jsx)("option",{value:"pieces",children:"Pieces"}),(0,Yn.jsx)("option",{value:"liters",children:"Liters"}),(0,Yn.jsx)("option",{value:"bags",children:"Bags"}),(0,Yn.jsx)("option",{value:"tins",children:"Tins"}),(0,Yn.jsx)("option",{value:"crates",children:"Crates"})]})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price per Unit (\u20a6) *"}),(0,Yn.jsx)("input",{type:"number",required:!0,min:"0",step:"0.01",value:rs.price_per_unit,onChange:e=>ns((t=>u(u({},t),{},{price_per_unit:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"e.g., 500"})]})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Partial Payment Required (",Math.round(100*rs.partial_payment_percentage),"%)"]}),(0,Yn.jsx)("input",{type:"range",min:"0.1",max:"0.9",step:"0.05",value:rs.partial_payment_percentage,onChange:e=>ns((t=>u(u({},t),{},{partial_payment_percentage:parseFloat(e.target.value)}))),className:"w-full"}),(0,Yn.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,Yn.jsx)("span",{children:"10%"}),(0,Yn.jsx)("span",{children:"90%"})]}),(0,Yn.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Buyers will pay ",Math.round(100*rs.partial_payment_percentage),"% upfront, remaining on delivery"]})]}),(0,Yn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location *"}),(0,Yn.jsx)("input",{type:"text",required:!0,value:rs.location,onChange:e=>ns((t=>u(u({},t),{},{location:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"e.g., Lagos, Nigeria"})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Date *"}),(0,Yn.jsx)("input",{type:"datetime-local",required:!0,value:rs.delivery_date,onChange:e=>ns((t=>u(u({},t),{},{delivery_date:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500"})]})]}),(0,Yn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Business Name *"}),(0,Yn.jsx)("input",{type:"text",required:!0,value:rs.business_name,onChange:e=>ns((t=>u(u({},t),{},{business_name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"e.g., Green Valley Farms"})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Farm Name (optional)"}),(0,Yn.jsx)("input",{type:"text",value:rs.farm_name,onChange:e=>ns((t=>u(u({},t),{},{farm_name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"e.g., Green Valley Farm"})]})]}),(0,Yn.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,Yn.jsx)("button",{type:"button",onClick:()=>ze(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,Yn.jsx)("button",{type:"submit",className:"px-6 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium",children:"Create Pre-order"})]})]})})})]})}),M&&(0,Yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",children:(0,Yn.jsxs)("div",{className:"fixed right-0 top-0 h-full w-96 bg-white shadow-lg flex flex-col",children:[(0,Yn.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Yn.jsxs)("h2",{className:"text-lg font-semibold",children:["\ud83d\uded2 Shopping Cart (",F.length,")"]}),(0,Yn.jsx)("button",{onClick:()=>I(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),(0,Yn.jsxs)("div",{className:"flex space-x-2 mt-3",children:[(0,Yn.jsxs)("button",{onClick:()=>U("pyexpress"),className:"flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ".concat("pyexpress"===B?"bg-emerald-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["PyExpress (",Bs().length,")"]}),(0,Yn.jsxs)("button",{onClick:()=>U("farmdeals"),className:"flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ".concat("farmdeals"===B?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["Farm Deals (",Us().length,")"]})]})]}),(0,Yn.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:0===qs().length?(0,Yn.jsx)("div",{className:"text-center py-8",children:(0,Yn.jsxs)("div",{className:"text-gray-500 mb-4",children:[(0,Yn.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.1 5H17M9 19a2 2 0 1 0 4 0 2 2 0 0 0-4 0zM20 19a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"})}),(0,Yn.jsx)("p",{className:"text-lg",children:"This cart is empty"}),(0,Yn.jsx)("p",{className:"text-sm",children:"pyexpress"===B?"Add business products from Home to get started!":"Add farm products from Farm Deals to get started!"})]})}):(0,Yn.jsx)("div",{className:"space-y-4",children:qs().map((e=>(0,Yn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Yn.jsxs)("div",{className:"flex-1",children:[(0,Yn.jsx)("h3",{className:"font-medium text-gray-900 text-sm",children:e.product.product_name||e.product.crop_type}),(0,Yn.jsxs)("p",{className:"text-xs text-gray-600",children:["\u20a6",e.product.price_per_unit,"/",e.unit,e.unit_specification&&(0,Yn.jsxs)("span",{className:"text-gray-500",children:[" (",e.unit_specification,")"]})," \u2022 ",e.product.seller_username]})]}),(0,Yn.jsx)("button",{onClick:()=>Xs(e.id),className:"text-red-500 hover:text-red-700 text-sm",children:"\u2715"})]}),(0,Yn.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Yn.jsx)("button",{onClick:()=>Gs(e.id,e.quantity-1),className:"w-6 h-6 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center text-sm",children:"-"}),(0,Yn.jsx)("span",{className:"text-sm font-medium w-12 text-center",children:e.quantity}),(0,Yn.jsx)("button",{onClick:()=>Gs(e.id,e.quantity+1),className:"w-6 h-6 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center text-sm",children:"+"}),(0,Yn.jsxs)("span",{className:"text-xs text-gray-600",children:[e.unit,e.unit_specification&&" (".concat(e.unit_specification,")")]})]}),(0,Yn.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Yn.jsx)("span",{className:"text-xs text-gray-600",children:"Delivery:"}),(0,Yn.jsx)("button",{onClick:()=>{return t=e.id,r="platform"===e.delivery_method?"offline":"platform",z((e=>e.map((e=>e.id===t?u(u({},e),{},{delivery_method:r}):e)))),void Qs();var t,r},className:"text-xs px-2 py-1 rounded-full ".concat("platform"===e.delivery_method?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"),children:"platform"===e.delivery_method?"\ud83d\ude9b Platform":"\ud83d\ude9a Offline"})]}),(0,Yn.jsx)("div",{className:"text-right",children:(0,Yn.jsxs)("span",{className:"font-semibold text-emerald-600",children:["\u20a6",(e.product.price_per_unit*e.quantity).toLocaleString()]})})]},e.id)))})}),qs().length>0&&(0,Yn.jsxs)("div",{className:"p-4 border-t border-gray-200 bg-white",children:[(0,Yn.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,Yn.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Yn.jsxs)("span",{className:"text-gray-600",children:["Items (",qs().reduce(((e,t)=>e+t.quantity),0),")"]}),(0,Yn.jsxs)("span",{className:"font-medium",children:["\u20a6",qs().reduce(((e,t)=>e+t.product.price_per_unit*t.quantity),0).toLocaleString()]})]}),(0,Yn.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Yn.jsx)("span",{className:"text-gray-600",children:"Est. Delivery"}),(0,Yn.jsxs)("span",{className:"font-medium",children:["\u20a6",Math.round(350*qs().length).toLocaleString()]})]}),(0,Yn.jsxs)("div",{className:"flex justify-between font-semibold pt-2 border-t border-gray-200 ".concat("pyexpress"===B?"text-emerald-600":"text-orange-600"),children:[(0,Yn.jsx)("span",{children:"Total"}),(0,Yn.jsxs)("span",{children:["\u20a6",(qs().reduce(((e,t)=>e+t.product.price_per_unit*t.quantity),0)+Math.round(350*qs().length)).toLocaleString()]})]})]}),(0,Yn.jsxs)("button",{onClick:()=>{Qs(),0!==qs().length?(za(B),Qs(),Da("review"),Oa(!0),I(!1)):alert("Your cart is empty!")},className:"w-full text-white py-3 px-4 rounded-lg font-medium transition-colors ".concat("pyexpress"===B?"bg-emerald-600 hover:bg-emerald-700":"bg-orange-600 hover:bg-orange-700"),children:["Checkout ","pyexpress"===B?"PyExpress":"Farm Deals"," (",qs().length," items)"]}),(0,Yn.jsx)("button",{onClick:()=>I(!1),className:"w-full mt-2 text-gray-600 hover:text-gray-800 py-2 text-sm",children:"Continue Shopping"})]})]})}),X&&(0,Yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",children:(0,Yn.jsxs)("div",{className:"fixed right-0 top-0 h-full w-96 bg-white shadow-lg flex flex-col",children:[(0,Yn.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Yn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Yn.jsx)("h2",{className:"text-lg font-semibold",children:"Messages"}),(0,Yn.jsx)("button",{onClick:()=>Z(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),ae?(0,Yn.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,Yn.jsx)("div",{className:"p-3 border-b border-gray-200 bg-gray-50",children:(0,Yn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Yn.jsx)("button",{onClick:()=>se(null),className:"text-gray-500 hover:text-gray-700",children:"\u2190"}),(0,Yn.jsx)("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-semibold",children:ae.avatar}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("p",{className:"font-medium text-gray-900",children:ae.name}),(0,Yn.jsx)("p",{className:"text-sm text-gray-500",children:"Online"})]})]})}),(0,Yn.jsx)("div",{className:"flex-1 p-4 overflow-y-auto",children:0===ee.filter((e=>e.conversation_id===ae.id)).length?(0,Yn.jsx)("p",{className:"text-gray-500 text-center",children:"No messages yet. Start the conversation!"}):(0,Yn.jsx)("div",{className:"space-y-3",children:ee.filter((e=>e.conversation_id===ae.id)).map((e=>(0,Yn.jsx)("div",{className:"flex ".concat(e.sender===f.username?"justify-end":"justify-start"),children:(0,Yn.jsxs)("div",{className:"max-w-xs px-3 py-2 rounded-lg ".concat(e.sender===f.username?"bg-emerald-500 text-white":"bg-gray-200 text-gray-900"),children:["audio"===e.type?(0,Yn.jsxs)("div",{children:[(0,Yn.jsxs)("audio",{controls:!0,className:"w-full",children:[(0,Yn.jsx)("source",{src:e.content,type:"audio/webm"}),"Your browser does not support the audio element."]}),(0,Yn.jsx)("p",{className:"text-xs mt-1 opacity-75",children:"Voice message"})]}):(0,Yn.jsx)("p",{children:e.content||e.text}),(0,Yn.jsx)("p",{className:"text-xs mt-1 opacity-75",children:new Date(e.timestamp).toLocaleTimeString()})]})},e.id)))})}),(0,Yn.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[xe&&(0,Yn.jsxs)("div",{className:"mb-3 p-2 bg-green-50 rounded-lg border border-green-200",children:[(0,Yn.jsx)("p",{className:"text-sm text-green-700 mb-2",children:"Voice message recorded"}),(0,Yn.jsxs)("div",{className:"flex space-x-2",children:[(0,Yn.jsx)("button",{onClick:async()=>{if(xe&&ae){const e=new FileReader;e.onload=()=>{const t=e.result,r={id:Date.now(),type:"audio",content:t,sender:f.username,timestamp:(new Date).toISOString(),conversation_id:ae.id};te((e=>[...e,r])),ge(null)},e.readAsDataURL(xe)}},className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"Send"}),(0,Yn.jsx)("button",{onClick:()=>ge(null),className:"px-3 py-1 bg-gray-500 text-white text-sm rounded hover:bg-gray-600",children:"Cancel"})]})]}),(0,Yn.jsxs)("div",{className:"flex space-x-2",children:[(0,Yn.jsx)("input",{type:"text",value:re,onChange:e=>ne(e.target.value),onKeyPress:e=>"Enter"===e.key&&el(),placeholder:"Type a message...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"}),(0,Yn.jsx)("button",{onClick:fe?()=>{ye&&fe&&(ye.stop(),he(!1),be(null))}:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e),r=[];t.ondataavailable=e=>r.push(e.data),t.onstop=()=>{const t=new Blob(r,{type:"audio/webm"});ge(t),e.getTracks().forEach((e=>e.stop()))},t.start(),be(t),he(!0)}catch(e){console.error("Error starting recording:",e),alert("Unable to access microphone. Please check permissions.")}},className:"px-3 py-2 rounded-lg font-medium ".concat(fe?"bg-red-500 text-white hover:bg-red-600":"bg-blue-500 text-white hover:bg-blue-600"),children:fe?"\u23f9\ufe0f":"\ud83c\udfa4"}),(0,Yn.jsx)("button",{onClick:el,className:"px-3 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 font-medium",children:"Send"})]})]})]}):(0,Yn.jsxs)("div",{className:"flex-1 p-4",children:[(0,Yn.jsxs)("div",{className:"mb-4",children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search users by username"}),(0,Yn.jsx)("input",{type:"text",value:ie,onChange:e=>{ce(e.target.value),(async e=>{if(e.length<2)setFoundUsers([]);else try{const t=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/users/search?username=").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(t.ok){const e=await t.json();setFoundUsers(e)}}catch(t){console.error("Error searching users:",t)}})(e.target.value)},placeholder:"Enter username...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),foundUsers.length>0&&(0,Yn.jsxs)("div",{className:"mb-4",children:[(0,Yn.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Found Users"}),(0,Yn.jsx)("div",{className:"space-y-2",children:foundUsers.map((e=>(0,Yn.jsx)("div",{onClick:()=>(e=>{const t={id:"conv_".concat(f.username,"_").concat(e.username),participants:[f.username,e.username],name:e.first_name+" "+e.last_name,avatar:e.username.charAt(0).toUpperCase()};se(t),setFoundUsers([]),ce("")})(e),className:"p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:(0,Yn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Yn.jsx)("div",{className:"w-8 h-8 bg-emerald-500 text-white rounded-full flex items-center justify-center font-semibold",children:e.username.charAt(0).toUpperCase()}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsxs)("p",{className:"font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,Yn.jsxs)("p",{className:"text-sm text-gray-500",children:["@",e.username]})]})]})},e.username)))})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Recent Conversations"}),0===le.length?(0,Yn.jsx)("p",{className:"text-gray-500 text-center",children:"No conversations yet. Search for users to start messaging!"}):(0,Yn.jsx)("div",{className:"space-y-2",children:le.map((e=>(0,Yn.jsx)("div",{onClick:()=>se(e),className:"p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:(0,Yn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Yn.jsx)("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-semibold",children:e.avatar}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,Yn.jsx)("p",{className:"text-sm text-gray-500",children:"Click to view messages"})]})]})},e.id)))})]})]})]})}),ve&&(0,Yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Yn.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-96 overflow-hidden",children:[(0,Yn.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Yn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Yn.jsx)("h2",{className:"text-lg font-semibold",children:"Order Tracking"}),(0,Yn.jsx)("button",{onClick:()=>je(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),(0,Yn.jsx)("div",{className:"p-4 overflow-y-auto max-h-80",children:0===we.length?(0,Yn.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No orders found"}):(0,Yn.jsx)("div",{className:"space-y-4",children:we.map((e=>(0,Yn.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsxs)("h3",{className:"font-semibold text-gray-900",children:["Order #",e.id.slice(-8)]}),(0,Yn.jsx)("p",{className:"text-sm text-gray-600",children:new Date(e.created_at).toLocaleDateString()})]}),(0,Yn.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat("delivered"===e.status||"completed"===e.status?"bg-green-100 text-green-800":"in_transit"===e.status||"held_in_escrow"===e.status?"bg-blue-100 text-blue-800":"confirmed"===e.status||"pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:aa(e.status)})]}),(0,Yn.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:[(0,Yn.jsxs)("p",{children:[(0,Yn.jsx)("strong",{children:"Total:"})," \u20a6",e.total_amount.toLocaleString()]}),(0,Yn.jsxs)("p",{children:[(0,Yn.jsx)("strong",{children:"Items:"})," ",e.items.length," item(s)"]}),(0,Yn.jsxs)("p",{children:[(0,Yn.jsx)("strong",{children:"Delivery:"})," ",e.delivery_address]})]}),(0,Yn.jsx)("div",{className:"space-y-1",children:e.items.map(((e,t)=>(0,Yn.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Yn.jsxs)("span",{children:[e.title," \xd7 ",e.quantity]}),(0,Yn.jsxs)("span",{children:["\u20a6",e.total.toLocaleString()]})]},t)))})]},e.id)))})})]})}),Ae&&f&&"agent"===f.role&&(0,Yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Yn.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[(0,Yn.jsx)("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-pink-50",children:(0,Yn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"\ud83d\udccd Add Drop-off Location"}),(0,Yn.jsx)("p",{className:"text-gray-600 mt-1",children:"Create a convenient pickup location for buyers"})]}),(0,Yn.jsx)("button",{onClick:()=>De(!1),className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:"\xd7"})]})}),(0,Yn.jsx)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:(0,Yn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=new FormData(e.target),r={name:t.get("name"),address:t.get("address"),city:t.get("city"),state:t.get("state"),country:t.get("country")||"Nigeria",contact_person:t.get("contact_person"),contact_phone:t.get("contact_phone"),operating_hours:t.get("operating_hours"),description:t.get("description")};try{const t=localStorage.getItem("token"),n=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/dropoff-locations"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(r)});if(n.ok){const t=await n.json();alert('Drop-off location "'.concat(t.location.name,'" created successfully!')),Oe((e=>[...e,{id:t.location.id,name:t.location.name,address:t.location.address,city:t.location.city,state:t.location.state}])),De(!1),e.target.reset()}else{const e=await n.json();alert("Error: ".concat(e.detail))}}catch(n){console.error("Error creating drop-off location:",n),alert("Error creating drop-off location. Please try again.")}},className:"space-y-6",children:[(0,Yn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location Name *"}),(0,Yn.jsx)("input",{type:"text",name:"name",required:!0,placeholder:"e.g., Mile 12 Market, Kano Central Market",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),(0,Yn.jsxs)("select",{name:"state",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[(0,Yn.jsx)("option",{value:"",children:"Select State"}),(0,Yn.jsx)("option",{value:"Lagos",children:"Lagos"}),(0,Yn.jsx)("option",{value:"Kano",children:"Kano"}),(0,Yn.jsx)("option",{value:"Anambra",children:"Anambra"}),(0,Yn.jsx)("option",{value:"Rivers",children:"Rivers"}),(0,Yn.jsx)("option",{value:"Kaduna",children:"Kaduna"}),(0,Yn.jsx)("option",{value:"Oyo",children:"Oyo"}),(0,Yn.jsx)("option",{value:"Delta",children:"Delta"}),(0,Yn.jsx)("option",{value:"Imo",children:"Imo"}),(0,Yn.jsx)("option",{value:"Ogun",children:"Ogun"}),(0,Yn.jsx)("option",{value:"FCT",children:"FCT Abuja"}),(0,Yn.jsx)("option",{value:"Cross River",children:"Cross River"}),(0,Yn.jsx)("option",{value:"Plateau",children:"Plateau"}),(0,Yn.jsx)("option",{value:"Abia",children:"Abia"}),(0,Yn.jsx)("option",{value:"Enugu",children:"Enugu"}),(0,Yn.jsx)("option",{value:"Benue",children:"Benue"}),(0,Yn.jsx)("option",{value:"Edo",children:"Edo"}),(0,Yn.jsx)("option",{value:"Kwara",children:"Kwara"}),(0,Yn.jsx)("option",{value:"Akwa Ibom",children:"Akwa Ibom"}),(0,Yn.jsx)("option",{value:"Osun",children:"Osun"}),(0,Yn.jsx)("option",{value:"Kogi",children:"Kogi"}),(0,Yn.jsx)("option",{value:"Zamfara",children:"Zamfara"}),(0,Yn.jsx)("option",{value:"Sokoto",children:"Sokoto"}),(0,Yn.jsx)("option",{value:"Kebbi",children:"Kebbi"}),(0,Yn.jsx)("option",{value:"Niger",children:"Niger"}),(0,Yn.jsx)("option",{value:"Jigawa",children:"Jigawa"}),(0,Yn.jsx)("option",{value:"Yobe",children:"Yobe"}),(0,Yn.jsx)("option",{value:"Borno",children:"Borno"}),(0,Yn.jsx)("option",{value:"Gombe",children:"Gombe"}),(0,Yn.jsx)("option",{value:"Bauchi",children:"Bauchi"}),(0,Yn.jsx)("option",{value:"Adamawa",children:"Adamawa"}),(0,Yn.jsx)("option",{value:"Taraba",children:"Taraba"}),(0,Yn.jsx)("option",{value:"Nasarawa",children:"Nasarawa"}),(0,Yn.jsx)("option",{value:"Ebonyi",children:"Ebonyi"}),(0,Yn.jsx)("option",{value:"Ekiti",children:"Ekiti"}),(0,Yn.jsx)("option",{value:"Ondo",children:"Ondo"}),(0,Yn.jsx)("option",{value:"Bayelsa",children:"Bayelsa"})]})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),(0,Yn.jsx)("input",{type:"text",name:"city",required:!0,placeholder:"e.g., Lagos, Kano, Onitsha",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),(0,Yn.jsx)("input",{type:"text",name:"country",defaultValue:"Nigeria",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-gray-50",readOnly:!0})]})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Address *"}),(0,Yn.jsx)("textarea",{name:"address",required:!0,rows:"3",placeholder:"e.g., Shop 45, Mile 12 International Market, Mile 12, Lagos State",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,Yn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),(0,Yn.jsx)("input",{type:"text",name:"contact_person",placeholder:"e.g., Mr. John Doe",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Phone"}),(0,Yn.jsx)("input",{type:"tel",name:"contact_phone",placeholder:"e.g., +234 801 234 5678",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Operating Hours"}),(0,Yn.jsx)("input",{type:"text",name:"operating_hours",placeholder:"e.g., 6:00 AM - 6:00 PM (Mon-Sat)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Notes"}),(0,Yn.jsx)("textarea",{name:"description",rows:"2",placeholder:"e.g., Near Gate 3, look for the blue sign",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,Yn.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Yn.jsx)("button",{type:"button",onClick:()=>De(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),(0,Yn.jsx)("button",{type:"submit",className:"flex-1 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium",children:"\ud83d\udccd Add Location"})]})]})})]})}),Wr&&Yr&&(0,Yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Yn.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[(0,Yn.jsx)("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-emerald-50 to-blue-50",children:(0,Yn.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:Yr.product_name||Yr.crop_type}),(0,Yn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Yn.jsxs)("div",{className:"text-3xl font-bold text-emerald-600",children:["\u20a6",Yr.price_per_unit,"/",Yr.unit||Yr.unit_of_measure||"kg",Yr.unit_specification&&(0,Yn.jsxs)("span",{className:"text-lg font-medium text-gray-600 ml-2",children:["(",Yr.unit_specification,")"]})]}),"preorder"===Yr.type&&(0,Yn.jsx)("div",{className:"bg-orange-500 text-white px-4 py-2 rounded-full text-sm font-bold",children:"\u26a1 PRE-ORDER"})]})]}),(0,Yn.jsx)("button",{onClick:Ws,className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:"\xd7"})]})}),(0,Yn.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[(0,Yn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Yn.jsxs)("div",{children:[Yr.images&&Yr.images.length>0?(0,Yn.jsx)("img",{src:Yr.images[0],alt:Yr.product_name||Yr.crop_type,className:"w-full h-64 object-cover rounded-lg shadow-lg mb-4"}):(0,Yn.jsx)("div",{className:"w-full h-64 bg-gradient-to-r from-gray-200 to-gray-300 flex items-center justify-center rounded-lg shadow-lg mb-4",children:(0,Yn.jsx)("span",{className:"text-gray-500 text-lg",children:"\ud83d\udce6 Product Image"})}),(0,Yn.jsxs)("div",{className:"mb-4",children:[(0,Yn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Product Description"}),(0,Yn.jsx)("p",{className:"text-gray-600 leading-relaxed",children:Yr.description||"High quality organic produce from certified farms. Fresh, nutritious, and carefully handled to ensure maximum freshness and quality."})]}),(0,Yn.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,Yn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Seller Information"}),Yr.farm_name&&(0,Yn.jsxs)("div",{className:"mb-2",children:[(0,Yn.jsx)("span",{className:"text-sm text-gray-600",children:"Farm:"}),(0,Yn.jsx)("div",{className:"font-medium text-gray-800",children:Yr.farm_name})]}),Yr.agent_username&&(0,Yn.jsxs)("div",{className:"mb-2",children:[(0,Yn.jsx)("span",{className:"text-sm text-gray-600",children:"Agent:"}),(0,Yn.jsxs)("div",{className:"font-medium text-blue-600",children:["@",Yr.agent_username]}),(0,Yn.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Yn.jsx)("span",{className:"text-yellow-400",children:"\u2605\u2605\u2605\u2605\u2606"}),(0,Yn.jsx)("span",{className:"text-sm text-gray-600 ml-2",children:"4.2/5 (Agent Rating)"})]})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("span",{className:"text-sm text-gray-600",children:"Location:"}),(0,Yn.jsxs)("div",{className:"font-medium text-gray-800",children:["\ud83d\udccd ",Yr.location]})]})]})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,Yn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Stock Information"}),(0,Yn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("span",{className:"text-sm text-gray-600",children:"Available:"}),(0,Yn.jsx)("div",{className:"font-semibold text-emerald-600",children:"preorder"===Yr.type?"".concat(Yr.available_stock||Yr.total_stock||100," ").concat(Yr.unit||"kg"):"".concat(Yr.quantity||"100"," ").concat(Yr.unit||"kg")})]}),"preorder"===Yr.type&&(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("span",{className:"text-sm text-gray-600",children:"Payment Required:"}),(0,Yn.jsx)("div",{className:"font-semibold text-blue-600",children:Yr.partial_payment_percentage?"".concat(Math.round(100*Yr.partial_payment_percentage),"%"):"100%"})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("span",{className:"text-sm text-gray-600",children:"Delivery:"}),(0,Yn.jsx)("div",{className:"font-semibold text-gray-700",children:new Date(Yr.delivery_date).toLocaleDateString()})]})]})]})]}),(0,Yn.jsxs)("div",{className:"p-4 bg-emerald-50 rounded-lg",children:[(0,Yn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Purchase Options"}),(0,Yn.jsxs)("div",{className:"mb-4 p-3 bg-emerald-100 rounded-lg border border-emerald-300",children:[(0,Yn.jsxs)("div",{className:"text-sm font-medium text-emerald-700",children:["Unit: ",Yr.unit||Yr.unit_of_measure||"kg",Yr.unit_specification&&(0,Yn.jsxs)("span",{className:"ml-2 text-emerald-600",children:["(",Yr.unit_specification,")"]})]}),(0,Yn.jsxs)("div",{className:"text-xs text-emerald-600 mt-1",children:["Select how many ",Yr.unit||Yr.unit_of_measure||"units"," you want to buy"]})]}),(0,Yn.jsxs)("div",{className:"space-y-4",children:[(0,Yn.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Quantity (Number of ",Yr.unit||Yr.unit_of_measure||"units",")"]}),(0,Yn.jsx)("input",{type:"number",min:"1",max:Yr.quantity||Yr.available_stock||Yr.total_stock||100,defaultValue:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",id:"detail-quantity",placeholder:"1, 2, 3..."}),(0,Yn.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Max available: ",Yr.quantity||Yr.available_stock||Yr.total_stock||100]})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Options"}),(()=>{const e=Yr.id||Yr._id,t=We[e];if(!t)return(0,Yn.jsx)("div",{className:"p-3 bg-gray-100 rounded-lg",children:(0,Yn.jsx)("div",{className:"text-gray-600",children:"Loading delivery options..."})});const r=t.supports_dropoff_delivery&&t.supports_shipping_delivery,n=t.supports_dropoff_delivery,a=t.supports_shipping_delivery;return(0,Yn.jsxs)("div",{className:"space-y-3",children:[r&&(0,Yn.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Yn.jsxs)("button",{type:"button",onClick:()=>$e("dropoff"),className:"p-3 rounded-lg border-2 transition-colors ".concat("dropoff"===Ye?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 bg-gray-50 text-gray-700 hover:bg-gray-100"),children:[(0,Yn.jsx)("div",{className:"text-sm font-medium",children:"\ud83d\udccd Drop-off Location"}),(0,Yn.jsx)("div",{className:"text-xs mt-1",children:t.delivery_costs.dropoff.is_free?"Free":"\u20a6".concat(t.delivery_costs.dropoff.cost)})]}),(0,Yn.jsxs)("button",{type:"button",onClick:()=>$e("shipping"),className:"p-3 rounded-lg border-2 transition-colors ".concat("shipping"===Ye?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 bg-gray-50 text-gray-700 hover:bg-gray-100"),children:[(0,Yn.jsx)("div",{className:"text-sm font-medium",children:"\ud83d\ude9a Home Delivery"}),(0,Yn.jsx)("div",{className:"text-xs mt-1",children:t.delivery_costs.shipping.is_free?"Free":"\u20a6".concat(t.delivery_costs.shipping.cost)})]})]}),("dropoff"===Ye||n&&!r)&&(0,Yn.jsxs)("div",{children:[(0,Yn.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",id:"detail-dropoff",children:[(0,Yn.jsx)("option",{value:"",children:"Select drop-off location"}),Le.map((e=>(0,Yn.jsxs)("option",{value:e.id,children:[e.name," - ",e.city,", ",e.state]},e.id)))]}),(0,Yn.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["\ud83d\udccd Pick up your order at a convenient market or location",t.delivery_costs.dropoff.cost>0&&(0,Yn.jsxs)("span",{className:"text-emerald-600 font-medium ml-2",children:["(\u20a6",t.delivery_costs.dropoff.cost," fee)"]})]})]}),("shipping"===Ye||a&&!r)&&(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",id:"detail-shipping-address",placeholder:"Enter your full delivery address...",rows:"3"}),(0,Yn.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["\ud83d\ude9a We'll deliver directly to your address",t.delivery_costs.shipping.cost>0&&(0,Yn.jsxs)("span",{className:"text-blue-600 font-medium ml-2",children:["(\u20a6",t.delivery_costs.shipping.cost," fee)"]})]})]}),t.delivery_notes&&(0,Yn.jsxs)("div",{className:"p-2 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,Yn.jsx)("div",{className:"text-xs font-medium text-yellow-800",children:"Delivery Notes:"}),(0,Yn.jsx)("div",{className:"text-xs text-yellow-700 mt-1",children:t.delivery_notes})]})]})})()]})]}),(0,Yn.jsx)("button",{onClick:()=>{var e;const t=parseFloat(null===(e=document.getElementById("detail-quantity"))||void 0===e?void 0:e.value)||1,r=Yr.unit||Yr.unit_of_measure||"kg",n=Yr.unit_specification||"standard",a=Yr.id||Yr._id,s=We[a];if(!s)return void alert("Unable to determine delivery options. Please try again.");let l=Ye;if(!s.supports_dropoff_delivery&&!s.supports_shipping_delivery)return void alert("This product has no available delivery methods. Please contact the supplier.");"dropoff"!==l||s.supports_dropoff_delivery?"shipping"!==l||s.supports_shipping_delivery||(l="dropoff"):l="shipping";let o=null;if("dropoff"===l){var i;const e=null===(i=document.getElementById("detail-dropoff"))||void 0===i?void 0:i.value;if(!e)return void alert("Please select a drop-off location");const t=Le.find((t=>t.id.toString()===e));if(!t)return void alert("Invalid drop-off location selected");o={type:"dropoff",dropoffLocation:t,cost:s.delivery_costs.dropoff.cost}}else if("shipping"===l){var c,d;const e=null===(c=document.getElementById("detail-shipping-address"))||void 0===c||null===(d=c.value)||void 0===d?void 0:d.trim();if(!e)return void alert("Please enter your delivery address");o={type:"shipping",shippingAddress:e,cost:s.delivery_costs.shipping.cost}}const m=u(u({},Yr),{},{cartQuantity:t,cartUnit:r,cartSpecification:n,deliveryMethod:l,deliveryDetails:o});"dropoff"===l?Js(m,t,r,n,"dropoff",o.dropoffLocation):Js(m,t,r,n,"platform",null,o.shippingAddress),Ws()},className:"w-full py-3 px-6 rounded-lg font-bold text-lg transition-colors ".concat("preorder"===Yr.type?"bg-orange-600 hover:bg-orange-700 text-white":"bg-emerald-600 hover:bg-emerald-700 text-white"),children:"preorder"===Yr.type?"\ud83d\uded2 Add Pre-order to Cart":"\ud83d\uded2 Add to Cart"}),f&&(0,Yn.jsx)("button",{onClick:()=>{!function(e,t){Ke({rating_type:e,rated_entity_id:t,rated_entity_username:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,order_id:arguments.length>3&&void 0!==arguments[3]?arguments[3]:null}),P(!0)}("product_rating",Yr.id||Yr._id,null,null)},className:"w-full mt-3 py-2 px-6 border-2 border-yellow-400 text-yellow-600 rounded-lg font-medium text-sm hover:bg-yellow-50 transition-colors",children:"\u2b50 Rate this Product"})]})]})]})]}),(0,Yn.jsxs)("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[(0,Yn.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"\ud83d\udd25 More Pre-Orders Available"}),(0,Yn.jsx)("div",{className:"flex space-x-4 overflow-x-auto pb-4",children:L.filter((e=>"preorder"===e.type&&(e.id||e._id)!==(Yr.id||Yr._id))).slice(0,3).map(((e,t)=>(0,Yn.jsxs)("div",{className:"flex-shrink-0 w-48 bg-orange-50 rounded-lg p-3 border border-orange-200 cursor-pointer",onClick:()=>$r(e),children:[(0,Yn.jsx)("h4",{className:"font-bold text-sm text-gray-900 mb-1",children:e.product_name||e.crop_type}),(0,Yn.jsxs)("div",{className:"text-orange-600 font-bold",children:["\u20a6",e.price_per_unit,"/",e.unit||"kg"]})]},t)))})]})]})]})}),E&&Je&&(0,Yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Yn.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Yn.jsx)("h2",{className:"text-xl font-semibold",children:"Rate & Review"}),(0,Yn.jsx)("button",{onClick:hs,className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),(0,Yn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=new FormData(e.target),r=parseInt(t.get("rating")),n=t.get("comment");try{await(async e=>{try{const t=localStorage.getItem("token"),r=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/ratings"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)});if(r.ok){const t=await r.json();return"user_rating"===e.rating_type?await ps(e.rated_entity_id):"product_rating"===e.rating_type&&await fs(e.rated_entity_id),t}{const e=await r.json();throw new Error(e.detail||"Failed to submit rating")}}catch(t){throw console.error("Error submitting rating:",t),t}})(u(u({},Je),{},{rating_value:r,comment:n||null})),alert("Rating submitted successfully!"),hs(),ds()}catch(a){alert("Failed to submit rating: "+a.message)}},children:[(0,Yn.jsxs)("div",{className:"mb-4",children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Rating"}),(0,Yn.jsx)("div",{className:"flex space-x-1",children:[1,2,3,4,5].map((e=>(0,Yn.jsxs)("label",{className:"cursor-pointer",children:[(0,Yn.jsx)("input",{type:"radio",name:"rating",value:e,required:!0,className:"hidden"}),(0,Yn.jsx)("span",{className:"text-2xl text-gray-300 hover:text-yellow-400 transition-colors",children:"\u2b50"})]},e)))})]}),(0,Yn.jsxs)("div",{className:"mb-6",children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Review (Optional)"}),(0,Yn.jsx)("textarea",{name:"comment",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Share your experience..."})]}),(0,Yn.jsxs)("div",{className:"flex space-x-3",children:[(0,Yn.jsx)("button",{type:"button",onClick:hs,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Yn.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700",children:"Submit Rating"})]})]})]})}),et&&f&&"logistics"===f.role&&(0,Yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Yn.jsxs)("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Yn.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Yn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Yn.jsx)("h2",{className:"text-2xl font-semibold",children:"Driver Management"}),(0,Yn.jsx)("button",{onClick:()=>tt(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),(0,Yn.jsxs)("div",{className:"p-6",children:[(0,Yn.jsxs)("div",{className:"mb-8 p-6 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg",children:[(0,Yn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Purchase Driver Slots"}),(0,Yn.jsx)("p",{className:"text-gray-600 mb-4",children:"Each driver slot costs \u20a6500/month with a 14-day free trial. Purchase slots to add drivers to your fleet."}),(0,Yn.jsxs)("div",{className:"flex space-x-4",children:[(0,Yn.jsx)("input",{type:"number",min:"1",max:"10",placeholder:"Number of slots",className:"px-3 py-2 border border-gray-300 rounded-lg",id:"slots-count"}),(0,Yn.jsx)("button",{onClick:async()=>{const e=parseInt(document.getElementById("slots-count").value);if(e>=1&&e<=10)try{const t=await(async e=>{try{const t=localStorage.getItem("token"),r=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/driver-slots/purchase"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({slots_count:e})});if(r.ok){const e=await r.json();return await xs(),e}{const e=await r.json();throw new Error(e.detail||"Failed to purchase driver slots")}}catch(t){throw console.error("Error purchasing driver slots:",t),t}})(e);alert("Successfully purchased ".concat(t.slots_created," driver slots!\nTotal cost: ").concat(t.total_monthly_cost,"/month\n14-day free trial included"))}catch(t){alert("Error: "+t.message)}else alert("Please enter a valid number of slots (1-10)")},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Purchase Slots"})]})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Yn.jsx)("h3",{className:"text-lg font-semibold",children:"Your Driver Slots"}),(0,Yn.jsx)("button",{onClick:xs,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Refresh"})]}),0===rt.length?(0,Yn.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,Yn.jsx)("p",{children:"No driver slots found. Purchase slots to get started!"})}):(0,Yn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:rt.map((e=>(0,Yn.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Yn.jsxs)("h4",{className:"font-medium",children:["Slot #",e.slot_number]}),(0,Yn.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat("trial"===e.subscription_status?"bg-green-100 text-green-800":"active"===e.subscription_status?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"),children:e.subscription_status})]}),e.driver_id?(0,Yn.jsxs)("div",{className:"space-y-2",children:[(0,Yn.jsxs)("div",{className:"text-sm",children:[(0,Yn.jsx)("strong",{children:"Driver:"})," ",e.driver_name]}),(0,Yn.jsxs)("div",{className:"text-sm",children:[(0,Yn.jsx)("strong",{children:"Vehicle:"})," ",e.vehicle_make_model," (",e.plate_number,")"]}),(0,Yn.jsxs)("div",{className:"text-sm",children:[(0,Yn.jsx)("strong",{children:"Rating:"})," \u2b50 ",e.average_rating,"/5.0"]}),(0,Yn.jsxs)("div",{className:"text-sm",children:[(0,Yn.jsx)("strong",{children:"Trips:"})," ",e.total_trips]})]}):(0,Yn.jsxs)("div",{className:"space-y-3",children:[(0,Yn.jsx)("p",{className:"text-gray-500 text-sm",children:"No driver assigned"}),(0,Yn.jsx)("button",{onClick:()=>{const t=prompt("Driver Name:"),r=prompt("Plate Number:"),n=prompt("Vehicle Make/Model:"),a=prompt("Vehicle Color:"),s=prompt("Date of Birth (YYYY-MM-DD):"),l=prompt("Address:");t&&r&&n&&a&&s&&l&&(async(e,t)=>{try{const r=localStorage.getItem("token"),n=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/driver-slots/").concat(e,"/assign-driver"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(t)});if(n.ok){const e=await n.json();return await xs(),e}{const e=await n.json();throw new Error(e.detail||"Failed to assign driver to slot")}}catch(r){throw console.error("Error assigning driver:",r),r}})(e.id,{driver_name:t,vehicle_type:"motorcycle",plate_number:r,vehicle_make_model:n,vehicle_color:a,date_of_birth:s,address:l}).then((e=>{alert("Driver assigned successfully!\nRegistration link: ".concat(e.registration_link))})).catch((e=>{alert("Error: "+e.message)}))},className:"w-full px-3 py-2 bg-emerald-600 text-white rounded text-sm hover:bg-emerald-700",children:"Assign Driver"})]})]},e.id)))})]})]})]})}),lt&&(0,Yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Yn.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Yn.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Yn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Yn.jsx)("h2",{className:"text-2xl font-semibold",children:"\ud83d\ude97 Find Drivers"}),(0,Yn.jsx)("button",{onClick:()=>ot(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),(0,Yn.jsxs)("div",{className:"p-6",children:[(0,Yn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Yn.jsx)("input",{type:"text",placeholder:"Location...",value:it.location,onChange:e=>ct((t=>u(u({},t),{},{location:e.target.value}))),className:"px-3 py-2 border border-gray-300 rounded-lg"}),(0,Yn.jsxs)("select",{value:it.vehicle_type,onChange:e=>ct((t=>u(u({},t),{},{vehicle_type:e.target.value}))),className:"px-3 py-2 border border-gray-300 rounded-lg",children:[(0,Yn.jsx)("option",{value:"",children:"All Vehicle Types"}),(0,Yn.jsx)("option",{value:"motorcycle",children:"Motorcycle"}),(0,Yn.jsx)("option",{value:"car",children:"Car"}),(0,Yn.jsx)("option",{value:"van",children:"Van"}),(0,Yn.jsx)("option",{value:"truck",children:"Truck"})]}),(0,Yn.jsxs)("select",{value:it.min_rating||"",onChange:e=>ct((t=>u(u({},t),{},{min_rating:e.target.value?parseFloat(e.target.value):null}))),className:"px-3 py-2 border border-gray-300 rounded-lg",children:[(0,Yn.jsx)("option",{value:"",children:"Any Rating"}),(0,Yn.jsx)("option",{value:"4.5",children:"4.5+ Stars"}),(0,Yn.jsx)("option",{value:"4.0",children:"4.0+ Stars"}),(0,Yn.jsx)("option",{value:"3.5",children:"3.5+ Stars"})]})]}),(0,Yn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Yn.jsx)("h3",{className:"text-lg font-semibold",children:"Available Drivers"}),(0,Yn.jsx)("button",{onClick:()=>gs(it),className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700",children:"Search Drivers"})]}),0===at.length?(0,Yn.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,Yn.jsx)("p",{children:'Click "Search Drivers" to find available drivers'})}):(0,Yn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:at.map((e=>{var t,r,n,a;return(0,Yn.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,Yn.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Yn.jsx)("div",{className:"w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center",children:(0,Yn.jsx)("span",{className:"text-emerald-600 font-semibold",children:(null===(t=e.name)||void 0===t?void 0:t.charAt(0))||"D"})}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("h4",{className:"font-semibold",children:e.name}),(0,Yn.jsxs)("div",{className:"flex items-center",children:[(0,Yn.jsx)("span",{className:"text-yellow-400",children:"\u2b50"}),(0,Yn.jsxs)("span",{className:"ml-1 text-sm text-gray-600",children:[e.average_rating.toFixed(1)," (",e.total_trips," trips)"]})]})]})]}),(0,Yn.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,Yn.jsxs)("div",{className:"text-sm",children:[(0,Yn.jsx)("strong",{children:"Vehicle:"})," ",(null===(r=e.vehicle_info)||void 0===r?void 0:r.make_model)||"N/A"]}),(0,Yn.jsxs)("div",{className:"text-sm",children:[(0,Yn.jsx)("strong",{children:"Type:"})," ",(null===(n=e.vehicle_info)||void 0===n?void 0:n.type)||"N/A"]}),(0,Yn.jsxs)("div",{className:"text-sm",children:[(0,Yn.jsx)("strong",{children:"Plate:"})," ",(null===(a=e.vehicle_info)||void 0===a?void 0:a.plate_number)||"N/A"]}),e.logistics_business&&(0,Yn.jsxs)("div",{className:"text-sm",children:[(0,Yn.jsx)("strong",{children:"Company:"})," @",e.logistics_business]})]}),(0,Yn.jsxs)("div",{className:"flex space-x-2",children:[(0,Yn.jsx)("button",{onClick:()=>{alert("Driver: ".concat(e.name,"\nContact through platform messaging"))},className:"flex-1 px-3 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"View Profile"}),(0,Yn.jsx)("button",{onClick:()=>{alert("Request sent to ".concat(e.name,"!"))},className:"flex-1 px-3 py-2 bg-emerald-600 text-white rounded text-sm hover:bg-emerald-700",children:"Request Driver"})]})]},e.id)}))})]})]})}),dt&&f&&(0,Yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Yn.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Yn.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Yn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Yn.jsx)("h2",{className:"text-2xl font-semibold",children:"\ud83d\udcb0 My Wallet"}),(0,Yn.jsx)("button",{onClick:()=>ut(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),(0,Yn.jsxs)("div",{className:"p-6",children:[(0,Yn.jsxs)("div",{className:"mb-8 p-6 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg",children:[(0,Yn.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Wallet Balance"}),(0,Yn.jsxs)("div",{className:"text-3xl font-bold mb-4",children:["\u20a6",mt?mt.balance.toLocaleString():"0"]}),(0,Yn.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("div",{className:"text-purple-200",children:"Total Funded"}),(0,Yn.jsxs)("div",{className:"font-medium",children:["\u20a6",mt?mt.total_funded.toLocaleString():"0"]})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("div",{className:"text-purple-200",children:"Total Spent"}),(0,Yn.jsxs)("div",{className:"font-medium",children:["\u20a6",mt?mt.total_spent.toLocaleString():"0"]})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("div",{className:"text-purple-200",children:"Withdrawn"}),(0,Yn.jsxs)("div",{className:"font-medium",children:["\u20a6",mt?mt.total_withdrawn.toLocaleString():"0"]})]})]})]}),(0,Yn.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[(0,Yn.jsxs)("button",{onClick:()=>bt(!0),className:"p-4 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:[(0,Yn.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udcb3"}),(0,Yn.jsx)("div",{className:"font-medium",children:"Fund Wallet"})]}),(0,Yn.jsxs)("button",{onClick:()=>jt(!0),className:"p-4 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:[(0,Yn.jsx)("div",{className:"text-2xl mb-2",children:"\ud83c\udfe6"}),(0,Yn.jsx)("div",{className:"font-medium",children:"Withdraw"})]}),(0,Yn.jsxs)("button",{onClick:()=>Pt(!0),className:"p-4 bg-pink-100 text-pink-700 rounded-lg hover:bg-pink-200 transition-colors",children:[(0,Yn.jsx)("div",{className:"text-2xl mb-2",children:"\ud83c\udf81"}),(0,Yn.jsx)("div",{className:"font-medium",children:"Buy Gift Card"})]}),(0,Yn.jsxs)("button",{onClick:()=>Nt(!0),className:"p-4 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[(0,Yn.jsx)("div",{className:"text-2xl mb-2",children:"\ud83c\udfe7"}),(0,Yn.jsx)("div",{className:"font-medium",children:"Add Bank"})]})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Recent Transactions"}),0===ft.length?(0,Yn.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,Yn.jsx)("p",{children:"No transactions yet. Start by funding your wallet!"})}):(0,Yn.jsx)("div",{className:"space-y-3",children:ft.slice(0,10).map((e=>(0,Yn.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,Yn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Yn.jsx)("div",{className:"text-2xl ".concat(e.transaction_type.includes("funding")||e.transaction_type.includes("redemption")?"text-green-600":"text-red-600"),children:e.transaction_type.includes("funding")?"\u2b07\ufe0f":e.transaction_type.includes("withdrawal")?"\u2b06\ufe0f":e.transaction_type.includes("gift_card")?"\ud83c\udf81":"\ud83d\udcb0"}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("div",{className:"font-medium",children:e.description}),(0,Yn.jsxs)("div",{className:"text-sm text-gray-500",children:[new Date(e.created_at).toLocaleDateString()," \u2022 ",e.reference]})]})]}),(0,Yn.jsxs)("div",{className:"text-right ".concat(e.transaction_type.includes("funding")||e.transaction_type.includes("redemption")?"text-green-600":"text-red-600"),children:[(0,Yn.jsxs)("div",{className:"font-semibold",children:[e.transaction_type.includes("funding")||e.transaction_type.includes("redemption")?"+":"-","\u20a6",e.amount.toLocaleString()]}),(0,Yn.jsxs)("div",{className:"text-xs text-gray-500",children:["Status: ",e.status]})]})]},e.id)))})]})]})]})}),yt&&(0,Yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-60 flex items-center justify-center p-4",children:(0,Yn.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Yn.jsx)("h3",{className:"text-xl font-semibold",children:"\ud83d\udcb3 Fund Wallet"}),(0,Yn.jsx)("button",{onClick:()=>bt(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),(0,Yn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=new FormData(e.target),r=t.get("amount"),n=t.get("funding_method"),a=t.get("description");try{await(async(e,t,r)=>{try{const n=localStorage.getItem("token"),a=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/wallet/fund"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({transaction_type:"wallet_funding",amount:parseFloat(e),description:r,funding_method:t})});if(a.ok){const e=await a.json();return await ys(),await bs(),e}{const e=await a.json();throw new Error(e.detail||"Failed to fund wallet")}}catch(n){throw console.error("Error funding wallet:",n),n}})(r,n,a),alert("Successfully funded wallet with \u20a6".concat(parseFloat(r).toLocaleString())),bt(!1)}catch(s){alert("Failed to fund wallet: "+s.message)}},children:[(0,Yn.jsxs)("div",{className:"space-y-4",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount (\u20a6)"}),(0,Yn.jsx)("input",{type:"number",name:"amount",min:"100",max:"500000",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Enter amount to fund"})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Funding Method"}),(0,Yn.jsxs)("select",{name:"funding_method",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[(0,Yn.jsx)("option",{value:"",children:"Select funding method"}),(0,Yn.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"}),(0,Yn.jsx)("option",{value:"debit_card",children:"Debit Card"}),(0,Yn.jsx)("option",{value:"ussd",children:"USSD"}),(0,Yn.jsx)("option",{value:"bank_deposit",children:"Bank Deposit"})]})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),(0,Yn.jsx)("input",{type:"text",name:"description",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Wallet funding"})]})]}),(0,Yn.jsxs)("div",{className:"flex space-x-3 mt-6",children:[(0,Yn.jsx)("button",{type:"button",onClick:()=>bt(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Yn.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Fund Wallet"})]})]})]})}),kt&&f&&(0,Yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Yn.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Yn.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Yn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Yn.jsx)("h2",{className:"text-2xl font-semibold",children:"\ud83c\udf81 Gift Cards"}),(0,Yn.jsx)("button",{onClick:()=>_t(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),(0,Yn.jsxs)("div",{className:"p-6",children:[(0,Yn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[(0,Yn.jsxs)("button",{onClick:()=>Pt(!0),className:"p-6 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-lg hover:from-pink-600 hover:to-purple-700 transition-colors",children:[(0,Yn.jsx)("div",{className:"text-3xl mb-2",children:"\ud83c\udf81"}),(0,Yn.jsx)("div",{className:"text-lg font-semibold",children:"Create Gift Card"}),(0,Yn.jsx)("div",{className:"text-sm text-pink-100",children:"Purchase gift cards for others"})]}),(0,Yn.jsxs)("button",{onClick:()=>Tt(!0),className:"p-6 bg-gradient-to-r from-green-500 to-blue-600 text-white rounded-lg hover:from-green-600 hover:to-blue-700 transition-colors",children:[(0,Yn.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\udcb0"}),(0,Yn.jsx)("div",{className:"text-lg font-semibold",children:"Redeem Gift Card"}),(0,Yn.jsx)("div",{className:"text-sm text-green-100",children:"Add gift card value to wallet"})]})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Yn.jsx)("h3",{className:"text-lg font-semibold",children:"My Gift Cards"}),(0,Yn.jsx)("button",{onClick:js,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Refresh"})]}),0===St.length?(0,Yn.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,Yn.jsx)("p",{children:"No gift cards purchased yet. Create your first gift card!"})}):(0,Yn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:St.map((e=>(0,Yn.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gradient-to-br from-pink-50 to-purple-50",children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Yn.jsx)("div",{className:"text-2xl",children:"\ud83c\udf81"}),(0,Yn.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat("active"===e.status?"bg-green-100 text-green-800":"redeemed"===e.status?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"),children:e.status})]}),(0,Yn.jsxs)("div",{className:"space-y-2",children:[(0,Yn.jsx)("div",{className:"font-mono text-sm font-semibold text-purple-600",children:e.card_code}),(0,Yn.jsxs)("div",{className:"text-lg font-bold",children:["\u20a6",e.amount.toLocaleString()]}),(0,Yn.jsxs)("div",{className:"text-sm text-gray-600",children:["Balance: \u20a6",e.balance.toLocaleString()]}),e.recipient_name&&(0,Yn.jsxs)("div",{className:"text-sm text-gray-600",children:["For: ",e.recipient_name]}),(0,Yn.jsxs)("div",{className:"text-xs text-gray-500",children:["Expires: ",new Date(e.expiry_date).toLocaleDateString()]})]})]},e.id)))})]})]})]})}),Et&&(0,Yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-60 flex items-center justify-center p-4",children:(0,Yn.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Yn.jsx)("h3",{className:"text-xl font-semibold",children:"\ud83c\udf81 Create Gift Card"}),(0,Yn.jsx)("button",{onClick:()=>Pt(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),(0,Yn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=new FormData(e.target),r=t.get("amount"),n=t.get("recipient_email"),a=t.get("recipient_name"),s=t.get("message");try{const e=await(async(e,t,r,n)=>{try{const a=localStorage.getItem("token"),s=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/wallet/gift-cards"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({amount:parseFloat(e),recipient_email:t||null,recipient_name:r||null,message:n||null})});if(s.ok){const e=await s.json();return await ys(),await js(),e}{const e=await s.json();throw new Error(e.detail||"Failed to create gift card")}}catch(a){throw console.error("Error creating gift card:",a),a}})(r,n,a,s);alert("Gift card created successfully!\nCard Code: ".concat(e.gift_card.card_code,"\nAmount: \u20a6").concat(parseFloat(r).toLocaleString())),Pt(!1)}catch(l){alert("Failed to create gift card: "+l.message)}},children:[(0,Yn.jsxs)("div",{className:"space-y-4",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gift Card Amount (\u20a6)"}),(0,Yn.jsx)("input",{type:"number",name:"amount",min:"100",max:"100000",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500",placeholder:"Enter gift card value"}),(0,Yn.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Min: \u20a6100, Max: \u20a6100,000"})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipient Name (Optional)"}),(0,Yn.jsx)("input",{type:"text",name:"recipient_name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500",placeholder:"Who is this gift card for?"})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipient Email (Optional)"}),(0,Yn.jsx)("input",{type:"email",name:"recipient_email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500",placeholder:"Recipient's email address"})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gift Message (Optional)"}),(0,Yn.jsx)("textarea",{name:"message",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500",placeholder:"Add a personal message..."})]})]}),(0,Yn.jsxs)("div",{className:"flex space-x-3 mt-6",children:[(0,Yn.jsx)("button",{type:"button",onClick:()=>Pt(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Yn.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700",children:"Create Gift Card"})]})]})]})}),Rt&&(0,Yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-60 flex items-center justify-center p-4",children:(0,Yn.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Yn.jsx)("h3",{className:"text-xl font-semibold",children:"\ud83d\udcb0 Redeem Gift Card"}),(0,Yn.jsx)("button",{onClick:()=>{Tt(!1),Ot(null)},className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]}),(0,Yn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=new FormData(e.target),r=t.get("card_code"),n=t.get("amount");try{const e=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const r=localStorage.getItem("token"),n=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/wallet/gift-cards/redeem"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({card_code:e.toUpperCase(),amount:t?parseFloat(t):null})});if(n.ok){const e=await n.json();return await ys(),e}{const e=await n.json();throw new Error(e.detail||"Failed to redeem gift card")}}catch(r){throw console.error("Error redeeming gift card:",r),r}}(r,n);alert("Gift card redeemed successfully!\nRedeemed: \u20a6".concat(e.redeemed_amount.toLocaleString(),"\nNew wallet balance: \u20a6").concat(e.new_wallet_balance.toLocaleString())),Tt(!1),Ot(null)}catch(a){alert("Failed to redeem gift card: "+a.message)}},children:[(0,Yn.jsxs)("div",{className:"space-y-4",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gift Card Code"}),(0,Yn.jsxs)("div",{className:"flex space-x-2",children:[(0,Yn.jsx)("input",{type:"text",name:"card_code",required:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 uppercase",placeholder:"GIFT-XXXXXXXX",onChange:async e=>{const t=e.target.value.trim();t.length>=8&&await ws(t)}}),(0,Yn.jsx)("button",{type:"button",onClick:async()=>{const e=document.querySelector('input[name="card_code"]').value;e&&await ws(e)},className:"px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Check"})]})]}),Lt&&(0,Yn.jsx)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,Yn.jsxs)("div",{className:"space-y-2",children:[(0,Yn.jsx)("div",{className:"font-semibold text-green-800",children:"Gift Card Found!"}),(0,Yn.jsxs)("div",{className:"text-sm text-green-700",children:["Available Balance: \u20a6",Lt.balance.toLocaleString()]}),(0,Yn.jsxs)("div",{className:"text-sm text-green-600",children:["Status: ",Lt.status," \u2022 Expires: ",new Date(Lt.expiry_date).toLocaleDateString()]}),Lt.message&&(0,Yn.jsxs)("div",{className:"text-sm text-green-600 italic",children:['"',Lt.message,'"']})]})}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount to Redeem (Optional)"}),(0,Yn.jsx)("input",{type:"number",name:"amount",min:"1",max:Lt?Lt.balance:1e5,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Leave empty to redeem full amount"}),(0,Yn.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to redeem the full gift card balance"})]})]}),(0,Yn.jsxs)("div",{className:"flex space-x-3 mt-6",children:[(0,Yn.jsx)("button",{type:"button",onClick:()=>{Tt(!1),Ot(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Yn.jsx)("button",{type:"submit",disabled:!Lt,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:"Redeem Gift Card"})]})]})]})}),Yt&&Jt&&Jt.requires_kyc&&"not_started"===Jt.status&&(0,Yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-60 flex items-center justify-center p-4",children:(0,Yn.jsx)("div",{className:"bg-white rounded-lg max-w-md w-full p-6 border-2 border-yellow-200",children:(0,Yn.jsxs)("div",{className:"text-center",children:[(0,Yn.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udd10"}),(0,Yn.jsx)("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Complete Your KYC"}),(0,Yn.jsx)("p",{className:"text-gray-600 mb-4",children:"Complete your KYC verification to start receiving payments on the platform."}),(0,Yn.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:(0,Yn.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,Yn.jsx)("strong",{children:"Important:"})," KYC completion is required to receive payments from buyers. Without KYC, you can browse and purchase but cannot receive funds."]})}),(0,Yn.jsxs)("div",{className:"flex space-x-3",children:[(0,Yn.jsx)("button",{onClick:()=>$t(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Later"}),(0,Yn.jsx)("button",{onClick:()=>{$t(!1),alert("KYC completion form will open here. This includes:\n\nFor Registered Businesses:\n- Business Registration Number\n- TIN Certificate\n- Certificate of Incorporation\n\nFor Others (Farmers/Agents/Unregistered):\n- NIN or BVN\n- Headshot photo (camera)\n- National ID upload\n- Utility bill")},className:"flex-1 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700",children:"Complete KYC"})]})]})})}),wr&&f&&"farmer"===f.role&&(0,Yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Yn.jsxs)("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Yn.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Yn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Yn.jsx)("h2",{className:"text-2xl font-semibold",children:"\ud83c\udf3e Farmer Dashboard"}),(0,Yn.jsx)("button",{onClick:()=>Nr(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),Er?(0,Yn.jsxs)("div",{className:"p-6",children:[(0,Yn.jsxs)("div",{className:"mb-8 p-6 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg",children:[(0,Yn.jsxs)("h3",{className:"text-lg font-semibold mb-2",children:["Welcome, ",Er.farmer_profile.name,"!"]}),(0,Yn.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("div",{className:"text-green-200",children:"KYC Status"}),(0,Yn.jsx)("div",{className:"font-medium capitalize",children:Er.farmer_profile.kyc_status})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("div",{className:"text-green-200",children:"Rating"}),(0,Yn.jsxs)("div",{className:"font-medium",children:["\u2b50 ",Er.farmer_profile.average_rating,"/5"]})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("div",{className:"text-green-200",children:"Products"}),(0,Yn.jsx)("div",{className:"font-medium",children:Er.business_metrics.total_products})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("div",{className:"text-green-200",children:"Revenue"}),(0,Yn.jsxs)("div",{className:"font-medium",children:["\u20a6",Er.business_metrics.total_revenue.toLocaleString()]})]})]})]}),(0,Yn.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[(0,Yn.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,Yn.jsx)("div",{className:"text-2xl text-blue-600 mb-2",children:"\ud83d\udce6"}),(0,Yn.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:Er.business_metrics.active_products}),(0,Yn.jsx)("div",{className:"text-sm text-blue-600",children:"Active Products"})]}),(0,Yn.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,Yn.jsx)("div",{className:"text-2xl text-green-600 mb-2",children:"\ud83c\udf3e"}),(0,Yn.jsx)("div",{className:"text-2xl font-bold text-green-600",children:Er.business_metrics.total_farmlands}),(0,Yn.jsx)("div",{className:"text-sm text-green-600",children:"Farmlands"})]}),(0,Yn.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[(0,Yn.jsx)("div",{className:"text-2xl text-yellow-600 mb-2",children:"\ud83d\udccb"}),(0,Yn.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:Er.business_metrics.pending_orders}),(0,Yn.jsx)("div",{className:"text-sm text-yellow-600",children:"Pending Orders"})]}),(0,Yn.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,Yn.jsx)("div",{className:"text-2xl text-purple-600 mb-2",children:"\ud83d\udccf"}),(0,Yn.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:Er.business_metrics.total_hectares}),(0,Yn.jsx)("div",{className:"text-sm text-purple-600",children:"Total Hectares"})]})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Recent Orders"}),0===Er.recent_orders.length?(0,Yn.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,Yn.jsx)("p",{children:"No recent orders. Start listing your products to get orders!"})}):(0,Yn.jsx)("div",{className:"space-y-3",children:Er.recent_orders.map(((e,t)=>(0,Yn.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("div",{className:"font-medium",children:e.product}),(0,Yn.jsxs)("div",{className:"text-sm text-gray-500",children:["Buyer: ",e.buyer]})]}),(0,Yn.jsxs)("div",{className:"text-right",children:[(0,Yn.jsxs)("div",{className:"font-semibold",children:["\u20a6",e.amount.toLocaleString()]}),(0,Yn.jsx)("div",{className:"text-xs px-2 py-1 rounded ".concat("completed"===e.status||"delivered"===e.status?"bg-green-100 text-green-800":"pending"===e.status||"confirmed"===e.status?"bg-yellow-100 text-yellow-800":"held_in_escrow"===e.status||"in_transit"===e.status?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:aa(e.status)})]})]},t)))})]})]}):(0,Yn.jsx)("div",{className:"p-6",children:(0,Yn.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Yn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500 mx-auto mb-4"}),(0,Yn.jsx)("p",{children:"Loading dashboard data..."})]})})]})}),kr&&f&&"agent"===f.role&&(0,Yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Yn.jsxs)("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Yn.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Yn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Yn.jsx)("h2",{className:"text-2xl font-semibold",children:"\ud83e\udd1d Agent Dashboard"}),(0,Yn.jsx)("button",{onClick:()=>_r(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),Rr?(0,Yn.jsx)($n,{requests:[],onRefresh:()=>{}}):(0,Yn.jsx)("p",{className:"p-6",children:"Loading Agent Data..."})]})}),Sr&&f&&"admin"===f.role&&(0,Yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Yn.jsxs)("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Yn.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Yn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Yn.jsx)("h2",{className:"text-2xl font-semibold",children:"\ud83d\udee1\ufe0f Admin Dashboard"}),(0,Yn.jsx)("button",{onClick:()=>Cr(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),(0,Yn.jsx)("div",{className:"p-6",children:(0,Yn.jsx)(na,{})})]})}),Lr&&(0,Yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Yn.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Yn.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Yn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Yn.jsx)("h2",{className:"text-2xl font-semibold",children:"\ud83d\udcc8 Market Prices"}),(0,Yn.jsx)("button",{onClick:()=>Or(!1),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]})}),(0,Yn.jsxs)("div",{className:"p-6",children:[(0,Yn.jsx)("div",{className:"mb-6",children:(0,Yn.jsx)("p",{className:"text-gray-600",children:"Current market prices for agricultural products. Prices are updated regularly based on market conditions."})}),0===Ar.length?(0,Yn.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Yn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,Yn.jsx)("p",{children:"Loading market prices..."})]}):(0,Yn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Ar.map(((e,t)=>(0,Yn.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:(0,Yn.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("h3",{className:"font-semibold text-gray-800",children:e.product}),(0,Yn.jsx)("div",{className:"text-xs text-gray-500 capitalize",children:e.category.replace("_"," ")})]}),(0,Yn.jsxs)("div",{className:"text-right",children:[(0,Yn.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:["\u20a6",e.price.toLocaleString()]}),(0,Yn.jsx)("div",{className:"text-sm font-medium ".concat(e.trend.startsWith("+")?"text-green-600":"text-red-600"),children:e.trend})]})]})},t)))}),(0,Yn.jsx)("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Yn.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,Yn.jsx)("strong",{children:"Note:"})," Prices are indicative and may vary based on quality, location, and market conditions. Use these as reference for your pricing decisions."]})})]})]})}),Xt&&(0,Yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Yn.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,Yn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Yn.jsx)("h3",{className:"text-xl font-semibold",children:"\ud83c\udf31 Create Community"}),(0,Yn.jsx)("button",{onClick:()=>Zt(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,Yn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=new FormData(e.target),r={name:t.get("name"),description:t.get("description"),category:"General",is_private:!1};try{const e=localStorage.getItem("token"),t=await fetch("".concat("https://mvp-2-u8e9.onrender.com","/api/communities"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(r)});if(t.ok)alert("Community created successfully!"),Zt(!1),jr((e=>e+1));else{const e=await t.json();alert(e.detail||"Failed to create community")}}catch(n){alert("Error creating community: "+n.message)}},children:[(0,Yn.jsxs)("div",{className:"space-y-4",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Community Name"}),(0,Yn.jsx)("input",{type:"text",name:"name",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"e.g. Lagos Rice Farmers"})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio / Description"}),(0,Yn.jsx)("textarea",{name:"description",required:!0,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"What is this community about?"})]})]}),(0,Yn.jsxs)("div",{className:"flex space-x-3 mt-6",children:[(0,Yn.jsx)("button",{type:"button",onClick:()=>Zt(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Yn.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700",children:"Create Group"})]})]})]})}),er&&(0,Yn.jsx)(sl,{}),mr&&(0,Yn.jsx)(ol,{}),Jr&&(0,Yn.jsx)(ll,{}),(0,Yn.jsx)(Jn,{isOpen:Y,onClose:()=>$(!1),initialType:J,userProfile:f,onSubmit:()=>{$(!1)}}),Xr&&(0,Yn.jsx)(il,{}),an&&(0,Yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Yn.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-6xl h-[90vh] overflow-hidden flex flex-col",children:[(0,Yn.jsxs)("div",{className:"p-4 border-b flex justify-between items-center bg-gray-50",children:[(0,Yn.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Marketplace Transactions"}),(0,Yn.jsx)("button",{onClick:()=>sn(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,Yn.jsx)("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50",children:(0,Yn.jsx)($n,{requests:ln,onMakeOffer:async(e,t)=>{try{const r=await fetch("".concat(p,"/api/requests/").concat(e,"/offers"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify(t)});if(r.ok)alert("Offer submitted successfully!"),rl();else{const e=await r.json();alert("Failed to submit offer: ".concat(e.detail||"Unknown error"))}}catch(r){console.error("Error making offer:",r),alert("Failed to submit offer")}},onRefresh:rl})})]})}),cn&&(0,Yn.jsx)("div",{className:"fixed inset-0 bg-white z-50 overflow-y-auto",children:(0,Yn.jsx)(Qn,{userRole:null===f||void 0===f?void 0:f.role,onClose:()=>dn(!1)})}),dt&&(0,Yn.jsx)(Gn,{isOpen:dt,onClose:()=>ut(!1),userProfile:f})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));const fa=()=>{const[e,t]=(0,a.useState)(""),[r,n]=(0,a.useState)(""),[s,l]=(0,a.useState)(""),[o,i]=(0,a.useState)(!1);return(0,Yn.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:(0,Yn.jsxs)("div",{className:"max-w-md w-full bg-zinc-900 rounded-xl border border-zinc-800 p-8 shadow-2xl",children:[(0,Yn.jsxs)("div",{className:"text-center mb-8",children:[(0,Yn.jsx)("h1",{className:"text-3xl font-bold text-green-500 mb-2",children:"Pyramyd Admin"}),(0,Yn.jsx)("p",{className:"text-zinc-400",children:"Secure Access Log In"})]}),s&&(0,Yn.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 text-red-500 px-4 py-3 rounded-lg mb-6 text-sm",children:s}),(0,Yn.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),i(!0),l("");try{const t=await Hn.post("".concat("https://mvp-2-u8e9.onrender.com","/api/auth/login"),{email_or_phone:e,password:r}),{token:n,user:a}=t.data;if("admin"!==a.role)return l("Access denied. Admin privileges required."),void i(!1);localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify(a)),window.location.href="/"}catch(s){var n,a;l((null===(n=s.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.detail)||"Login failed. Please check credentials.")}finally{i(!1)}},className:"space-y-6",children:[(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-zinc-400 text-sm font-medium mb-2",children:"Admin Email"}),(0,Yn.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-green-500 transition-colors",placeholder:"admin@pyramydhub.com",required:!0})]}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)("label",{className:"block text-zinc-400 text-sm font-medium mb-2",children:"Password"}),(0,Yn.jsx)("input",{type:"password",value:r,onChange:e=>n(e.target.value),className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-green-500 transition-colors",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0})]}),(0,Yn.jsx)("button",{type:"submit",disabled:o,className:"w-full bg-green-500 hover:bg-green-400 text-black font-bold py-3 rounded-lg transition-colors ".concat(o?"opacity-50 cursor-not-allowed":""),children:o?"Authenticating...":"Access Dashboard"})]})]})})};class ha extends a.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t}),console.error("Uncaught error:",e,t)}render(){return this.state.hasError?(0,Yn.jsxs)("div",{style:{padding:"20px",fontFamily:"monospace",color:"red"},children:[(0,Yn.jsx)("h1",{children:"Something went wrong."}),(0,Yn.jsxs)("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),(0,Yn.jsx)("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}const xa=ha;s.createRoot(document.getElementById("root")).render((0,Yn.jsx)(a.StrictMode,{children:(0,Yn.jsx)(xa,{children:(0,Yn.jsx)(ra,{children:(0,Yn.jsx)(mt,{children:(0,Yn.jsxs)(Te,{children:[(0,Yn.jsx)(Pe,{path:"/pyadmin",element:(0,Yn.jsx)(fa,{})}),(0,Yn.jsx)(Pe,{path:"*",element:(0,Yn.jsx)(pa,{})})]})})})})})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()})).catch((e=>{console.error(e.message)}))})();
//# sourceMappingURL=main.e41525ca.js.map